# ============================================================================
# GEMINI CONFIGURATION FOR BEAT ANALYSIS
# ============================================================================
# CRITICAL: These settings are tuned for structured JSON output in beat analysis

# Model: gemini-2.5-flash is tested and working (Jan 2026)
VITE_GEMINI_MODEL=gemini-2.5-flash
GEMINI_MODEL=gemini-2.5-flash

# Temperature: MUST be 0.1 for deterministic structured output
# Higher values (0.7-1.0) cause verbose output that exceeds token limits
VITE_GEMINI_TEMPERATURE=0.1
GEMINI_TEMPERATURE=0.1

# Max Tokens: 65536 is Gemini Flash's actual output limit
# Beat analysis with full script text requires high capacity
VITE_GEMINI_MAX_TOKENS=65536
GEMINI_MAX_TOKENS=65536

# API Keys
VITE_GEMINI_API_KEY=your_gemini_api_key_here
GEMINI_API_KEY=your_gemini_api_key_here

# ============================================================================
# STORYSWARM INTEGRATION (OPTIONAL - ENHANCED PROMPT GENERATION)
# ============================================================================
# StorySwarm provides rich narrative prompts via multi-agent pipeline:
# - Director Agent: Emotional vision and focal points
# - Cinematographer Agent: Shot type, lighting, framing
# - Stylist Agent: Character appearance, LoRA triggers
# - SetDesigner Agent: Location artifacts, database validation
# - PromptWeaver Agent: Narrative synthesis

# API URL (default: localhost:8050)
VITE_STORYSWARM_API_URL=http://localhost:8050
STORYSWARM_API_URL=http://localhost:8050

# Prompt Generation Mode (controlled via UI toggle at runtime)
# - "storyart": Generate prompts locally (default, always works)
# - "storyswarm": Use StorySwarm API for enhanced prompts (requires StorySwarm running)
VITE_PROMPT_GENERATION_MODE=storyart
PROMPT_GENERATION_MODE=storyart

# Performance Settings
STORYSWARM_TIMEOUT=300000  # 5 minutes
STORYSWARM_RETRY_ATTEMPTS=3
STORYSWARM_RETRY_DELAY=2000  # 2 seconds (exponential backoff)

# ============================================================================
# USAGE NOTES
# ============================================================================
# When StorySwarm mode enabled:
# 1. StoryArt analyzes script and generates beats (12-20 per scene)
# 2. Beats sent to StorySwarm API for prompt generation
# 3. StorySwarm returns rich narrative prompts (100-150 tokens)
# 4. If StorySwarm unavailable, automatically falls back to local generation
# 5. "Create Images" workflow continues unchanged
#
# Quality Comparison:
# - StoryArt: 50-80 token prompts, list-based descriptors
# - StorySwarm: 100-150 token prompts, prose narrative with emotional context
#
# For more details, see: docs/STORYSWARM_INTEGRATION_PLAN_V2.md
