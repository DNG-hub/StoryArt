(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&s(m)}).observe(document,{childList:!0,subtree:!0});function o(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function s(u){if(u.ep)return;u.ep=!0;const d=o(u);fetch(u.href,d)}})();function Vm(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var Br={exports:{}},Pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cp;function zy(){if(cp)return Pl;cp=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function o(s,u,d){var m=null;if(d!==void 0&&(m=""+d),u.key!==void 0&&(m=""+u.key),"key"in u){d={};for(var g in u)g!=="key"&&(d[g]=u[g])}else d=u;return u=d.ref,{$$typeof:l,type:s,key:m,ref:u!==void 0?u:null,props:d}}return Pl.Fragment=n,Pl.jsx=o,Pl.jsxs=o,Pl}var fp;function By(){return fp||(fp=1,Br.exports=zy()),Br.exports}var M=By(),Vr={exports:{}},re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dp;function Vy(){if(dp)return re;dp=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),_=Symbol.iterator;function D(R){return R===null||typeof R!="object"?null:(R=_&&R[_]||R["@@iterator"],typeof R=="function"?R:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,Y={};function J(R,H,F){this.props=R,this.context=H,this.refs=Y,this.updater=F||z}J.prototype.isReactComponent={},J.prototype.setState=function(R,H){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,H,"setState")},J.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function O(){}O.prototype=J.prototype;function V(R,H,F){this.props=R,this.context=H,this.refs=Y,this.updater=F||z}var X=V.prototype=new O;X.constructor=V,B(X,J.prototype),X.isPureReactComponent=!0;var K=Array.isArray;function ee(){}var P={H:null,A:null,T:null,S:null},oe=Object.prototype.hasOwnProperty;function Q(R,H,F){var $=F.ref;return{$$typeof:l,type:R,key:H,ref:$!==void 0?$:null,props:F}}function le(R,H){return Q(R.type,H,R.props)}function de(R){return typeof R=="object"&&R!==null&&R.$$typeof===l}function se(R){var H={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(F){return H[F]})}var qe=/\/+/g;function at(R,H){return typeof R=="object"&&R!==null&&R.key!=null?se(""+R.key):H.toString(36)}function Ze(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(ee,ee):(R.status="pending",R.then(function(H){R.status==="pending"&&(R.status="fulfilled",R.value=H)},function(H){R.status==="pending"&&(R.status="rejected",R.reason=H)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function w(R,H,F,$,ue){var pe=typeof R;(pe==="undefined"||pe==="boolean")&&(R=null);var Ce=!1;if(R===null)Ce=!0;else switch(pe){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(R.$$typeof){case l:case n:Ce=!0;break;case T:return Ce=R._init,w(Ce(R._payload),H,F,$,ue)}}if(Ce)return ue=ue(R),Ce=$===""?"."+at(R,0):$,K(ue)?(F="",Ce!=null&&(F=Ce.replace(qe,"$&/")+"/"),w(ue,H,F,"",function(Ki){return Ki})):ue!=null&&(de(ue)&&(ue=le(ue,F+(ue.key==null||R&&R.key===ue.key?"":(""+ue.key).replace(qe,"$&/")+"/")+Ce)),H.push(ue)),1;Ce=0;var lt=$===""?".":$+":";if(K(R))for(var Be=0;Be<R.length;Be++)$=R[Be],pe=lt+at($,Be),Ce+=w($,H,F,pe,ue);else if(Be=D(R),typeof Be=="function")for(R=Be.call(R),Be=0;!($=R.next()).done;)$=$.value,pe=lt+at($,Be++),Ce+=w($,H,F,pe,ue);else if(pe==="object"){if(typeof R.then=="function")return w(Ze(R),H,F,$,ue);throw H=String(R),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function k(R,H,F){if(R==null)return R;var $=[],ue=0;return w(R,$,"","",function(pe){return H.call(F,pe,ue++)}),$}function ae(R){if(R._status===-1){var H=R._result;H=H(),H.then(function(F){(R._status===0||R._status===-1)&&(R._status=1,R._result=F)},function(F){(R._status===0||R._status===-1)&&(R._status=2,R._result=F)}),R._status===-1&&(R._status=0,R._result=H)}if(R._status===1)return R._result.default;throw R._result}var Me=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},De={map:k,forEach:function(R,H,F){k(R,function(){H.apply(this,arguments)},F)},count:function(R){var H=0;return k(R,function(){H++}),H},toArray:function(R){return k(R,function(H){return H})||[]},only:function(R){if(!de(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return re.Activity=S,re.Children=De,re.Component=J,re.Fragment=o,re.Profiler=u,re.PureComponent=V,re.StrictMode=s,re.Suspense=y,re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,re.__COMPILER_RUNTIME={__proto__:null,c:function(R){return P.H.useMemoCache(R)}},re.cache=function(R){return function(){return R.apply(null,arguments)}},re.cacheSignal=function(){return null},re.cloneElement=function(R,H,F){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var $=B({},R.props),ue=R.key;if(H!=null)for(pe in H.key!==void 0&&(ue=""+H.key),H)!oe.call(H,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&H.ref===void 0||($[pe]=H[pe]);var pe=arguments.length-2;if(pe===1)$.children=F;else if(1<pe){for(var Ce=Array(pe),lt=0;lt<pe;lt++)Ce[lt]=arguments[lt+2];$.children=Ce}return Q(R.type,ue,$)},re.createContext=function(R){return R={$$typeof:m,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:d,_context:R},R},re.createElement=function(R,H,F){var $,ue={},pe=null;if(H!=null)for($ in H.key!==void 0&&(pe=""+H.key),H)oe.call(H,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(ue[$]=H[$]);var Ce=arguments.length-2;if(Ce===1)ue.children=F;else if(1<Ce){for(var lt=Array(Ce),Be=0;Be<Ce;Be++)lt[Be]=arguments[Be+2];ue.children=lt}if(R&&R.defaultProps)for($ in Ce=R.defaultProps,Ce)ue[$]===void 0&&(ue[$]=Ce[$]);return Q(R,pe,ue)},re.createRef=function(){return{current:null}},re.forwardRef=function(R){return{$$typeof:g,render:R}},re.isValidElement=de,re.lazy=function(R){return{$$typeof:T,_payload:{_status:-1,_result:R},_init:ae}},re.memo=function(R,H){return{$$typeof:h,type:R,compare:H===void 0?null:H}},re.startTransition=function(R){var H=P.T,F={};P.T=F;try{var $=R(),ue=P.S;ue!==null&&ue(F,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(ee,Me)}catch(pe){Me(pe)}finally{H!==null&&F.types!==null&&(H.types=F.types),P.T=H}},re.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},re.use=function(R){return P.H.use(R)},re.useActionState=function(R,H,F){return P.H.useActionState(R,H,F)},re.useCallback=function(R,H){return P.H.useCallback(R,H)},re.useContext=function(R){return P.H.useContext(R)},re.useDebugValue=function(){},re.useDeferredValue=function(R,H){return P.H.useDeferredValue(R,H)},re.useEffect=function(R,H){return P.H.useEffect(R,H)},re.useEffectEvent=function(R){return P.H.useEffectEvent(R)},re.useId=function(){return P.H.useId()},re.useImperativeHandle=function(R,H,F){return P.H.useImperativeHandle(R,H,F)},re.useInsertionEffect=function(R,H){return P.H.useInsertionEffect(R,H)},re.useLayoutEffect=function(R,H){return P.H.useLayoutEffect(R,H)},re.useMemo=function(R,H){return P.H.useMemo(R,H)},re.useOptimistic=function(R,H){return P.H.useOptimistic(R,H)},re.useReducer=function(R,H,F){return P.H.useReducer(R,H,F)},re.useRef=function(R){return P.H.useRef(R)},re.useState=function(R){return P.H.useState(R)},re.useSyncExternalStore=function(R,H,F){return P.H.useSyncExternalStore(R,H,F)},re.useTransition=function(){return P.H.useTransition()},re.version="19.2.0",re}var pp;function tu(){return pp||(pp=1,Vr.exports=Vy()),Vr.exports}var Oe=tu();const Py=Vm(Oe);var Pr={exports:{}},Ol={},Or={exports:{}},kr={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mp;function Oy(){return mp||(mp=1,(function(l){function n(w,k){var ae=w.length;w.push(k);e:for(;0<ae;){var Me=ae-1>>>1,De=w[Me];if(0<u(De,k))w[Me]=k,w[ae]=De,ae=Me;else break e}}function o(w){return w.length===0?null:w[0]}function s(w){if(w.length===0)return null;var k=w[0],ae=w.pop();if(ae!==k){w[0]=ae;e:for(var Me=0,De=w.length,R=De>>>1;Me<R;){var H=2*(Me+1)-1,F=w[H],$=H+1,ue=w[$];if(0>u(F,ae))$<De&&0>u(ue,F)?(w[Me]=ue,w[$]=ae,Me=$):(w[Me]=F,w[H]=ae,Me=H);else if($<De&&0>u(ue,ae))w[Me]=ue,w[$]=ae,Me=$;else break e}}return k}function u(w,k){var ae=w.sortIndex-k.sortIndex;return ae!==0?ae:w.id-k.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;l.unstable_now=function(){return d.now()}}else{var m=Date,g=m.now();l.unstable_now=function(){return m.now()-g}}var y=[],h=[],T=1,S=null,_=3,D=!1,z=!1,B=!1,Y=!1,J=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function X(w){for(var k=o(h);k!==null;){if(k.callback===null)s(h);else if(k.startTime<=w)s(h),k.sortIndex=k.expirationTime,n(y,k);else break;k=o(h)}}function K(w){if(B=!1,X(w),!z)if(o(y)!==null)z=!0,ee||(ee=!0,se());else{var k=o(h);k!==null&&Ze(K,k.startTime-w)}}var ee=!1,P=-1,oe=5,Q=-1;function le(){return Y?!0:!(l.unstable_now()-Q<oe)}function de(){if(Y=!1,ee){var w=l.unstable_now();Q=w;var k=!0;try{e:{z=!1,B&&(B=!1,O(P),P=-1),D=!0;var ae=_;try{t:{for(X(w),S=o(y);S!==null&&!(S.expirationTime>w&&le());){var Me=S.callback;if(typeof Me=="function"){S.callback=null,_=S.priorityLevel;var De=Me(S.expirationTime<=w);if(w=l.unstable_now(),typeof De=="function"){S.callback=De,X(w),k=!0;break t}S===o(y)&&s(y),X(w)}else s(y);S=o(y)}if(S!==null)k=!0;else{var R=o(h);R!==null&&Ze(K,R.startTime-w),k=!1}}break e}finally{S=null,_=ae,D=!1}k=void 0}}finally{k?se():ee=!1}}}var se;if(typeof V=="function")se=function(){V(de)};else if(typeof MessageChannel<"u"){var qe=new MessageChannel,at=qe.port2;qe.port1.onmessage=de,se=function(){at.postMessage(null)}}else se=function(){J(de,0)};function Ze(w,k){P=J(function(){w(l.unstable_now())},k)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(w){w.callback=null},l.unstable_forceFrameRate=function(w){0>w||125<w?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<w?Math.floor(1e3/w):5},l.unstable_getCurrentPriorityLevel=function(){return _},l.unstable_next=function(w){switch(_){case 1:case 2:case 3:var k=3;break;default:k=_}var ae=_;_=k;try{return w()}finally{_=ae}},l.unstable_requestPaint=function(){Y=!0},l.unstable_runWithPriority=function(w,k){switch(w){case 1:case 2:case 3:case 4:case 5:break;default:w=3}var ae=_;_=w;try{return k()}finally{_=ae}},l.unstable_scheduleCallback=function(w,k,ae){var Me=l.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?Me+ae:Me):ae=Me,w){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=ae+De,w={id:T++,callback:k,priorityLevel:w,startTime:ae,expirationTime:De,sortIndex:-1},ae>Me?(w.sortIndex=ae,n(h,w),o(y)===null&&w===o(h)&&(B?(O(P),P=-1):B=!0,Ze(K,ae-Me))):(w.sortIndex=De,n(y,w),z||D||(z=!0,ee||(ee=!0,se()))),w},l.unstable_shouldYield=le,l.unstable_wrapCallback=function(w){var k=_;return function(){var ae=_;_=k;try{return w.apply(this,arguments)}finally{_=ae}}}})(kr)),kr}var hp;function ky(){return hp||(hp=1,Or.exports=Oy()),Or.exports}var Yr={exports:{}},nt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gp;function Yy(){if(gp)return nt;gp=1;var l=tu();function n(y){var h="https://react.dev/errors/"+y;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)h+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(n(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},u=Symbol.for("react.portal");function d(y,h,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:S==null?null:""+S,children:y,containerInfo:h,implementation:T}}var m=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,h){if(y==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return nt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,nt.createPortal=function(y,h){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(n(299));return d(y,h,null,T)},nt.flushSync=function(y){var h=m.T,T=s.p;try{if(m.T=null,s.p=2,y)return y()}finally{m.T=h,s.p=T,s.d.f()}},nt.preconnect=function(y,h){typeof y=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,s.d.C(y,h))},nt.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},nt.preinit=function(y,h){if(typeof y=="string"&&h&&typeof h.as=="string"){var T=h.as,S=g(T,h.crossOrigin),_=typeof h.integrity=="string"?h.integrity:void 0,D=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;T==="style"?s.d.S(y,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:S,integrity:_,fetchPriority:D}):T==="script"&&s.d.X(y,{crossOrigin:S,integrity:_,fetchPriority:D,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},nt.preinitModule=function(y,h){if(typeof y=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var T=g(h.as,h.crossOrigin);s.d.M(y,{crossOrigin:T,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&s.d.M(y)},nt.preload=function(y,h){if(typeof y=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var T=h.as,S=g(T,h.crossOrigin);s.d.L(y,T,{crossOrigin:S,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},nt.preloadModule=function(y,h){if(typeof y=="string")if(h){var T=g(h.as,h.crossOrigin);s.d.m(y,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:T,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else s.d.m(y)},nt.requestFormReset=function(y){s.d.r(y)},nt.unstable_batchedUpdates=function(y,h){return y(h)},nt.useFormState=function(y,h,T){return m.H.useFormState(y,h,T)},nt.useFormStatus=function(){return m.H.useHostTransitionStatus()},nt.version="19.2.0",nt}var yp;function Jy(){if(yp)return Yr.exports;yp=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),Yr.exports=Yy(),Yr.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vp;function Fy(){if(vp)return Ol;vp=1;var l=ky(),n=tu(),o=Jy();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(d(e)!==e)throw Error(s(188))}function h(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(s(188));return t!==e?null:e}for(var i=e,a=t;;){var c=i.return;if(c===null)break;var p=c.alternate;if(p===null){if(a=c.return,a!==null){i=a;continue}break}if(c.child===p.child){for(p=c.child;p;){if(p===i)return y(c),e;if(p===a)return y(c),t;p=p.sibling}throw Error(s(188))}if(i.return!==a.return)i=c,a=p;else{for(var v=!1,E=c.child;E;){if(E===i){v=!0,i=c,a=p;break}if(E===a){v=!0,a=c,i=p;break}E=E.sibling}if(!v){for(E=p.child;E;){if(E===i){v=!0,i=p,a=c;break}if(E===a){v=!0,a=p,i=c;break}E=E.sibling}if(!v)throw Error(s(189))}}if(i.alternate!==a)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?e:t}function T(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=T(e),t!==null)return t;e=e.sibling}return null}var S=Object.assign,_=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),V=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),le=Symbol.for("react.memo_cache_sentinel"),de=Symbol.iterator;function se(e){return e===null||typeof e!="object"?null:(e=de&&e[de]||e["@@iterator"],typeof e=="function"?e:null)}var qe=Symbol.for("react.client.reference");function at(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===qe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case B:return"Fragment";case J:return"Profiler";case Y:return"StrictMode";case K:return"Suspense";case ee:return"SuspenseList";case Q:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case z:return"Portal";case V:return e.displayName||"Context";case O:return(e._context.displayName||"Context")+".Consumer";case X:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case P:return t=e.displayName||null,t!==null?t:at(e.type)||"Memo";case oe:t=e._payload,e=e._init;try{return at(e(t))}catch{}}return null}var Ze=Array.isArray,w=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},Me=[],De=-1;function R(e){return{current:e}}function H(e){0>De||(e.current=Me[De],Me[De]=null,De--)}function F(e,t){De++,Me[De]=e.current,e.current=t}var $=R(null),ue=R(null),pe=R(null),Ce=R(null);function lt(e,t){switch(F(pe,t),F(ue,e),F($,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?wd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=wd(t),e=Ld(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}H($),F($,e)}function Be(){H($),H(ue),H(pe)}function Ki(e){e.memoizedState!==null&&F(Ce,e);var t=$.current,i=Ld(t,e.type);t!==i&&(F(ue,e),F($,i))}function Fl(e){ue.current===e&&(H($),H(ue)),Ce.current===e&&(H(Ce),Hl._currentValue=ae)}var Ea,ru;function Gn(e){if(Ea===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);Ea=t&&t[1]||"",ru=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ea+e+ru}var _a=!1;function Ca(e,t){if(!e||_a)return"";_a=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var q=function(){throw Error()};if(Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(U){var I=U}Reflect.construct(e,[],q)}else{try{q.call()}catch(U){I=U}e.call(q.prototype)}}else{try{throw Error()}catch(U){I=U}(q=e())&&typeof q.catch=="function"&&q.catch(function(){})}}catch(U){if(U&&I&&typeof U.stack=="string")return[U.stack,I.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=a.DetermineComponentFrameRoot(),v=p[0],E=p[1];if(v&&E){var C=v.split(`
`),b=E.split(`
`);for(c=a=0;a<C.length&&!C[a].includes("DetermineComponentFrameRoot");)a++;for(;c<b.length&&!b[c].includes("DetermineComponentFrameRoot");)c++;if(a===C.length||c===b.length)for(a=C.length-1,c=b.length-1;1<=a&&0<=c&&C[a]!==b[c];)c--;for(;1<=a&&0<=c;a--,c--)if(C[a]!==b[c]){if(a!==1||c!==1)do if(a--,c--,0>c||C[a]!==b[c]){var L=`
`+C[a].replace(" at new "," at ");return e.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",e.displayName)),L}while(1<=a&&0<=c);break}}}finally{_a=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?Gn(i):""}function hh(e,t){switch(e.tag){case 26:case 27:case 5:return Gn(e.type);case 16:return Gn("Lazy");case 13:return e.child!==t&&t!==null?Gn("Suspense Fallback"):Gn("Suspense");case 19:return Gn("SuspenseList");case 0:case 15:return Ca(e.type,!1);case 11:return Ca(e.type.render,!1);case 1:return Ca(e.type,!0);case 31:return Gn("Activity");default:return""}}function uu(e){try{var t="",i=null;do t+=hh(e,i),i=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Aa=Object.prototype.hasOwnProperty,Ra=l.unstable_scheduleCallback,Ma=l.unstable_cancelCallback,gh=l.unstable_shouldYield,yh=l.unstable_requestPaint,mt=l.unstable_now,vh=l.unstable_getCurrentPriorityLevel,cu=l.unstable_ImmediatePriority,fu=l.unstable_UserBlockingPriority,Xl=l.unstable_NormalPriority,Th=l.unstable_LowPriority,du=l.unstable_IdlePriority,Sh=l.log,Eh=l.unstable_setDisableYieldValue,Qi=null,ht=null;function un(e){if(typeof Sh=="function"&&Eh(e),ht&&typeof ht.setStrictMode=="function")try{ht.setStrictMode(Qi,e)}catch{}}var gt=Math.clz32?Math.clz32:Ah,_h=Math.log,Ch=Math.LN2;function Ah(e){return e>>>=0,e===0?32:31-(_h(e)/Ch|0)|0}var Kl=256,Ql=262144,Zl=4194304;function qn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Wl(e,t,i){var a=e.pendingLanes;if(a===0)return 0;var c=0,p=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var E=a&134217727;return E!==0?(a=E&~p,a!==0?c=qn(a):(v&=E,v!==0?c=qn(v):i||(i=E&~e,i!==0&&(c=qn(i))))):(E=a&~p,E!==0?c=qn(E):v!==0?c=qn(v):i||(i=a&~e,i!==0&&(c=qn(i)))),c===0?0:t!==0&&t!==c&&(t&p)===0&&(p=c&-c,i=t&-t,p>=i||p===32&&(i&4194048)!==0)?t:c}function Zi(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Rh(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pu(){var e=Zl;return Zl<<=1,(Zl&62914560)===0&&(Zl=4194304),e}function Na(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Wi(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Mh(e,t,i,a,c,p){var v=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,b=e.hiddenUpdates;for(i=v&~i;0<i;){var L=31-gt(i),q=1<<L;E[L]=0,C[L]=-1;var I=b[L];if(I!==null)for(b[L]=null,L=0;L<I.length;L++){var U=I[L];U!==null&&(U.lane&=-536870913)}i&=~q}a!==0&&mu(e,a,0),p!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=p&~(v&~t))}function mu(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-gt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|i&261930}function hu(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var a=31-gt(i),c=1<<a;c&t|e[a]&t&&(e[a]|=t),i&=~c}}function gu(e,t){var i=t&-t;return i=(i&42)!==0?1:xa(i),(i&(e.suspendedLanes|t))!==0?0:i}function xa(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ba(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function yu(){var e=k.p;return e!==0?e:(e=window.event,e===void 0?32:ip(e.type))}function vu(e,t){var i=k.p;try{return k.p=e,t()}finally{k.p=i}}var cn=Math.random().toString(36).slice(2),We="__reactFiber$"+cn,st="__reactProps$"+cn,ni="__reactContainer$"+cn,Da="__reactEvents$"+cn,Nh="__reactListeners$"+cn,xh="__reactHandles$"+cn,Tu="__reactResources$"+cn,$i="__reactMarker$"+cn;function Ia(e){delete e[We],delete e[st],delete e[Da],delete e[Nh],delete e[xh]}function ii(e){var t=e[We];if(t)return t;for(var i=e.parentNode;i;){if(t=i[ni]||i[We]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Pd(e);e!==null;){if(i=e[We])return i;e=Pd(e)}return t}e=i,i=e.parentNode}return null}function li(e){if(e=e[We]||e[ni]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ji(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function oi(e){var t=e[Tu];return t||(t=e[Tu]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ke(e){e[$i]=!0}var Su=new Set,Eu={};function Hn(e,t){ai(e,t),ai(e+"Capture",t)}function ai(e,t){for(Eu[e]=t,e=0;e<t.length;e++)Su.add(t[e])}var bh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_u={},Cu={};function Dh(e){return Aa.call(Cu,e)?!0:Aa.call(_u,e)?!1:bh.test(e)?Cu[e]=!0:(_u[e]=!0,!1)}function $l(e,t,i){if(Dh(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function jl(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function kt(e,t,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+a)}}function At(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Au(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ih(e,t,i){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,p=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(v){i=""+v,p.call(this,v)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return i},setValue:function(v){i=""+v},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ua(e){if(!e._valueTracker){var t=Au(e)?"checked":"value";e._valueTracker=Ih(e,t,""+e[t])}}function Ru(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),a="";return e&&(a=Au(e)?e.checked?"true":"false":e.value),e=a,e!==i?(t.setValue(e),!0):!1}function eo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Uh=/[\n"\\]/g;function Rt(e){return e.replace(Uh,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function wa(e,t,i,a,c,p,v,E){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),t!=null?v==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+At(t)):e.value!==""+At(t)&&(e.value=""+At(t)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),t!=null?La(e,v,At(t)):i!=null?La(e,v,At(i)):a!=null&&e.removeAttribute("value"),c==null&&p!=null&&(e.defaultChecked=!!p),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+At(E):e.removeAttribute("name")}function Mu(e,t,i,a,c,p,v,E){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),t!=null||i!=null){if(!(p!=="submit"&&p!=="reset"||t!=null)){Ua(e);return}i=i!=null?""+At(i):"",t=t!=null?""+At(t):i,E||t===e.value||(e.value=t),e.defaultValue=t}a=a??c,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=E?e.checked:!!a,e.defaultChecked=!!a,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v),Ua(e)}function La(e,t,i){t==="number"&&eo(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function si(e,t,i,a){if(e=e.options,t){t={};for(var c=0;c<i.length;c++)t["$"+i[c]]=!0;for(i=0;i<e.length;i++)c=t.hasOwnProperty("$"+e[i].value),e[i].selected!==c&&(e[i].selected=c),c&&a&&(e[i].defaultSelected=!0)}else{for(i=""+At(i),t=null,c=0;c<e.length;c++){if(e[c].value===i){e[c].selected=!0,a&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Nu(e,t,i){if(t!=null&&(t=""+At(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+At(i):""}function xu(e,t,i,a){if(t==null){if(a!=null){if(i!=null)throw Error(s(92));if(Ze(a)){if(1<a.length)throw Error(s(93));a=a[0]}i=a}i==null&&(i=""),t=i}i=At(t),e.defaultValue=i,a=e.textContent,a===i&&a!==""&&a!==null&&(e.value=a),Ua(e)}function ri(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var wh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bu(e,t,i){var a=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,i):typeof i!="number"||i===0||wh.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function Du(e,t,i){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,i!=null){for(var a in i)!i.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var c in t)a=t[c],t.hasOwnProperty(c)&&i[c]!==a&&bu(e,c,a)}else for(var p in t)t.hasOwnProperty(p)&&bu(e,p,t[p])}function Ga(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function to(e){return Gh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Yt(){}var qa=null;function Ha(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ui=null,ci=null;function Iu(e){var t=li(e);if(t&&(e=t.stateNode)){var i=e[st]||null;e:switch(e=t.stateNode,t.type){case"input":if(wa(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Rt(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var a=i[t];if(a!==e&&a.form===e.form){var c=a[st]||null;if(!c)throw Error(s(90));wa(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<i.length;t++)a=i[t],a.form===e.form&&Ru(a)}break e;case"textarea":Nu(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&si(e,!!i.multiple,t,!1)}}}var za=!1;function Uu(e,t,i){if(za)return e(t,i);za=!0;try{var a=e(t);return a}finally{if(za=!1,(ui!==null||ci!==null)&&(ko(),ui&&(t=ui,e=ci,ci=ui=null,Iu(t),e)))for(t=0;t<e.length;t++)Iu(e[t])}}function el(e,t){var i=e.stateNode;if(i===null)return null;var a=i[st]||null;if(a===null)return null;i=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(s(231,t,typeof i));return i}var Jt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ba=!1;if(Jt)try{var tl={};Object.defineProperty(tl,"passive",{get:function(){Ba=!0}}),window.addEventListener("test",tl,tl),window.removeEventListener("test",tl,tl)}catch{Ba=!1}var fn=null,Va=null,no=null;function wu(){if(no)return no;var e,t=Va,i=t.length,a,c="value"in fn?fn.value:fn.textContent,p=c.length;for(e=0;e<i&&t[e]===c[e];e++);var v=i-e;for(a=1;a<=v&&t[i-a]===c[p-a];a++);return no=c.slice(e,1<a?1-a:void 0)}function io(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function lo(){return!0}function Lu(){return!1}function rt(e){function t(i,a,c,p,v){this._reactName=i,this._targetInst=c,this.type=a,this.nativeEvent=p,this.target=v,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(i=e[E],this[E]=i?i(p):p[E]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?lo:Lu,this.isPropagationStopped=Lu,this}return S(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=lo)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=lo)},persist:function(){},isPersistent:lo}),t}var zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oo=rt(zn),nl=S({},zn,{view:0,detail:0}),qh=rt(nl),Pa,Oa,il,ao=S({},nl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ya,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==il&&(il&&e.type==="mousemove"?(Pa=e.screenX-il.screenX,Oa=e.screenY-il.screenY):Oa=Pa=0,il=e),Pa)},movementY:function(e){return"movementY"in e?e.movementY:Oa}}),Gu=rt(ao),Hh=S({},ao,{dataTransfer:0}),zh=rt(Hh),Bh=S({},nl,{relatedTarget:0}),ka=rt(Bh),Vh=S({},zn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ph=rt(Vh),Oh=S({},zn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kh=rt(Oh),Yh=S({},zn,{data:0}),qu=rt(Yh),Jh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Xh[e])?!!t[e]:!1}function Ya(){return Kh}var Qh=S({},nl,{key:function(e){if(e.key){var t=Jh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=io(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Fh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ya,charCode:function(e){return e.type==="keypress"?io(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?io(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Zh=rt(Qh),Wh=S({},ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hu=rt(Wh),$h=S({},nl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ya}),jh=rt($h),eg=S({},zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),tg=rt(eg),ng=S({},ao,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ig=rt(ng),lg=S({},zn,{newState:0,oldState:0}),og=rt(lg),ag=[9,13,27,32],Ja=Jt&&"CompositionEvent"in window,ll=null;Jt&&"documentMode"in document&&(ll=document.documentMode);var sg=Jt&&"TextEvent"in window&&!ll,zu=Jt&&(!Ja||ll&&8<ll&&11>=ll),Bu=" ",Vu=!1;function Pu(e,t){switch(e){case"keyup":return ag.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ou(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fi=!1;function rg(e,t){switch(e){case"compositionend":return Ou(t);case"keypress":return t.which!==32?null:(Vu=!0,Bu);case"textInput":return e=t.data,e===Bu&&Vu?null:e;default:return null}}function ug(e,t){if(fi)return e==="compositionend"||!Ja&&Pu(e,t)?(e=wu(),no=Va=fn=null,fi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zu&&t.locale!=="ko"?null:t.data;default:return null}}var cg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ku(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!cg[e.type]:t==="textarea"}function Yu(e,t,i,a){ui?ci?ci.push(a):ci=[a]:ui=a,t=Zo(t,"onChange"),0<t.length&&(i=new oo("onChange","change",null,i,a),e.push({event:i,listeners:t}))}var ol=null,al=null;function fg(e){Nd(e,0)}function so(e){var t=ji(e);if(Ru(t))return e}function Ju(e,t){if(e==="change")return t}var Fu=!1;if(Jt){var Fa;if(Jt){var Xa="oninput"in document;if(!Xa){var Xu=document.createElement("div");Xu.setAttribute("oninput","return;"),Xa=typeof Xu.oninput=="function"}Fa=Xa}else Fa=!1;Fu=Fa&&(!document.documentMode||9<document.documentMode)}function Ku(){ol&&(ol.detachEvent("onpropertychange",Qu),al=ol=null)}function Qu(e){if(e.propertyName==="value"&&so(al)){var t=[];Yu(t,al,e,Ha(e)),Uu(fg,t)}}function dg(e,t,i){e==="focusin"?(Ku(),ol=t,al=i,ol.attachEvent("onpropertychange",Qu)):e==="focusout"&&Ku()}function pg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return so(al)}function mg(e,t){if(e==="click")return so(t)}function hg(e,t){if(e==="input"||e==="change")return so(t)}function gg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yt=typeof Object.is=="function"?Object.is:gg;function sl(e,t){if(yt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var c=i[a];if(!Aa.call(t,c)||!yt(e[c],t[c]))return!1}return!0}function Zu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wu(e,t){var i=Zu(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=t&&a>=t)return{node:i,offset:t-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Zu(i)}}function $u(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?$u(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ju(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=eo(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=eo(e.document)}return t}function Ka(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var yg=Jt&&"documentMode"in document&&11>=document.documentMode,di=null,Qa=null,rl=null,Za=!1;function ec(e,t,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Za||di==null||di!==eo(a)||(a=di,"selectionStart"in a&&Ka(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),rl&&sl(rl,a)||(rl=a,a=Zo(Qa,"onSelect"),0<a.length&&(t=new oo("onSelect","select",null,t,i),e.push({event:t,listeners:a}),t.target=di)))}function Bn(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var pi={animationend:Bn("Animation","AnimationEnd"),animationiteration:Bn("Animation","AnimationIteration"),animationstart:Bn("Animation","AnimationStart"),transitionrun:Bn("Transition","TransitionRun"),transitionstart:Bn("Transition","TransitionStart"),transitioncancel:Bn("Transition","TransitionCancel"),transitionend:Bn("Transition","TransitionEnd")},Wa={},tc={};Jt&&(tc=document.createElement("div").style,"AnimationEvent"in window||(delete pi.animationend.animation,delete pi.animationiteration.animation,delete pi.animationstart.animation),"TransitionEvent"in window||delete pi.transitionend.transition);function Vn(e){if(Wa[e])return Wa[e];if(!pi[e])return e;var t=pi[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in tc)return Wa[e]=t[i];return e}var nc=Vn("animationend"),ic=Vn("animationiteration"),lc=Vn("animationstart"),vg=Vn("transitionrun"),Tg=Vn("transitionstart"),Sg=Vn("transitioncancel"),oc=Vn("transitionend"),ac=new Map,$a="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$a.push("scrollEnd");function Gt(e,t){ac.set(e,t),Hn(t,[e])}var ro=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Mt=[],mi=0,ja=0;function uo(){for(var e=mi,t=ja=mi=0;t<e;){var i=Mt[t];Mt[t++]=null;var a=Mt[t];Mt[t++]=null;var c=Mt[t];Mt[t++]=null;var p=Mt[t];if(Mt[t++]=null,a!==null&&c!==null){var v=a.pending;v===null?c.next=c:(c.next=v.next,v.next=c),a.pending=c}p!==0&&sc(i,c,p)}}function co(e,t,i,a){Mt[mi++]=e,Mt[mi++]=t,Mt[mi++]=i,Mt[mi++]=a,ja|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function es(e,t,i,a){return co(e,t,i,a),fo(e)}function Pn(e,t){return co(e,null,null,t),fo(e)}function sc(e,t,i){e.lanes|=i;var a=e.alternate;a!==null&&(a.lanes|=i);for(var c=!1,p=e.return;p!==null;)p.childLanes|=i,a=p.alternate,a!==null&&(a.childLanes|=i),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(c=!0)),e=p,p=p.return;return e.tag===3?(p=e.stateNode,c&&t!==null&&(c=31-gt(i),e=p.hiddenUpdates,a=e[c],a===null?e[c]=[t]:a.push(t),t.lane=i|536870912),p):null}function fo(e){if(50<Dl)throw Dl=0,ur=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var hi={};function Eg(e,t,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vt(e,t,i,a){return new Eg(e,t,i,a)}function ts(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ft(e,t){var i=e.alternate;return i===null?(i=vt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function rc(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function po(e,t,i,a,c,p){var v=0;if(a=e,typeof e=="function")ts(e)&&(v=1);else if(typeof e=="string")v=My(e,i,$.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Q:return e=vt(31,i,t,c),e.elementType=Q,e.lanes=p,e;case B:return On(i.children,c,p,t);case Y:v=8,c|=24;break;case J:return e=vt(12,i,t,c|2),e.elementType=J,e.lanes=p,e;case K:return e=vt(13,i,t,c),e.elementType=K,e.lanes=p,e;case ee:return e=vt(19,i,t,c),e.elementType=ee,e.lanes=p,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case V:v=10;break e;case O:v=9;break e;case X:v=11;break e;case P:v=14;break e;case oe:v=16,a=null;break e}v=29,i=Error(s(130,e===null?"null":typeof e,"")),a=null}return t=vt(v,i,t,c),t.elementType=e,t.type=a,t.lanes=p,t}function On(e,t,i,a){return e=vt(7,e,a,t),e.lanes=i,e}function ns(e,t,i){return e=vt(6,e,null,t),e.lanes=i,e}function uc(e){var t=vt(18,null,null,0);return t.stateNode=e,t}function is(e,t,i){return t=vt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var cc=new WeakMap;function Nt(e,t){if(typeof e=="object"&&e!==null){var i=cc.get(e);return i!==void 0?i:(t={value:e,source:t,stack:uu(t)},cc.set(e,t),t)}return{value:e,source:t,stack:uu(t)}}var gi=[],yi=0,mo=null,ul=0,xt=[],bt=0,dn=null,Bt=1,Vt="";function Xt(e,t){gi[yi++]=ul,gi[yi++]=mo,mo=e,ul=t}function fc(e,t,i){xt[bt++]=Bt,xt[bt++]=Vt,xt[bt++]=dn,dn=e;var a=Bt;e=Vt;var c=32-gt(a)-1;a&=~(1<<c),i+=1;var p=32-gt(t)+c;if(30<p){var v=c-c%5;p=(a&(1<<v)-1).toString(32),a>>=v,c-=v,Bt=1<<32-gt(t)+c|i<<c|a,Vt=p+e}else Bt=1<<p|i<<c|a,Vt=e}function ls(e){e.return!==null&&(Xt(e,1),fc(e,1,0))}function os(e){for(;e===mo;)mo=gi[--yi],gi[yi]=null,ul=gi[--yi],gi[yi]=null;for(;e===dn;)dn=xt[--bt],xt[bt]=null,Vt=xt[--bt],xt[bt]=null,Bt=xt[--bt],xt[bt]=null}function dc(e,t){xt[bt++]=Bt,xt[bt++]=Vt,xt[bt++]=dn,Bt=t.id,Vt=t.overflow,dn=e}var $e=null,Ue=null,ve=!1,pn=null,Dt=!1,as=Error(s(519));function mn(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw cl(Nt(t,e)),as}function pc(e){var t=e.stateNode,i=e.type,a=e.memoizedProps;switch(t[We]=e,t[st]=a,i){case"dialog":he("cancel",t),he("close",t);break;case"iframe":case"object":case"embed":he("load",t);break;case"video":case"audio":for(i=0;i<Ul.length;i++)he(Ul[i],t);break;case"source":he("error",t);break;case"img":case"image":case"link":he("error",t),he("load",t);break;case"details":he("toggle",t);break;case"input":he("invalid",t),Mu(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":he("invalid",t);break;case"textarea":he("invalid",t),xu(t,a.value,a.defaultValue,a.children)}i=a.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||a.suppressHydrationWarning===!0||Id(t.textContent,i)?(a.popover!=null&&(he("beforetoggle",t),he("toggle",t)),a.onScroll!=null&&he("scroll",t),a.onScrollEnd!=null&&he("scrollend",t),a.onClick!=null&&(t.onclick=Yt),t=!0):t=!1,t||mn(e,!0)}function mc(e){for($e=e.return;$e;)switch($e.tag){case 5:case 31:case 13:Dt=!1;return;case 27:case 3:Dt=!0;return;default:$e=$e.return}}function vi(e){if(e!==$e)return!1;if(!ve)return mc(e),ve=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Ar(e.type,e.memoizedProps)),i=!i),i&&Ue&&mn(e),mc(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Ue=Vd(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Ue=Vd(e)}else t===27?(t=Ue,xn(e.type)?(e=br,br=null,Ue=e):Ue=t):Ue=$e?Ut(e.stateNode.nextSibling):null;return!0}function kn(){Ue=$e=null,ve=!1}function ss(){var e=pn;return e!==null&&(dt===null?dt=e:dt.push.apply(dt,e),pn=null),e}function cl(e){pn===null?pn=[e]:pn.push(e)}var rs=R(null),Yn=null,Kt=null;function hn(e,t,i){F(rs,t._currentValue),t._currentValue=i}function Qt(e){e._currentValue=rs.current,H(rs)}function us(e,t,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===i)break;e=e.return}}function cs(e,t,i,a){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var p=c.dependencies;if(p!==null){var v=c.child;p=p.firstContext;e:for(;p!==null;){var E=p;p=c;for(var C=0;C<t.length;C++)if(E.context===t[C]){p.lanes|=i,E=p.alternate,E!==null&&(E.lanes|=i),us(p.return,i,e),a||(v=null);break e}p=E.next}}else if(c.tag===18){if(v=c.return,v===null)throw Error(s(341));v.lanes|=i,p=v.alternate,p!==null&&(p.lanes|=i),us(v,i,e),v=null}else v=c.child;if(v!==null)v.return=c;else for(v=c;v!==null;){if(v===e){v=null;break}if(c=v.sibling,c!==null){c.return=v.return,v=c;break}v=v.return}c=v}}function Ti(e,t,i,a){e=null;for(var c=t,p=!1;c!==null;){if(!p){if((c.flags&524288)!==0)p=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var v=c.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=c.type;yt(c.pendingProps.value,v.value)||(e!==null?e.push(E):e=[E])}}else if(c===Ce.current){if(v=c.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Hl):e=[Hl])}c=c.return}e!==null&&cs(t,e,i,a),t.flags|=262144}function ho(e){for(e=e.firstContext;e!==null;){if(!yt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Jn(e){Yn=e,Kt=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function je(e){return hc(Yn,e)}function go(e,t){return Yn===null&&Jn(e),hc(e,t)}function hc(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},Kt===null){if(e===null)throw Error(s(308));Kt=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Kt=Kt.next=t;return i}var _g=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},Cg=l.unstable_scheduleCallback,Ag=l.unstable_NormalPriority,ke={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fs(){return{controller:new _g,data:new Map,refCount:0}}function fl(e){e.refCount--,e.refCount===0&&Cg(Ag,function(){e.controller.abort()})}var dl=null,ds=0,Si=0,Ei=null;function Rg(e,t){if(dl===null){var i=dl=[];ds=0,Si=hr(),Ei={status:"pending",value:void 0,then:function(a){i.push(a)}}}return ds++,t.then(gc,gc),t}function gc(){if(--ds===0&&dl!==null){Ei!==null&&(Ei.status="fulfilled");var e=dl;dl=null,Si=0,Ei=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Mg(e,t){var i=[],a={status:"pending",value:null,reason:null,then:function(c){i.push(c)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var c=0;c<i.length;c++)(0,i[c])(t)},function(c){for(a.status="rejected",a.reason=c,c=0;c<i.length;c++)(0,i[c])(void 0)}),a}var yc=w.S;w.S=function(e,t){td=mt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Rg(e,t),yc!==null&&yc(e,t)};var Fn=R(null);function ps(){var e=Fn.current;return e!==null?e:Ie.pooledCache}function yo(e,t){t===null?F(Fn,Fn.current):F(Fn,t.pool)}function vc(){var e=ps();return e===null?null:{parent:ke._currentValue,pool:e}}var _i=Error(s(460)),ms=Error(s(474)),vo=Error(s(542)),To={then:function(){}};function Tc(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Sc(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(Yt,Yt),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,_c(e),e;default:if(typeof t.status=="string")t.then(Yt,Yt);else{if(e=Ie,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=a}},function(a){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,_c(e),e}throw Kn=t,_i}}function Xn(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Kn=i,_i):i}}var Kn=null;function Ec(){if(Kn===null)throw Error(s(459));var e=Kn;return Kn=null,e}function _c(e){if(e===_i||e===vo)throw Error(s(483))}var Ci=null,pl=0;function So(e){var t=pl;return pl+=1,Ci===null&&(Ci=[]),Sc(Ci,e,t)}function ml(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Eo(e,t){throw t.$$typeof===_?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Cc(e){function t(N,A){if(e){var x=N.deletions;x===null?(N.deletions=[A],N.flags|=16):x.push(A)}}function i(N,A){if(!e)return null;for(;A!==null;)t(N,A),A=A.sibling;return null}function a(N){for(var A=new Map;N!==null;)N.key!==null?A.set(N.key,N):A.set(N.index,N),N=N.sibling;return A}function c(N,A){return N=Ft(N,A),N.index=0,N.sibling=null,N}function p(N,A,x){return N.index=x,e?(x=N.alternate,x!==null?(x=x.index,x<A?(N.flags|=67108866,A):x):(N.flags|=67108866,A)):(N.flags|=1048576,A)}function v(N){return e&&N.alternate===null&&(N.flags|=67108866),N}function E(N,A,x,G){return A===null||A.tag!==6?(A=ns(x,N.mode,G),A.return=N,A):(A=c(A,x),A.return=N,A)}function C(N,A,x,G){var ne=x.type;return ne===B?L(N,A,x.props.children,G,x.key):A!==null&&(A.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===oe&&Xn(ne)===A.type)?(A=c(A,x.props),ml(A,x),A.return=N,A):(A=po(x.type,x.key,x.props,null,N.mode,G),ml(A,x),A.return=N,A)}function b(N,A,x,G){return A===null||A.tag!==4||A.stateNode.containerInfo!==x.containerInfo||A.stateNode.implementation!==x.implementation?(A=is(x,N.mode,G),A.return=N,A):(A=c(A,x.children||[]),A.return=N,A)}function L(N,A,x,G,ne){return A===null||A.tag!==7?(A=On(x,N.mode,G,ne),A.return=N,A):(A=c(A,x),A.return=N,A)}function q(N,A,x){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=ns(""+A,N.mode,x),A.return=N,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case D:return x=po(A.type,A.key,A.props,null,N.mode,x),ml(x,A),x.return=N,x;case z:return A=is(A,N.mode,x),A.return=N,A;case oe:return A=Xn(A),q(N,A,x)}if(Ze(A)||se(A))return A=On(A,N.mode,x,null),A.return=N,A;if(typeof A.then=="function")return q(N,So(A),x);if(A.$$typeof===V)return q(N,go(N,A),x);Eo(N,A)}return null}function I(N,A,x,G){var ne=A!==null?A.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return ne!==null?null:E(N,A,""+x,G);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case D:return x.key===ne?C(N,A,x,G):null;case z:return x.key===ne?b(N,A,x,G):null;case oe:return x=Xn(x),I(N,A,x,G)}if(Ze(x)||se(x))return ne!==null?null:L(N,A,x,G,null);if(typeof x.then=="function")return I(N,A,So(x),G);if(x.$$typeof===V)return I(N,A,go(N,x),G);Eo(N,x)}return null}function U(N,A,x,G,ne){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return N=N.get(x)||null,E(A,N,""+G,ne);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case D:return N=N.get(G.key===null?x:G.key)||null,C(A,N,G,ne);case z:return N=N.get(G.key===null?x:G.key)||null,b(A,N,G,ne);case oe:return G=Xn(G),U(N,A,x,G,ne)}if(Ze(G)||se(G))return N=N.get(x)||null,L(A,N,G,ne,null);if(typeof G.then=="function")return U(N,A,x,So(G),ne);if(G.$$typeof===V)return U(N,A,x,go(A,G),ne);Eo(A,G)}return null}function Z(N,A,x,G){for(var ne=null,Te=null,j=A,fe=A=0,ye=null;j!==null&&fe<x.length;fe++){j.index>fe?(ye=j,j=null):ye=j.sibling;var Se=I(N,j,x[fe],G);if(Se===null){j===null&&(j=ye);break}e&&j&&Se.alternate===null&&t(N,j),A=p(Se,A,fe),Te===null?ne=Se:Te.sibling=Se,Te=Se,j=ye}if(fe===x.length)return i(N,j),ve&&Xt(N,fe),ne;if(j===null){for(;fe<x.length;fe++)j=q(N,x[fe],G),j!==null&&(A=p(j,A,fe),Te===null?ne=j:Te.sibling=j,Te=j);return ve&&Xt(N,fe),ne}for(j=a(j);fe<x.length;fe++)ye=U(j,N,fe,x[fe],G),ye!==null&&(e&&ye.alternate!==null&&j.delete(ye.key===null?fe:ye.key),A=p(ye,A,fe),Te===null?ne=ye:Te.sibling=ye,Te=ye);return e&&j.forEach(function(wn){return t(N,wn)}),ve&&Xt(N,fe),ne}function ie(N,A,x,G){if(x==null)throw Error(s(151));for(var ne=null,Te=null,j=A,fe=A=0,ye=null,Se=x.next();j!==null&&!Se.done;fe++,Se=x.next()){j.index>fe?(ye=j,j=null):ye=j.sibling;var wn=I(N,j,Se.value,G);if(wn===null){j===null&&(j=ye);break}e&&j&&wn.alternate===null&&t(N,j),A=p(wn,A,fe),Te===null?ne=wn:Te.sibling=wn,Te=wn,j=ye}if(Se.done)return i(N,j),ve&&Xt(N,fe),ne;if(j===null){for(;!Se.done;fe++,Se=x.next())Se=q(N,Se.value,G),Se!==null&&(A=p(Se,A,fe),Te===null?ne=Se:Te.sibling=Se,Te=Se);return ve&&Xt(N,fe),ne}for(j=a(j);!Se.done;fe++,Se=x.next())Se=U(j,N,fe,Se.value,G),Se!==null&&(e&&Se.alternate!==null&&j.delete(Se.key===null?fe:Se.key),A=p(Se,A,fe),Te===null?ne=Se:Te.sibling=Se,Te=Se);return e&&j.forEach(function(Hy){return t(N,Hy)}),ve&&Xt(N,fe),ne}function be(N,A,x,G){if(typeof x=="object"&&x!==null&&x.type===B&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case D:e:{for(var ne=x.key;A!==null;){if(A.key===ne){if(ne=x.type,ne===B){if(A.tag===7){i(N,A.sibling),G=c(A,x.props.children),G.return=N,N=G;break e}}else if(A.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===oe&&Xn(ne)===A.type){i(N,A.sibling),G=c(A,x.props),ml(G,x),G.return=N,N=G;break e}i(N,A);break}else t(N,A);A=A.sibling}x.type===B?(G=On(x.props.children,N.mode,G,x.key),G.return=N,N=G):(G=po(x.type,x.key,x.props,null,N.mode,G),ml(G,x),G.return=N,N=G)}return v(N);case z:e:{for(ne=x.key;A!==null;){if(A.key===ne)if(A.tag===4&&A.stateNode.containerInfo===x.containerInfo&&A.stateNode.implementation===x.implementation){i(N,A.sibling),G=c(A,x.children||[]),G.return=N,N=G;break e}else{i(N,A);break}else t(N,A);A=A.sibling}G=is(x,N.mode,G),G.return=N,N=G}return v(N);case oe:return x=Xn(x),be(N,A,x,G)}if(Ze(x))return Z(N,A,x,G);if(se(x)){if(ne=se(x),typeof ne!="function")throw Error(s(150));return x=ne.call(x),ie(N,A,x,G)}if(typeof x.then=="function")return be(N,A,So(x),G);if(x.$$typeof===V)return be(N,A,go(N,x),G);Eo(N,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,A!==null&&A.tag===6?(i(N,A.sibling),G=c(A,x),G.return=N,N=G):(i(N,A),G=ns(x,N.mode,G),G.return=N,N=G),v(N)):i(N,A)}return function(N,A,x,G){try{pl=0;var ne=be(N,A,x,G);return Ci=null,ne}catch(j){if(j===_i||j===vo)throw j;var Te=vt(29,j,null,N.mode);return Te.lanes=G,Te.return=N,Te}finally{}}}var Qn=Cc(!0),Ac=Cc(!1),gn=!1;function hs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function yn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function vn(e,t,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(_e&2)!==0){var c=a.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),a.pending=t,t=fo(e),sc(e,null,i),t}return co(e,a,t,i),fo(e)}function hl(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,hu(e,i)}}function ys(e,t){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var c=null,p=null;if(i=i.firstBaseUpdate,i!==null){do{var v={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};p===null?c=p=v:p=p.next=v,i=i.next}while(i!==null);p===null?c=p=t:p=p.next=t}else c=p=t;i={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:p,shared:a.shared,callbacks:a.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var vs=!1;function gl(){if(vs){var e=Ei;if(e!==null)throw e}}function yl(e,t,i,a){vs=!1;var c=e.updateQueue;gn=!1;var p=c.firstBaseUpdate,v=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var C=E,b=C.next;C.next=null,v===null?p=b:v.next=b,v=C;var L=e.alternate;L!==null&&(L=L.updateQueue,E=L.lastBaseUpdate,E!==v&&(E===null?L.firstBaseUpdate=b:E.next=b,L.lastBaseUpdate=C))}if(p!==null){var q=c.baseState;v=0,L=b=C=null,E=p;do{var I=E.lane&-536870913,U=I!==E.lane;if(U?(ge&I)===I:(a&I)===I){I!==0&&I===Si&&(vs=!0),L!==null&&(L=L.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var Z=e,ie=E;I=t;var be=i;switch(ie.tag){case 1:if(Z=ie.payload,typeof Z=="function"){q=Z.call(be,q,I);break e}q=Z;break e;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=ie.payload,I=typeof Z=="function"?Z.call(be,q,I):Z,I==null)break e;q=S({},q,I);break e;case 2:gn=!0}}I=E.callback,I!==null&&(e.flags|=64,U&&(e.flags|=8192),U=c.callbacks,U===null?c.callbacks=[I]:U.push(I))}else U={lane:I,tag:E.tag,payload:E.payload,callback:E.callback,next:null},L===null?(b=L=U,C=q):L=L.next=U,v|=I;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;U=E,E=U.next,U.next=null,c.lastBaseUpdate=U,c.shared.pending=null}}while(!0);L===null&&(C=q),c.baseState=C,c.firstBaseUpdate=b,c.lastBaseUpdate=L,p===null&&(c.shared.lanes=0),Cn|=v,e.lanes=v,e.memoizedState=q}}function Rc(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function Mc(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Rc(i[e],t)}var Ai=R(null),_o=R(0);function Nc(e,t){e=on,F(_o,e),F(Ai,t),on=e|t.baseLanes}function Ts(){F(_o,on),F(Ai,Ai.current)}function Ss(){on=_o.current,H(Ai),H(_o)}var Tt=R(null),It=null;function Tn(e){var t=e.alternate;F(Ve,Ve.current&1),F(Tt,e),It===null&&(t===null||Ai.current!==null||t.memoizedState!==null)&&(It=e)}function Es(e){F(Ve,Ve.current),F(Tt,e),It===null&&(It=e)}function xc(e){e.tag===22?(F(Ve,Ve.current),F(Tt,e),It===null&&(It=e)):Sn()}function Sn(){F(Ve,Ve.current),F(Tt,Tt.current)}function St(e){H(Tt),It===e&&(It=null),H(Ve)}var Ve=R(0);function Co(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Nr(i)||xr(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Zt=0,ce=null,Ne=null,Ye=null,Ao=!1,Ri=!1,Zn=!1,Ro=0,vl=0,Mi=null,Ng=0;function He(){throw Error(s(321))}function _s(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!yt(e[i],t[i]))return!1;return!0}function Cs(e,t,i,a,c,p){return Zt=p,ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,w.H=e===null||e.memoizedState===null?df:zs,Zn=!1,p=i(a,c),Zn=!1,Ri&&(p=Dc(t,i,a,c)),bc(e),p}function bc(e){w.H=El;var t=Ne!==null&&Ne.next!==null;if(Zt=0,Ye=Ne=ce=null,Ao=!1,vl=0,Mi=null,t)throw Error(s(300));e===null||Je||(e=e.dependencies,e!==null&&ho(e)&&(Je=!0))}function Dc(e,t,i,a){ce=e;var c=0;do{if(Ri&&(Mi=null),vl=0,Ri=!1,25<=c)throw Error(s(301));if(c+=1,Ye=Ne=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}w.H=pf,p=t(i,a)}while(Ri);return p}function xg(){var e=w.H,t=e.useState()[0];return t=typeof t.then=="function"?Tl(t):t,e=e.useState()[0],(Ne!==null?Ne.memoizedState:null)!==e&&(ce.flags|=1024),t}function As(){var e=Ro!==0;return Ro=0,e}function Rs(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function Ms(e){if(Ao){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ao=!1}Zt=0,Ye=Ne=ce=null,Ri=!1,vl=Ro=0,Mi=null}function ot(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?ce.memoizedState=Ye=e:Ye=Ye.next=e,Ye}function Pe(){if(Ne===null){var e=ce.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var t=Ye===null?ce.memoizedState:Ye.next;if(t!==null)Ye=t,Ne=e;else{if(e===null)throw ce.alternate===null?Error(s(467)):Error(s(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Ye===null?ce.memoizedState=Ye=e:Ye=Ye.next=e}return Ye}function Mo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tl(e){var t=vl;return vl+=1,Mi===null&&(Mi=[]),e=Sc(Mi,e,t),t=ce,(Ye===null?t.memoizedState:Ye.next)===null&&(t=t.alternate,w.H=t===null||t.memoizedState===null?df:zs),e}function No(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Tl(e);if(e.$$typeof===V)return je(e)}throw Error(s(438,String(e)))}function Ns(e){var t=null,i=ce.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var a=ce.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=Mo(),ce.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),a=0;a<e;a++)i[a]=le;return t.index++,i}function Wt(e,t){return typeof t=="function"?t(e):t}function xo(e){var t=Pe();return xs(t,Ne,e)}function xs(e,t,i){var a=e.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=i;var c=e.baseQueue,p=a.pending;if(p!==null){if(c!==null){var v=c.next;c.next=p.next,p.next=v}t.baseQueue=c=p,a.pending=null}if(p=e.baseState,c===null)e.memoizedState=p;else{t=c.next;var E=v=null,C=null,b=t,L=!1;do{var q=b.lane&-536870913;if(q!==b.lane?(ge&q)===q:(Zt&q)===q){var I=b.revertLane;if(I===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),q===Si&&(L=!0);else if((Zt&I)===I){b=b.next,I===Si&&(L=!0);continue}else q={lane:0,revertLane:b.revertLane,gesture:null,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null},C===null?(E=C=q,v=p):C=C.next=q,ce.lanes|=I,Cn|=I;q=b.action,Zn&&i(p,q),p=b.hasEagerState?b.eagerState:i(p,q)}else I={lane:q,revertLane:b.revertLane,gesture:b.gesture,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null},C===null?(E=C=I,v=p):C=C.next=I,ce.lanes|=q,Cn|=q;b=b.next}while(b!==null&&b!==t);if(C===null?v=p:C.next=E,!yt(p,e.memoizedState)&&(Je=!0,L&&(i=Ei,i!==null)))throw i;e.memoizedState=p,e.baseState=v,e.baseQueue=C,a.lastRenderedState=p}return c===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function bs(e){var t=Pe(),i=t.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var a=i.dispatch,c=i.pending,p=t.memoizedState;if(c!==null){i.pending=null;var v=c=c.next;do p=e(p,v.action),v=v.next;while(v!==c);yt(p,t.memoizedState)||(Je=!0),t.memoizedState=p,t.baseQueue===null&&(t.baseState=p),i.lastRenderedState=p}return[p,a]}function Ic(e,t,i){var a=ce,c=Pe(),p=ve;if(p){if(i===void 0)throw Error(s(407));i=i()}else i=t();var v=!yt((Ne||c).memoizedState,i);if(v&&(c.memoizedState=i,Je=!0),c=c.queue,Us(Lc.bind(null,a,c,e),[e]),c.getSnapshot!==t||v||Ye!==null&&Ye.memoizedState.tag&1){if(a.flags|=2048,Ni(9,{destroy:void 0},wc.bind(null,a,c,i,t),null),Ie===null)throw Error(s(349));p||(Zt&127)!==0||Uc(a,t,i)}return i}function Uc(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=ce.updateQueue,t===null?(t=Mo(),ce.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function wc(e,t,i,a){t.value=i,t.getSnapshot=a,Gc(t)&&qc(e)}function Lc(e,t,i){return i(function(){Gc(t)&&qc(e)})}function Gc(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!yt(e,i)}catch{return!0}}function qc(e){var t=Pn(e,2);t!==null&&pt(t,e,2)}function Ds(e){var t=ot();if(typeof e=="function"){var i=e;if(e=i(),Zn){un(!0);try{i()}finally{un(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wt,lastRenderedState:e},t}function Hc(e,t,i,a){return e.baseState=i,xs(e,Ne,typeof a=="function"?a:Wt)}function bg(e,t,i,a,c){if(Io(e))throw Error(s(485));if(e=t.action,e!==null){var p={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){p.listeners.push(v)}};w.T!==null?i(!0):p.isTransition=!1,a(p),i=t.pending,i===null?(p.next=t.pending=p,zc(t,p)):(p.next=i.next,t.pending=i.next=p)}}function zc(e,t){var i=t.action,a=t.payload,c=e.state;if(t.isTransition){var p=w.T,v={};w.T=v;try{var E=i(c,a),C=w.S;C!==null&&C(v,E),Bc(e,t,E)}catch(b){Is(e,t,b)}finally{p!==null&&v.types!==null&&(p.types=v.types),w.T=p}}else try{p=i(c,a),Bc(e,t,p)}catch(b){Is(e,t,b)}}function Bc(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(a){Vc(e,t,a)},function(a){return Is(e,t,a)}):Vc(e,t,i)}function Vc(e,t,i){t.status="fulfilled",t.value=i,Pc(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,zc(e,i)))}function Is(e,t,i){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=i,Pc(t),t=t.next;while(t!==a)}e.action=null}function Pc(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Oc(e,t){return t}function kc(e,t){if(ve){var i=Ie.formState;if(i!==null){e:{var a=ce;if(ve){if(Ue){t:{for(var c=Ue,p=Dt;c.nodeType!==8;){if(!p){c=null;break t}if(c=Ut(c.nextSibling),c===null){c=null;break t}}p=c.data,c=p==="F!"||p==="F"?c:null}if(c){Ue=Ut(c.nextSibling),a=c.data==="F!";break e}}mn(a)}a=!1}a&&(t=i[0])}}return i=ot(),i.memoizedState=i.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oc,lastRenderedState:t},i.queue=a,i=uf.bind(null,ce,a),a.dispatch=i,a=Ds(!1),p=Hs.bind(null,ce,!1,a.queue),a=ot(),c={state:t,dispatch:null,action:e,pending:null},a.queue=c,i=bg.bind(null,ce,c,p,i),c.dispatch=i,a.memoizedState=e,[t,i,!1]}function Yc(e){var t=Pe();return Jc(t,Ne,e)}function Jc(e,t,i){if(t=xs(e,t,Oc)[0],e=xo(Wt)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=Tl(t)}catch(v){throw v===_i?vo:v}else a=t;t=Pe();var c=t.queue,p=c.dispatch;return i!==t.memoizedState&&(ce.flags|=2048,Ni(9,{destroy:void 0},Dg.bind(null,c,i),null)),[a,p,e]}function Dg(e,t){e.action=t}function Fc(e){var t=Pe(),i=Ne;if(i!==null)return Jc(t,i,e);Pe(),t=t.memoizedState,i=Pe();var a=i.queue.dispatch;return i.memoizedState=e,[t,a,!1]}function Ni(e,t,i,a){return e={tag:e,create:i,deps:a,inst:t,next:null},t=ce.updateQueue,t===null&&(t=Mo(),ce.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,t.lastEffect=e),e}function Xc(){return Pe().memoizedState}function bo(e,t,i,a){var c=ot();ce.flags|=e,c.memoizedState=Ni(1|t,{destroy:void 0},i,a===void 0?null:a)}function Do(e,t,i,a){var c=Pe();a=a===void 0?null:a;var p=c.memoizedState.inst;Ne!==null&&a!==null&&_s(a,Ne.memoizedState.deps)?c.memoizedState=Ni(t,p,i,a):(ce.flags|=e,c.memoizedState=Ni(1|t,p,i,a))}function Kc(e,t){bo(8390656,8,e,t)}function Us(e,t){Do(2048,8,e,t)}function Ig(e){ce.flags|=4;var t=ce.updateQueue;if(t===null)t=Mo(),ce.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function Qc(e){var t=Pe().memoizedState;return Ig({ref:t,nextImpl:e}),function(){if((_e&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function Zc(e,t){return Do(4,2,e,t)}function Wc(e,t){return Do(4,4,e,t)}function $c(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jc(e,t,i){i=i!=null?i.concat([e]):null,Do(4,4,$c.bind(null,t,e),i)}function ws(){}function ef(e,t){var i=Pe();t=t===void 0?null:t;var a=i.memoizedState;return t!==null&&_s(t,a[1])?a[0]:(i.memoizedState=[e,t],e)}function tf(e,t){var i=Pe();t=t===void 0?null:t;var a=i.memoizedState;if(t!==null&&_s(t,a[1]))return a[0];if(a=e(),Zn){un(!0);try{e()}finally{un(!1)}}return i.memoizedState=[a,t],a}function Ls(e,t,i){return i===void 0||(Zt&1073741824)!==0&&(ge&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=id(),ce.lanes|=e,Cn|=e,i)}function nf(e,t,i,a){return yt(i,t)?i:Ai.current!==null?(e=Ls(e,i,a),yt(e,t)||(Je=!0),e):(Zt&42)===0||(Zt&1073741824)!==0&&(ge&261930)===0?(Je=!0,e.memoizedState=i):(e=id(),ce.lanes|=e,Cn|=e,t)}function lf(e,t,i,a,c){var p=k.p;k.p=p!==0&&8>p?p:8;var v=w.T,E={};w.T=E,Hs(e,!1,t,i);try{var C=c(),b=w.S;if(b!==null&&b(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var L=Mg(C,a);Sl(e,t,L,Ct(e))}else Sl(e,t,a,Ct(e))}catch(q){Sl(e,t,{then:function(){},status:"rejected",reason:q},Ct())}finally{k.p=p,v!==null&&E.types!==null&&(v.types=E.types),w.T=v}}function Ug(){}function Gs(e,t,i,a){if(e.tag!==5)throw Error(s(476));var c=of(e).queue;lf(e,c,t,ae,i===null?Ug:function(){return af(e),i(a)})}function of(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wt,lastRenderedState:ae},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wt,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function af(e){var t=of(e);t.next===null&&(t=e.alternate.memoizedState),Sl(e,t.next.queue,{},Ct())}function qs(){return je(Hl)}function sf(){return Pe().memoizedState}function rf(){return Pe().memoizedState}function wg(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=Ct();e=yn(i);var a=vn(t,e,i);a!==null&&(pt(a,t,i),hl(a,t,i)),t={cache:fs()},e.payload=t;return}t=t.return}}function Lg(e,t,i){var a=Ct();i={lane:a,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Io(e)?cf(t,i):(i=es(e,t,i,a),i!==null&&(pt(i,e,a),ff(i,t,a)))}function uf(e,t,i){var a=Ct();Sl(e,t,i,a)}function Sl(e,t,i,a){var c={lane:a,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Io(e))cf(t,c);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=t.lastRenderedReducer,p!==null))try{var v=t.lastRenderedState,E=p(v,i);if(c.hasEagerState=!0,c.eagerState=E,yt(E,v))return co(e,t,c,0),Ie===null&&uo(),!1}catch{}finally{}if(i=es(e,t,c,a),i!==null)return pt(i,e,a),ff(i,t,a),!0}return!1}function Hs(e,t,i,a){if(a={lane:2,revertLane:hr(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Io(e)){if(t)throw Error(s(479))}else t=es(e,i,a,2),t!==null&&pt(t,e,2)}function Io(e){var t=e.alternate;return e===ce||t!==null&&t===ce}function cf(e,t){Ri=Ao=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function ff(e,t,i){if((i&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,hu(e,i)}}var El={readContext:je,use:No,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useLayoutEffect:He,useInsertionEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useSyncExternalStore:He,useId:He,useHostTransitionStatus:He,useFormState:He,useActionState:He,useOptimistic:He,useMemoCache:He,useCacheRefresh:He};El.useEffectEvent=He;var df={readContext:je,use:No,useCallback:function(e,t){return ot().memoizedState=[e,t===void 0?null:t],e},useContext:je,useEffect:Kc,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,bo(4194308,4,$c.bind(null,t,e),i)},useLayoutEffect:function(e,t){return bo(4194308,4,e,t)},useInsertionEffect:function(e,t){bo(4,2,e,t)},useMemo:function(e,t){var i=ot();t=t===void 0?null:t;var a=e();if(Zn){un(!0);try{e()}finally{un(!1)}}return i.memoizedState=[a,t],a},useReducer:function(e,t,i){var a=ot();if(i!==void 0){var c=i(t);if(Zn){un(!0);try{i(t)}finally{un(!1)}}}else c=t;return a.memoizedState=a.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},a.queue=e,e=e.dispatch=Lg.bind(null,ce,e),[a.memoizedState,e]},useRef:function(e){var t=ot();return e={current:e},t.memoizedState=e},useState:function(e){e=Ds(e);var t=e.queue,i=uf.bind(null,ce,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:ws,useDeferredValue:function(e,t){var i=ot();return Ls(i,e,t)},useTransition:function(){var e=Ds(!1);return e=lf.bind(null,ce,e.queue,!0,!1),ot().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var a=ce,c=ot();if(ve){if(i===void 0)throw Error(s(407));i=i()}else{if(i=t(),Ie===null)throw Error(s(349));(ge&127)!==0||Uc(a,t,i)}c.memoizedState=i;var p={value:i,getSnapshot:t};return c.queue=p,Kc(Lc.bind(null,a,p,e),[e]),a.flags|=2048,Ni(9,{destroy:void 0},wc.bind(null,a,p,i,t),null),i},useId:function(){var e=ot(),t=Ie.identifierPrefix;if(ve){var i=Vt,a=Bt;i=(a&~(1<<32-gt(a)-1)).toString(32)+i,t="_"+t+"R_"+i,i=Ro++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=Ng++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:qs,useFormState:kc,useActionState:kc,useOptimistic:function(e){var t=ot();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=Hs.bind(null,ce,!0,i),i.dispatch=t,[e,t]},useMemoCache:Ns,useCacheRefresh:function(){return ot().memoizedState=wg.bind(null,ce)},useEffectEvent:function(e){var t=ot(),i={impl:e};return t.memoizedState=i,function(){if((_e&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}},zs={readContext:je,use:No,useCallback:ef,useContext:je,useEffect:Us,useImperativeHandle:jc,useInsertionEffect:Zc,useLayoutEffect:Wc,useMemo:tf,useReducer:xo,useRef:Xc,useState:function(){return xo(Wt)},useDebugValue:ws,useDeferredValue:function(e,t){var i=Pe();return nf(i,Ne.memoizedState,e,t)},useTransition:function(){var e=xo(Wt)[0],t=Pe().memoizedState;return[typeof e=="boolean"?e:Tl(e),t]},useSyncExternalStore:Ic,useId:sf,useHostTransitionStatus:qs,useFormState:Yc,useActionState:Yc,useOptimistic:function(e,t){var i=Pe();return Hc(i,Ne,e,t)},useMemoCache:Ns,useCacheRefresh:rf};zs.useEffectEvent=Qc;var pf={readContext:je,use:No,useCallback:ef,useContext:je,useEffect:Us,useImperativeHandle:jc,useInsertionEffect:Zc,useLayoutEffect:Wc,useMemo:tf,useReducer:bs,useRef:Xc,useState:function(){return bs(Wt)},useDebugValue:ws,useDeferredValue:function(e,t){var i=Pe();return Ne===null?Ls(i,e,t):nf(i,Ne.memoizedState,e,t)},useTransition:function(){var e=bs(Wt)[0],t=Pe().memoizedState;return[typeof e=="boolean"?e:Tl(e),t]},useSyncExternalStore:Ic,useId:sf,useHostTransitionStatus:qs,useFormState:Fc,useActionState:Fc,useOptimistic:function(e,t){var i=Pe();return Ne!==null?Hc(i,Ne,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Ns,useCacheRefresh:rf};pf.useEffectEvent=Qc;function Bs(e,t,i,a){t=e.memoizedState,i=i(a,t),i=i==null?t:S({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Vs={enqueueSetState:function(e,t,i){e=e._reactInternals;var a=Ct(),c=yn(a);c.payload=t,i!=null&&(c.callback=i),t=vn(e,c,a),t!==null&&(pt(t,e,a),hl(t,e,a))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var a=Ct(),c=yn(a);c.tag=1,c.payload=t,i!=null&&(c.callback=i),t=vn(e,c,a),t!==null&&(pt(t,e,a),hl(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Ct(),a=yn(i);a.tag=2,t!=null&&(a.callback=t),t=vn(e,a,i),t!==null&&(pt(t,e,i),hl(t,e,i))}};function mf(e,t,i,a,c,p,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,p,v):t.prototype&&t.prototype.isPureReactComponent?!sl(i,a)||!sl(c,p):!0}function hf(e,t,i,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,a),t.state!==e&&Vs.enqueueReplaceState(t,t.state,null)}function Wn(e,t){var i=t;if("ref"in t){i={};for(var a in t)a!=="ref"&&(i[a]=t[a])}if(e=e.defaultProps){i===t&&(i=S({},i));for(var c in e)i[c]===void 0&&(i[c]=e[c])}return i}function gf(e){ro(e)}function yf(e){console.error(e)}function vf(e){ro(e)}function Uo(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function Tf(e,t,i){try{var a=e.onCaughtError;a(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Ps(e,t,i){return i=yn(i),i.tag=3,i.payload={element:null},i.callback=function(){Uo(e,t)},i}function Sf(e){return e=yn(e),e.tag=3,e}function Ef(e,t,i,a){var c=i.type.getDerivedStateFromError;if(typeof c=="function"){var p=a.value;e.payload=function(){return c(p)},e.callback=function(){Tf(t,i,a)}}var v=i.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Tf(t,i,a),typeof c!="function"&&(An===null?An=new Set([this]):An.add(this));var E=a.stack;this.componentDidCatch(a.value,{componentStack:E!==null?E:""})})}function Gg(e,t,i,a,c){if(i.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=i.alternate,t!==null&&Ti(t,i,c,!0),i=Tt.current,i!==null){switch(i.tag){case 31:case 13:return It===null?Yo():i.alternate===null&&ze===0&&(ze=3),i.flags&=-257,i.flags|=65536,i.lanes=c,a===To?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([a]):t.add(a),dr(e,a,c)),!1;case 22:return i.flags|=65536,a===To?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([a]):i.add(a)),dr(e,a,c)),!1}throw Error(s(435,i.tag))}return dr(e,a,c),Yo(),!1}if(ve)return t=Tt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,a!==as&&(e=Error(s(422),{cause:a}),cl(Nt(e,i)))):(a!==as&&(t=Error(s(423),{cause:a}),cl(Nt(t,i))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,a=Nt(a,i),c=Ps(e.stateNode,a,c),ys(e,c),ze!==4&&(ze=2)),!1;var p=Error(s(520),{cause:a});if(p=Nt(p,i),bl===null?bl=[p]:bl.push(p),ze!==4&&(ze=2),t===null)return!0;a=Nt(a,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=c&-c,i.lanes|=e,e=Ps(i.stateNode,a,e),ys(i,e),!1;case 1:if(t=i.type,p=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(An===null||!An.has(p))))return i.flags|=65536,c&=-c,i.lanes|=c,c=Sf(c),Ef(c,e,i,a),ys(i,c),!1}i=i.return}while(i!==null);return!1}var Os=Error(s(461)),Je=!1;function et(e,t,i,a){t.child=e===null?Ac(t,null,i,a):Qn(t,e.child,i,a)}function _f(e,t,i,a,c){i=i.render;var p=t.ref;if("ref"in a){var v={};for(var E in a)E!=="ref"&&(v[E]=a[E])}else v=a;return Jn(t),a=Cs(e,t,i,v,p,c),E=As(),e!==null&&!Je?(Rs(e,t,c),$t(e,t,c)):(ve&&E&&ls(t),t.flags|=1,et(e,t,a,c),t.child)}function Cf(e,t,i,a,c){if(e===null){var p=i.type;return typeof p=="function"&&!ts(p)&&p.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=p,Af(e,t,p,a,c)):(e=po(i.type,null,a,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(p=e.child,!Zs(e,c)){var v=p.memoizedProps;if(i=i.compare,i=i!==null?i:sl,i(v,a)&&e.ref===t.ref)return $t(e,t,c)}return t.flags|=1,e=Ft(p,a),e.ref=t.ref,e.return=t,t.child=e}function Af(e,t,i,a,c){if(e!==null){var p=e.memoizedProps;if(sl(p,a)&&e.ref===t.ref)if(Je=!1,t.pendingProps=a=p,Zs(e,c))(e.flags&131072)!==0&&(Je=!0);else return t.lanes=e.lanes,$t(e,t,c)}return ks(e,t,i,a,c)}function Rf(e,t,i,a){var c=a.children,p=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(p=p!==null?p.baseLanes|i:i,e!==null){for(a=t.child=e.child,c=0;a!==null;)c=c|a.lanes|a.childLanes,a=a.sibling;a=c&~p}else a=0,t.child=null;return Mf(e,t,p,i,a)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&yo(t,p!==null?p.cachePool:null),p!==null?Nc(t,p):Ts(),xc(t);else return a=t.lanes=536870912,Mf(e,t,p!==null?p.baseLanes|i:i,i,a)}else p!==null?(yo(t,p.cachePool),Nc(t,p),Sn(),t.memoizedState=null):(e!==null&&yo(t,null),Ts(),Sn());return et(e,t,c,i),t.child}function _l(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Mf(e,t,i,a,c){var p=ps();return p=p===null?null:{parent:ke._currentValue,pool:p},t.memoizedState={baseLanes:i,cachePool:p},e!==null&&yo(t,null),Ts(),xc(t),e!==null&&Ti(e,t,a,!0),t.childLanes=c,null}function wo(e,t){return t=Go({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Nf(e,t,i){return Qn(t,e.child,null,i),e=wo(t,t.pendingProps),e.flags|=2,St(t),t.memoizedState=null,e}function qg(e,t,i){var a=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ve){if(a.mode==="hidden")return e=wo(t,a),t.lanes=536870912,_l(null,e);if(Es(t),(e=Ue)?(e=Bd(e,Dt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:dn!==null?{id:Bt,overflow:Vt}:null,retryLane:536870912,hydrationErrors:null},i=uc(e),i.return=t,t.child=i,$e=t,Ue=null)):e=null,e===null)throw mn(t);return t.lanes=536870912,null}return wo(t,a)}var p=e.memoizedState;if(p!==null){var v=p.dehydrated;if(Es(t),c)if(t.flags&256)t.flags&=-257,t=Nf(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if(Je||Ti(e,t,i,!1),c=(i&e.childLanes)!==0,Je||c){if(a=Ie,a!==null&&(v=gu(a,i),v!==0&&v!==p.retryLane))throw p.retryLane=v,Pn(e,v),pt(a,e,v),Os;Yo(),t=Nf(e,t,i)}else e=p.treeContext,Ue=Ut(v.nextSibling),$e=t,ve=!0,pn=null,Dt=!1,e!==null&&dc(t,e),t=wo(t,a),t.flags|=4096;return t}return e=Ft(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Lo(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(s(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function ks(e,t,i,a,c){return Jn(t),i=Cs(e,t,i,a,void 0,c),a=As(),e!==null&&!Je?(Rs(e,t,c),$t(e,t,c)):(ve&&a&&ls(t),t.flags|=1,et(e,t,i,c),t.child)}function xf(e,t,i,a,c,p){return Jn(t),t.updateQueue=null,i=Dc(t,a,i,c),bc(e),a=As(),e!==null&&!Je?(Rs(e,t,p),$t(e,t,p)):(ve&&a&&ls(t),t.flags|=1,et(e,t,i,p),t.child)}function bf(e,t,i,a,c){if(Jn(t),t.stateNode===null){var p=hi,v=i.contextType;typeof v=="object"&&v!==null&&(p=je(v)),p=new i(a,p),t.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Vs,t.stateNode=p,p._reactInternals=t,p=t.stateNode,p.props=a,p.state=t.memoizedState,p.refs={},hs(t),v=i.contextType,p.context=typeof v=="object"&&v!==null?je(v):hi,p.state=t.memoizedState,v=i.getDerivedStateFromProps,typeof v=="function"&&(Bs(t,i,v,a),p.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(v=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),v!==p.state&&Vs.enqueueReplaceState(p,p.state,null),yl(t,a,p,c),gl(),p.state=t.memoizedState),typeof p.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){p=t.stateNode;var E=t.memoizedProps,C=Wn(i,E);p.props=C;var b=p.context,L=i.contextType;v=hi,typeof L=="object"&&L!==null&&(v=je(L));var q=i.getDerivedStateFromProps;L=typeof q=="function"||typeof p.getSnapshotBeforeUpdate=="function",E=t.pendingProps!==E,L||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E||b!==v)&&hf(t,p,a,v),gn=!1;var I=t.memoizedState;p.state=I,yl(t,a,p,c),gl(),b=t.memoizedState,E||I!==b||gn?(typeof q=="function"&&(Bs(t,i,q,a),b=t.memoizedState),(C=gn||mf(t,i,C,a,I,b,v))?(L||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=b),p.props=a,p.state=b,p.context=v,a=C):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{p=t.stateNode,gs(e,t),v=t.memoizedProps,L=Wn(i,v),p.props=L,q=t.pendingProps,I=p.context,b=i.contextType,C=hi,typeof b=="object"&&b!==null&&(C=je(b)),E=i.getDerivedStateFromProps,(b=typeof E=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==q||I!==C)&&hf(t,p,a,C),gn=!1,I=t.memoizedState,p.state=I,yl(t,a,p,c),gl();var U=t.memoizedState;v!==q||I!==U||gn||e!==null&&e.dependencies!==null&&ho(e.dependencies)?(typeof E=="function"&&(Bs(t,i,E,a),U=t.memoizedState),(L=gn||mf(t,i,L,a,I,U,C)||e!==null&&e.dependencies!==null&&ho(e.dependencies))?(b||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(a,U,C),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(a,U,C)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||v===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=U),p.props=a,p.state=U,p.context=C,a=L):(typeof p.componentDidUpdate!="function"||v===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),a=!1)}return p=a,Lo(e,t),a=(t.flags&128)!==0,p||a?(p=t.stateNode,i=a&&typeof i.getDerivedStateFromError!="function"?null:p.render(),t.flags|=1,e!==null&&a?(t.child=Qn(t,e.child,null,c),t.child=Qn(t,null,i,c)):et(e,t,i,c),t.memoizedState=p.state,e=t.child):e=$t(e,t,c),e}function Df(e,t,i,a){return kn(),t.flags|=256,et(e,t,i,a),t.child}var Ys={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Js(e){return{baseLanes:e,cachePool:vc()}}function Fs(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=_t),e}function If(e,t,i){var a=t.pendingProps,c=!1,p=(t.flags&128)!==0,v;if((v=p)||(v=e!==null&&e.memoizedState===null?!1:(Ve.current&2)!==0),v&&(c=!0,t.flags&=-129),v=(t.flags&32)!==0,t.flags&=-33,e===null){if(ve){if(c?Tn(t):Sn(),(e=Ue)?(e=Bd(e,Dt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:dn!==null?{id:Bt,overflow:Vt}:null,retryLane:536870912,hydrationErrors:null},i=uc(e),i.return=t,t.child=i,$e=t,Ue=null)):e=null,e===null)throw mn(t);return xr(e)?t.lanes=32:t.lanes=536870912,null}var E=a.children;return a=a.fallback,c?(Sn(),c=t.mode,E=Go({mode:"hidden",children:E},c),a=On(a,c,i,null),E.return=t,a.return=t,E.sibling=a,t.child=E,a=t.child,a.memoizedState=Js(i),a.childLanes=Fs(e,v,i),t.memoizedState=Ys,_l(null,a)):(Tn(t),Xs(t,E))}var C=e.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(p)t.flags&256?(Tn(t),t.flags&=-257,t=Ks(e,t,i)):t.memoizedState!==null?(Sn(),t.child=e.child,t.flags|=128,t=null):(Sn(),E=a.fallback,c=t.mode,a=Go({mode:"visible",children:a.children},c),E=On(E,c,i,null),E.flags|=2,a.return=t,E.return=t,a.sibling=E,t.child=a,Qn(t,e.child,null,i),a=t.child,a.memoizedState=Js(i),a.childLanes=Fs(e,v,i),t.memoizedState=Ys,t=_l(null,a));else if(Tn(t),xr(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var b=v.dgst;v=b,a=Error(s(419)),a.stack="",a.digest=v,cl({value:a,source:null,stack:null}),t=Ks(e,t,i)}else if(Je||Ti(e,t,i,!1),v=(i&e.childLanes)!==0,Je||v){if(v=Ie,v!==null&&(a=gu(v,i),a!==0&&a!==C.retryLane))throw C.retryLane=a,Pn(e,a),pt(v,e,a),Os;Nr(E)||Yo(),t=Ks(e,t,i)}else Nr(E)?(t.flags|=192,t.child=e.child,t=null):(e=C.treeContext,Ue=Ut(E.nextSibling),$e=t,ve=!0,pn=null,Dt=!1,e!==null&&dc(t,e),t=Xs(t,a.children),t.flags|=4096);return t}return c?(Sn(),E=a.fallback,c=t.mode,C=e.child,b=C.sibling,a=Ft(C,{mode:"hidden",children:a.children}),a.subtreeFlags=C.subtreeFlags&65011712,b!==null?E=Ft(b,E):(E=On(E,c,i,null),E.flags|=2),E.return=t,a.return=t,a.sibling=E,t.child=a,_l(null,a),a=t.child,E=e.child.memoizedState,E===null?E=Js(i):(c=E.cachePool,c!==null?(C=ke._currentValue,c=c.parent!==C?{parent:C,pool:C}:c):c=vc(),E={baseLanes:E.baseLanes|i,cachePool:c}),a.memoizedState=E,a.childLanes=Fs(e,v,i),t.memoizedState=Ys,_l(e.child,a)):(Tn(t),i=e.child,e=i.sibling,i=Ft(i,{mode:"visible",children:a.children}),i.return=t,i.sibling=null,e!==null&&(v=t.deletions,v===null?(t.deletions=[e],t.flags|=16):v.push(e)),t.child=i,t.memoizedState=null,i)}function Xs(e,t){return t=Go({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Go(e,t){return e=vt(22,e,null,t),e.lanes=0,e}function Ks(e,t,i){return Qn(t,e.child,null,i),e=Xs(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Uf(e,t,i){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),us(e.return,t,i)}function Qs(e,t,i,a,c,p){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:c,treeForkCount:p}:(v.isBackwards=t,v.rendering=null,v.renderingStartTime=0,v.last=a,v.tail=i,v.tailMode=c,v.treeForkCount=p)}function wf(e,t,i){var a=t.pendingProps,c=a.revealOrder,p=a.tail;a=a.children;var v=Ve.current,E=(v&2)!==0;if(E?(v=v&1|2,t.flags|=128):v&=1,F(Ve,v),et(e,t,a,i),a=ve?ul:0,!E&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Uf(e,i,t);else if(e.tag===19)Uf(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(i=t.child,c=null;i!==null;)e=i.alternate,e!==null&&Co(e)===null&&(c=i),i=i.sibling;i=c,i===null?(c=t.child,t.child=null):(c=i.sibling,i.sibling=null),Qs(t,!1,c,i,p,a);break;case"backwards":case"unstable_legacy-backwards":for(i=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Co(e)===null){t.child=c;break}e=c.sibling,c.sibling=i,i=c,c=e}Qs(t,!0,i,null,p,a);break;case"together":Qs(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function $t(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Cn|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(Ti(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,i=Ft(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Ft(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Zs(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ho(e)))}function Hg(e,t,i){switch(t.tag){case 3:lt(t,t.stateNode.containerInfo),hn(t,ke,e.memoizedState.cache),kn();break;case 27:case 5:Ki(t);break;case 4:lt(t,t.stateNode.containerInfo);break;case 10:hn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Es(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Tn(t),t.flags|=128,null):(i&t.child.childLanes)!==0?If(e,t,i):(Tn(t),e=$t(e,t,i),e!==null?e.sibling:null);Tn(t);break;case 19:var c=(e.flags&128)!==0;if(a=(i&t.childLanes)!==0,a||(Ti(e,t,i,!1),a=(i&t.childLanes)!==0),c){if(a)return wf(e,t,i);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),F(Ve,Ve.current),a)break;return null;case 22:return t.lanes=0,Rf(e,t,i,t.pendingProps);case 24:hn(t,ke,e.memoizedState.cache)}return $t(e,t,i)}function Lf(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)Je=!0;else{if(!Zs(e,i)&&(t.flags&128)===0)return Je=!1,Hg(e,t,i);Je=(e.flags&131072)!==0}else Je=!1,ve&&(t.flags&1048576)!==0&&fc(t,ul,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Xn(t.elementType),t.type=e,typeof e=="function")ts(e)?(a=Wn(e,a),t.tag=1,t=bf(null,t,e,a,i)):(t.tag=0,t=ks(null,t,e,a,i));else{if(e!=null){var c=e.$$typeof;if(c===X){t.tag=11,t=_f(null,t,e,a,i);break e}else if(c===P){t.tag=14,t=Cf(null,t,e,a,i);break e}}throw t=at(e)||e,Error(s(306,t,""))}}return t;case 0:return ks(e,t,t.type,t.pendingProps,i);case 1:return a=t.type,c=Wn(a,t.pendingProps),bf(e,t,a,c,i);case 3:e:{if(lt(t,t.stateNode.containerInfo),e===null)throw Error(s(387));a=t.pendingProps;var p=t.memoizedState;c=p.element,gs(e,t),yl(t,a,null,i);var v=t.memoizedState;if(a=v.cache,hn(t,ke,a),a!==p.cache&&cs(t,[ke],i,!0),gl(),a=v.element,p.isDehydrated)if(p={element:a,isDehydrated:!1,cache:v.cache},t.updateQueue.baseState=p,t.memoizedState=p,t.flags&256){t=Df(e,t,a,i);break e}else if(a!==c){c=Nt(Error(s(424)),t),cl(c),t=Df(e,t,a,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ue=Ut(e.firstChild),$e=t,ve=!0,pn=null,Dt=!0,i=Ac(t,null,a,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(kn(),a===c){t=$t(e,t,i);break e}et(e,t,a,i)}t=t.child}return t;case 26:return Lo(e,t),e===null?(i=Jd(t.type,null,t.pendingProps,null))?t.memoizedState=i:ve||(i=t.type,e=t.pendingProps,a=Wo(pe.current).createElement(i),a[We]=t,a[st]=e,tt(a,i,e),Ke(a),t.stateNode=a):t.memoizedState=Jd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ki(t),e===null&&ve&&(a=t.stateNode=Od(t.type,t.pendingProps,pe.current),$e=t,Dt=!0,c=Ue,xn(t.type)?(br=c,Ue=Ut(a.firstChild)):Ue=c),et(e,t,t.pendingProps.children,i),Lo(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ve&&((c=a=Ue)&&(a=py(a,t.type,t.pendingProps,Dt),a!==null?(t.stateNode=a,$e=t,Ue=Ut(a.firstChild),Dt=!1,c=!0):c=!1),c||mn(t)),Ki(t),c=t.type,p=t.pendingProps,v=e!==null?e.memoizedProps:null,a=p.children,Ar(c,p)?a=null:v!==null&&Ar(c,v)&&(t.flags|=32),t.memoizedState!==null&&(c=Cs(e,t,xg,null,null,i),Hl._currentValue=c),Lo(e,t),et(e,t,a,i),t.child;case 6:return e===null&&ve&&((e=i=Ue)&&(i=my(i,t.pendingProps,Dt),i!==null?(t.stateNode=i,$e=t,Ue=null,e=!0):e=!1),e||mn(t)),null;case 13:return If(e,t,i);case 4:return lt(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Qn(t,null,a,i):et(e,t,a,i),t.child;case 11:return _f(e,t,t.type,t.pendingProps,i);case 7:return et(e,t,t.pendingProps,i),t.child;case 8:return et(e,t,t.pendingProps.children,i),t.child;case 12:return et(e,t,t.pendingProps.children,i),t.child;case 10:return a=t.pendingProps,hn(t,t.type,a.value),et(e,t,a.children,i),t.child;case 9:return c=t.type._context,a=t.pendingProps.children,Jn(t),c=je(c),a=a(c),t.flags|=1,et(e,t,a,i),t.child;case 14:return Cf(e,t,t.type,t.pendingProps,i);case 15:return Af(e,t,t.type,t.pendingProps,i);case 19:return wf(e,t,i);case 31:return qg(e,t,i);case 22:return Rf(e,t,i,t.pendingProps);case 24:return Jn(t),a=je(ke),e===null?(c=ps(),c===null&&(c=Ie,p=fs(),c.pooledCache=p,p.refCount++,p!==null&&(c.pooledCacheLanes|=i),c=p),t.memoizedState={parent:a,cache:c},hs(t),hn(t,ke,c)):((e.lanes&i)!==0&&(gs(e,t),yl(t,null,null,i),gl()),c=e.memoizedState,p=t.memoizedState,c.parent!==a?(c={parent:a,cache:a},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),hn(t,ke,a)):(a=p.cache,hn(t,ke,a),a!==c.cache&&cs(t,[ke],i,!0))),et(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function jt(e){e.flags|=4}function Ws(e,t,i,a,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(sd())e.flags|=8192;else throw Kn=To,ms}else e.flags&=-16777217}function Gf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Zd(t))if(sd())e.flags|=8192;else throw Kn=To,ms}function qo(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?pu():536870912,e.lanes|=t,Ii|=t)}function Cl(e,t){if(!ve)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function we(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(t)for(var c=e.child;c!==null;)i|=c.lanes|c.childLanes,a|=c.subtreeFlags&65011712,a|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)i|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=a,e.childLanes=i,t}function zg(e,t,i){var a=t.pendingProps;switch(os(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return we(t),null;case 1:return we(t),null;case 3:return i=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Qt(ke),Be(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(vi(t)?jt(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ss())),we(t),null;case 26:var c=t.type,p=t.memoizedState;return e===null?(jt(t),p!==null?(we(t),Gf(t,p)):(we(t),Ws(t,c,null,a,i))):p?p!==e.memoizedState?(jt(t),we(t),Gf(t,p)):(we(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&jt(t),we(t),Ws(t,c,e,a,i)),null;case 27:if(Fl(t),i=pe.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&jt(t);else{if(!a){if(t.stateNode===null)throw Error(s(166));return we(t),null}e=$.current,vi(t)?pc(t):(e=Od(c,a,i),t.stateNode=e,jt(t))}return we(t),null;case 5:if(Fl(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&jt(t);else{if(!a){if(t.stateNode===null)throw Error(s(166));return we(t),null}if(p=$.current,vi(t))pc(t);else{var v=Wo(pe.current);switch(p){case 1:p=v.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:p=v.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":p=v.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":p=v.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":p=v.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof a.is=="string"?v.createElement("select",{is:a.is}):v.createElement("select"),a.multiple?p.multiple=!0:a.size&&(p.size=a.size);break;default:p=typeof a.is=="string"?v.createElement(c,{is:a.is}):v.createElement(c)}}p[We]=t,p[st]=a;e:for(v=t.child;v!==null;){if(v.tag===5||v.tag===6)p.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===t)break e;for(;v.sibling===null;){if(v.return===null||v.return===t)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}t.stateNode=p;e:switch(tt(p,c,a),c){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&jt(t)}}return we(t),Ws(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&jt(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(s(166));if(e=pe.current,vi(t)){if(e=t.stateNode,i=t.memoizedProps,a=null,c=$e,c!==null)switch(c.tag){case 27:case 5:a=c.memoizedProps}e[We]=t,e=!!(e.nodeValue===i||a!==null&&a.suppressHydrationWarning===!0||Id(e.nodeValue,i)),e||mn(t,!0)}else e=Wo(e).createTextNode(a),e[We]=t,t.stateNode=e}return we(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(a=vi(t),i!==null){if(e===null){if(!a)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[We]=t}else kn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;we(t),e=!1}else i=ss(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(St(t),t):(St(t),null);if((t.flags&128)!==0)throw Error(s(558))}return we(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=vi(t),a!==null&&a.dehydrated!==null){if(e===null){if(!c)throw Error(s(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[We]=t}else kn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;we(t),c=!1}else c=ss(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(St(t),t):(St(t),null)}return St(t),(t.flags&128)!==0?(t.lanes=i,t):(i=a!==null,e=e!==null&&e.memoizedState!==null,i&&(a=t.child,c=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(c=a.alternate.memoizedState.cachePool.pool),p=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(p=a.memoizedState.cachePool.pool),p!==c&&(a.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),qo(t,t.updateQueue),we(t),null);case 4:return Be(),e===null&&Tr(t.stateNode.containerInfo),we(t),null;case 10:return Qt(t.type),we(t),null;case 19:if(H(Ve),a=t.memoizedState,a===null)return we(t),null;if(c=(t.flags&128)!==0,p=a.rendering,p===null)if(c)Cl(a,!1);else{if(ze!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(p=Co(e),p!==null){for(t.flags|=128,Cl(a,!1),e=p.updateQueue,t.updateQueue=e,qo(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)rc(i,e),i=i.sibling;return F(Ve,Ve.current&1|2),ve&&Xt(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&mt()>Po&&(t.flags|=128,c=!0,Cl(a,!1),t.lanes=4194304)}else{if(!c)if(e=Co(p),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,qo(t,e),Cl(a,!0),a.tail===null&&a.tailMode==="hidden"&&!p.alternate&&!ve)return we(t),null}else 2*mt()-a.renderingStartTime>Po&&i!==536870912&&(t.flags|=128,c=!0,Cl(a,!1),t.lanes=4194304);a.isBackwards?(p.sibling=t.child,t.child=p):(e=a.last,e!==null?e.sibling=p:t.child=p,a.last=p)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=mt(),e.sibling=null,i=Ve.current,F(Ve,c?i&1|2:i&1),ve&&Xt(t,a.treeForkCount),e):(we(t),null);case 22:case 23:return St(t),Ss(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(i&536870912)!==0&&(t.flags&128)===0&&(we(t),t.subtreeFlags&6&&(t.flags|=8192)):we(t),i=t.updateQueue,i!==null&&qo(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==i&&(t.flags|=2048),e!==null&&H(Fn),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Qt(ke),we(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function Bg(e,t){switch(os(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qt(ke),Be(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Fl(t),null;case 31:if(t.memoizedState!==null){if(St(t),t.alternate===null)throw Error(s(340));kn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(St(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));kn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return H(Ve),null;case 4:return Be(),null;case 10:return Qt(t.type),null;case 22:case 23:return St(t),Ss(),e!==null&&H(Fn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Qt(ke),null;case 25:return null;default:return null}}function qf(e,t){switch(os(t),t.tag){case 3:Qt(ke),Be();break;case 26:case 27:case 5:Fl(t);break;case 4:Be();break;case 31:t.memoizedState!==null&&St(t);break;case 13:St(t);break;case 19:H(Ve);break;case 10:Qt(t.type);break;case 22:case 23:St(t),Ss(),e!==null&&H(Fn);break;case 24:Qt(ke)}}function Al(e,t){try{var i=t.updateQueue,a=i!==null?i.lastEffect:null;if(a!==null){var c=a.next;i=c;do{if((i.tag&e)===e){a=void 0;var p=i.create,v=i.inst;a=p(),v.destroy=a}i=i.next}while(i!==c)}}catch(E){Re(t,t.return,E)}}function En(e,t,i){try{var a=t.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var p=c.next;a=p;do{if((a.tag&e)===e){var v=a.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,c=t;var C=i,b=E;try{b()}catch(L){Re(c,C,L)}}}a=a.next}while(a!==p)}}catch(L){Re(t,t.return,L)}}function Hf(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{Mc(t,i)}catch(a){Re(e,e.return,a)}}}function zf(e,t,i){i.props=Wn(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(a){Re(e,t,a)}}function Rl(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof i=="function"?e.refCleanup=i(a):i.current=a}}catch(c){Re(e,t,c)}}function Pt(e,t){var i=e.ref,a=e.refCleanup;if(i!==null)if(typeof a=="function")try{a()}catch(c){Re(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(c){Re(e,t,c)}else i.current=null}function Bf(e){var t=e.type,i=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&a.focus();break e;case"img":i.src?a.src=i.src:i.srcSet&&(a.srcset=i.srcSet)}}catch(c){Re(e,e.return,c)}}function $s(e,t,i){try{var a=e.stateNode;sy(a,e.type,i,t),a[st]=t}catch(c){Re(e,e.return,c)}}function Vf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&xn(e.type)||e.tag===4}function js(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Vf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&xn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function er(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Yt));else if(a!==4&&(a===27&&xn(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(er(e,t,i),e=e.sibling;e!==null;)er(e,t,i),e=e.sibling}function Ho(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(a!==4&&(a===27&&xn(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Ho(e,t,i),e=e.sibling;e!==null;)Ho(e,t,i),e=e.sibling}function Pf(e){var t=e.stateNode,i=e.memoizedProps;try{for(var a=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);tt(t,a,i),t[We]=e,t[st]=i}catch(p){Re(e,e.return,p)}}var en=!1,Fe=!1,tr=!1,Of=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function Vg(e,t){if(e=e.containerInfo,_r=la,e=ju(e),Ka(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var c=a.anchorOffset,p=a.focusNode;a=a.focusOffset;try{i.nodeType,p.nodeType}catch{i=null;break e}var v=0,E=-1,C=-1,b=0,L=0,q=e,I=null;t:for(;;){for(var U;q!==i||c!==0&&q.nodeType!==3||(E=v+c),q!==p||a!==0&&q.nodeType!==3||(C=v+a),q.nodeType===3&&(v+=q.nodeValue.length),(U=q.firstChild)!==null;)I=q,q=U;for(;;){if(q===e)break t;if(I===i&&++b===c&&(E=v),I===p&&++L===a&&(C=v),(U=q.nextSibling)!==null)break;q=I,I=q.parentNode}q=U}i=E===-1||C===-1?null:{start:E,end:C}}else i=null}i=i||{start:0,end:0}}else i=null;for(Cr={focusedElem:e,selectionRange:i},la=!1,Qe=t;Qe!==null;)if(t=Qe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Qe=e;else for(;Qe!==null;){switch(t=Qe,p=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)c=e[i],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&p!==null){e=void 0,i=t,c=p.memoizedProps,p=p.memoizedState,a=i.stateNode;try{var Z=Wn(i.type,c);e=a.getSnapshotBeforeUpdate(Z,p),a.__reactInternalSnapshotBeforeUpdate=e}catch(ie){Re(i,i.return,ie)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)Mr(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Mr(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,Qe=e;break}Qe=t.return}}function kf(e,t,i){var a=i.flags;switch(i.tag){case 0:case 11:case 15:nn(e,i),a&4&&Al(5,i);break;case 1:if(nn(e,i),a&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(v){Re(i,i.return,v)}else{var c=Wn(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Re(i,i.return,v)}}a&64&&Hf(i),a&512&&Rl(i,i.return);break;case 3:if(nn(e,i),a&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{Mc(e,t)}catch(v){Re(i,i.return,v)}}break;case 27:t===null&&a&4&&Pf(i);case 26:case 5:nn(e,i),t===null&&a&4&&Bf(i),a&512&&Rl(i,i.return);break;case 12:nn(e,i);break;case 31:nn(e,i),a&4&&Ff(e,i);break;case 13:nn(e,i),a&4&&Xf(e,i),a&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=Qg.bind(null,i),hy(e,i))));break;case 22:if(a=i.memoizedState!==null||en,!a){t=t!==null&&t.memoizedState!==null||Fe,c=en;var p=Fe;en=a,(Fe=t)&&!p?ln(e,i,(i.subtreeFlags&8772)!==0):nn(e,i),en=c,Fe=p}break;case 30:break;default:nn(e,i)}}function Yf(e){var t=e.alternate;t!==null&&(e.alternate=null,Yf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ia(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ge=null,ut=!1;function tn(e,t,i){for(i=i.child;i!==null;)Jf(e,t,i),i=i.sibling}function Jf(e,t,i){if(ht&&typeof ht.onCommitFiberUnmount=="function")try{ht.onCommitFiberUnmount(Qi,i)}catch{}switch(i.tag){case 26:Fe||Pt(i,t),tn(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Fe||Pt(i,t);var a=Ge,c=ut;xn(i.type)&&(Ge=i.stateNode,ut=!1),tn(e,t,i),Ll(i.stateNode),Ge=a,ut=c;break;case 5:Fe||Pt(i,t);case 6:if(a=Ge,c=ut,Ge=null,tn(e,t,i),Ge=a,ut=c,Ge!==null)if(ut)try{(Ge.nodeType===9?Ge.body:Ge.nodeName==="HTML"?Ge.ownerDocument.body:Ge).removeChild(i.stateNode)}catch(p){Re(i,t,p)}else try{Ge.removeChild(i.stateNode)}catch(p){Re(i,t,p)}break;case 18:Ge!==null&&(ut?(e=Ge,Hd(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Bi(e)):Hd(Ge,i.stateNode));break;case 4:a=Ge,c=ut,Ge=i.stateNode.containerInfo,ut=!0,tn(e,t,i),Ge=a,ut=c;break;case 0:case 11:case 14:case 15:En(2,i,t),Fe||En(4,i,t),tn(e,t,i);break;case 1:Fe||(Pt(i,t),a=i.stateNode,typeof a.componentWillUnmount=="function"&&zf(i,t,a)),tn(e,t,i);break;case 21:tn(e,t,i);break;case 22:Fe=(a=Fe)||i.memoizedState!==null,tn(e,t,i),Fe=a;break;default:tn(e,t,i)}}function Ff(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Bi(e)}catch(i){Re(t,t.return,i)}}}function Xf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Bi(e)}catch(i){Re(t,t.return,i)}}function Pg(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Of),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Of),t;default:throw Error(s(435,e.tag))}}function zo(e,t){var i=Pg(e);t.forEach(function(a){if(!i.has(a)){i.add(a);var c=Zg.bind(null,e,a);a.then(c,c)}})}function ct(e,t){var i=t.deletions;if(i!==null)for(var a=0;a<i.length;a++){var c=i[a],p=e,v=t,E=v;e:for(;E!==null;){switch(E.tag){case 27:if(xn(E.type)){Ge=E.stateNode,ut=!1;break e}break;case 5:Ge=E.stateNode,ut=!1;break e;case 3:case 4:Ge=E.stateNode.containerInfo,ut=!0;break e}E=E.return}if(Ge===null)throw Error(s(160));Jf(p,v,c),Ge=null,ut=!1,p=c.alternate,p!==null&&(p.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Kf(t,e),t=t.sibling}var qt=null;function Kf(e,t){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ct(t,e),ft(e),a&4&&(En(3,e,e.return),Al(3,e),En(5,e,e.return));break;case 1:ct(t,e),ft(e),a&512&&(Fe||i===null||Pt(i,i.return)),a&64&&en&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?a:i.concat(a))));break;case 26:var c=qt;if(ct(t,e),ft(e),a&512&&(Fe||i===null||Pt(i,i.return)),a&4){var p=i!==null?i.memoizedState:null;if(a=e.memoizedState,i===null)if(a===null)if(e.stateNode===null){e:{a=e.type,i=e.memoizedProps,c=c.ownerDocument||c;t:switch(a){case"title":p=c.getElementsByTagName("title")[0],(!p||p[$i]||p[We]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=c.createElement(a),c.head.insertBefore(p,c.querySelector("head > title"))),tt(p,a,i),p[We]=e,Ke(p),a=p;break e;case"link":var v=Kd("link","href",c).get(a+(i.href||""));if(v){for(var E=0;E<v.length;E++)if(p=v[E],p.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&p.getAttribute("rel")===(i.rel==null?null:i.rel)&&p.getAttribute("title")===(i.title==null?null:i.title)&&p.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){v.splice(E,1);break t}}p=c.createElement(a),tt(p,a,i),c.head.appendChild(p);break;case"meta":if(v=Kd("meta","content",c).get(a+(i.content||""))){for(E=0;E<v.length;E++)if(p=v[E],p.getAttribute("content")===(i.content==null?null:""+i.content)&&p.getAttribute("name")===(i.name==null?null:i.name)&&p.getAttribute("property")===(i.property==null?null:i.property)&&p.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&p.getAttribute("charset")===(i.charSet==null?null:i.charSet)){v.splice(E,1);break t}}p=c.createElement(a),tt(p,a,i),c.head.appendChild(p);break;default:throw Error(s(468,a))}p[We]=e,Ke(p),a=p}e.stateNode=a}else Qd(c,e.type,e.stateNode);else e.stateNode=Xd(c,a,e.memoizedProps);else p!==a?(p===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):p.count--,a===null?Qd(c,e.type,e.stateNode):Xd(c,a,e.memoizedProps)):a===null&&e.stateNode!==null&&$s(e,e.memoizedProps,i.memoizedProps)}break;case 27:ct(t,e),ft(e),a&512&&(Fe||i===null||Pt(i,i.return)),i!==null&&a&4&&$s(e,e.memoizedProps,i.memoizedProps);break;case 5:if(ct(t,e),ft(e),a&512&&(Fe||i===null||Pt(i,i.return)),e.flags&32){c=e.stateNode;try{ri(c,"")}catch(Z){Re(e,e.return,Z)}}a&4&&e.stateNode!=null&&(c=e.memoizedProps,$s(e,c,i!==null?i.memoizedProps:c)),a&1024&&(tr=!0);break;case 6:if(ct(t,e),ft(e),a&4){if(e.stateNode===null)throw Error(s(162));a=e.memoizedProps,i=e.stateNode;try{i.nodeValue=a}catch(Z){Re(e,e.return,Z)}}break;case 3:if(ea=null,c=qt,qt=$o(t.containerInfo),ct(t,e),qt=c,ft(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{Bi(t.containerInfo)}catch(Z){Re(e,e.return,Z)}tr&&(tr=!1,Qf(e));break;case 4:a=qt,qt=$o(e.stateNode.containerInfo),ct(t,e),ft(e),qt=a;break;case 12:ct(t,e),ft(e);break;case 31:ct(t,e),ft(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,zo(e,a)));break;case 13:ct(t,e),ft(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Vo=mt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,zo(e,a)));break;case 22:c=e.memoizedState!==null;var C=i!==null&&i.memoizedState!==null,b=en,L=Fe;if(en=b||c,Fe=L||C,ct(t,e),Fe=L,en=b,ft(e),a&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(i===null||C||en||Fe||$n(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){C=i=t;try{if(p=C.stateNode,c)v=p.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=C.stateNode;var q=C.memoizedProps.style,I=q!=null&&q.hasOwnProperty("display")?q.display:null;E.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(Z){Re(C,C.return,Z)}}}else if(t.tag===6){if(i===null){C=t;try{C.stateNode.nodeValue=c?"":C.memoizedProps}catch(Z){Re(C,C.return,Z)}}}else if(t.tag===18){if(i===null){C=t;try{var U=C.stateNode;c?zd(U,!0):zd(C.stateNode,!1)}catch(Z){Re(C,C.return,Z)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(i=a.retryQueue,i!==null&&(a.retryQueue=null,zo(e,i))));break;case 19:ct(t,e),ft(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,zo(e,a)));break;case 30:break;case 21:break;default:ct(t,e),ft(e)}}function ft(e){var t=e.flags;if(t&2){try{for(var i,a=e.return;a!==null;){if(Vf(a)){i=a;break}a=a.return}if(i==null)throw Error(s(160));switch(i.tag){case 27:var c=i.stateNode,p=js(e);Ho(e,p,c);break;case 5:var v=i.stateNode;i.flags&32&&(ri(v,""),i.flags&=-33);var E=js(e);Ho(e,E,v);break;case 3:case 4:var C=i.stateNode.containerInfo,b=js(e);er(e,b,C);break;default:throw Error(s(161))}}catch(L){Re(e,e.return,L)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Qf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Qf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function nn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)kf(e,t.alternate,t),t=t.sibling}function $n(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:En(4,t,t.return),$n(t);break;case 1:Pt(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&zf(t,t.return,i),$n(t);break;case 27:Ll(t.stateNode);case 26:case 5:Pt(t,t.return),$n(t);break;case 22:t.memoizedState===null&&$n(t);break;case 30:$n(t);break;default:$n(t)}e=e.sibling}}function ln(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,c=e,p=t,v=p.flags;switch(p.tag){case 0:case 11:case 15:ln(c,p,i),Al(4,p);break;case 1:if(ln(c,p,i),a=p,c=a.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(b){Re(a,a.return,b)}if(a=p,c=a.updateQueue,c!==null){var E=a.stateNode;try{var C=c.shared.hiddenCallbacks;if(C!==null)for(c.shared.hiddenCallbacks=null,c=0;c<C.length;c++)Rc(C[c],E)}catch(b){Re(a,a.return,b)}}i&&v&64&&Hf(p),Rl(p,p.return);break;case 27:Pf(p);case 26:case 5:ln(c,p,i),i&&a===null&&v&4&&Bf(p),Rl(p,p.return);break;case 12:ln(c,p,i);break;case 31:ln(c,p,i),i&&v&4&&Ff(c,p);break;case 13:ln(c,p,i),i&&v&4&&Xf(c,p);break;case 22:p.memoizedState===null&&ln(c,p,i),Rl(p,p.return);break;case 30:break;default:ln(c,p,i)}t=t.sibling}}function nr(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&fl(i))}function ir(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&fl(e))}function Ht(e,t,i,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Zf(e,t,i,a),t=t.sibling}function Zf(e,t,i,a){var c=t.flags;switch(t.tag){case 0:case 11:case 15:Ht(e,t,i,a),c&2048&&Al(9,t);break;case 1:Ht(e,t,i,a);break;case 3:Ht(e,t,i,a),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&fl(e)));break;case 12:if(c&2048){Ht(e,t,i,a),e=t.stateNode;try{var p=t.memoizedProps,v=p.id,E=p.onPostCommit;typeof E=="function"&&E(v,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Re(t,t.return,C)}}else Ht(e,t,i,a);break;case 31:Ht(e,t,i,a);break;case 13:Ht(e,t,i,a);break;case 23:break;case 22:p=t.stateNode,v=t.alternate,t.memoizedState!==null?p._visibility&2?Ht(e,t,i,a):Ml(e,t):p._visibility&2?Ht(e,t,i,a):(p._visibility|=2,xi(e,t,i,a,(t.subtreeFlags&10256)!==0||!1)),c&2048&&nr(v,t);break;case 24:Ht(e,t,i,a),c&2048&&ir(t.alternate,t);break;default:Ht(e,t,i,a)}}function xi(e,t,i,a,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var p=e,v=t,E=i,C=a,b=v.flags;switch(v.tag){case 0:case 11:case 15:xi(p,v,E,C,c),Al(8,v);break;case 23:break;case 22:var L=v.stateNode;v.memoizedState!==null?L._visibility&2?xi(p,v,E,C,c):Ml(p,v):(L._visibility|=2,xi(p,v,E,C,c)),c&&b&2048&&nr(v.alternate,v);break;case 24:xi(p,v,E,C,c),c&&b&2048&&ir(v.alternate,v);break;default:xi(p,v,E,C,c)}t=t.sibling}}function Ml(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,a=t,c=a.flags;switch(a.tag){case 22:Ml(i,a),c&2048&&nr(a.alternate,a);break;case 24:Ml(i,a),c&2048&&ir(a.alternate,a);break;default:Ml(i,a)}t=t.sibling}}var Nl=8192;function bi(e,t,i){if(e.subtreeFlags&Nl)for(e=e.child;e!==null;)Wf(e,t,i),e=e.sibling}function Wf(e,t,i){switch(e.tag){case 26:bi(e,t,i),e.flags&Nl&&e.memoizedState!==null&&Ny(i,qt,e.memoizedState,e.memoizedProps);break;case 5:bi(e,t,i);break;case 3:case 4:var a=qt;qt=$o(e.stateNode.containerInfo),bi(e,t,i),qt=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Nl,Nl=16777216,bi(e,t,i),Nl=a):bi(e,t,i));break;default:bi(e,t,i)}}function $f(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function xl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var a=t[i];Qe=a,ed(a,e)}$f(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)jf(e),e=e.sibling}function jf(e){switch(e.tag){case 0:case 11:case 15:xl(e),e.flags&2048&&En(9,e,e.return);break;case 3:xl(e);break;case 12:xl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Bo(e)):xl(e);break;default:xl(e)}}function Bo(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var a=t[i];Qe=a,ed(a,e)}$f(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:En(8,t,t.return),Bo(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,Bo(t));break;default:Bo(t)}e=e.sibling}}function ed(e,t){for(;Qe!==null;){var i=Qe;switch(i.tag){case 0:case 11:case 15:En(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var a=i.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:fl(i.memoizedState.cache)}if(a=i.child,a!==null)a.return=i,Qe=a;else e:for(i=e;Qe!==null;){a=Qe;var c=a.sibling,p=a.return;if(Yf(a),a===i){Qe=null;break e}if(c!==null){c.return=p,Qe=c;break e}Qe=p}}}var Og={getCacheForType:function(e){var t=je(ke),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return je(ke).controller.signal}},kg=typeof WeakMap=="function"?WeakMap:Map,_e=0,Ie=null,me=null,ge=0,Ae=0,Et=null,_n=!1,Di=!1,lr=!1,on=0,ze=0,Cn=0,jn=0,or=0,_t=0,Ii=0,bl=null,dt=null,ar=!1,Vo=0,td=0,Po=1/0,Oo=null,An=null,Xe=0,Rn=null,Ui=null,an=0,sr=0,rr=null,nd=null,Dl=0,ur=null;function Ct(){return(_e&2)!==0&&ge!==0?ge&-ge:w.T!==null?hr():yu()}function id(){if(_t===0)if((ge&536870912)===0||ve){var e=Ql;Ql<<=1,(Ql&3932160)===0&&(Ql=262144),_t=e}else _t=536870912;return e=Tt.current,e!==null&&(e.flags|=32),_t}function pt(e,t,i){(e===Ie&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)&&(wi(e,0),Mn(e,ge,_t,!1)),Wi(e,i),((_e&2)===0||e!==Ie)&&(e===Ie&&((_e&2)===0&&(jn|=i),ze===4&&Mn(e,ge,_t,!1)),Ot(e))}function ld(e,t,i){if((_e&6)!==0)throw Error(s(327));var a=!i&&(t&127)===0&&(t&e.expiredLanes)===0||Zi(e,t),c=a?Fg(e,t):fr(e,t,!0),p=a;do{if(c===0){Di&&!a&&Mn(e,t,0,!1);break}else{if(i=e.current.alternate,p&&!Yg(i)){c=fr(e,t,!1),p=!1;continue}if(c===2){if(p=t,e.errorRecoveryDisabledLanes&p)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){t=v;e:{var E=e;c=bl;var C=E.current.memoizedState.isDehydrated;if(C&&(wi(E,v).flags|=256),v=fr(E,v,!1),v!==2){if(lr&&!C){E.errorRecoveryDisabledLanes|=p,jn|=p,c=4;break e}p=dt,dt=c,p!==null&&(dt===null?dt=p:dt.push.apply(dt,p))}c=v}if(p=!1,c!==2)continue}}if(c===1){wi(e,0),Mn(e,t,0,!0);break}e:{switch(a=e,p=c,p){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:Mn(a,t,_t,!_n);break e;case 2:dt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(c=Vo+300-mt(),10<c)){if(Mn(a,t,_t,!_n),Wl(a,0,!0)!==0)break e;an=t,a.timeoutHandle=Gd(od.bind(null,a,i,dt,Oo,ar,t,_t,jn,Ii,_n,p,"Throttled",-0,0),c);break e}od(a,i,dt,Oo,ar,t,_t,jn,Ii,_n,p,null,-0,0)}}break}while(!0);Ot(e)}function od(e,t,i,a,c,p,v,E,C,b,L,q,I,U){if(e.timeoutHandle=-1,q=t.subtreeFlags,q&8192||(q&16785408)===16785408){q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yt},Wf(t,p,q);var Z=(p&62914560)===p?Vo-mt():(p&4194048)===p?td-mt():0;if(Z=xy(q,Z),Z!==null){an=p,e.cancelPendingCommit=Z(pd.bind(null,e,t,p,i,a,c,v,E,C,L,q,null,I,U)),Mn(e,p,v,!b);return}}pd(e,t,p,i,a,c,v,E,C)}function Yg(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var a=0;a<i.length;a++){var c=i[a],p=c.getSnapshot;c=c.value;try{if(!yt(p(),c))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Mn(e,t,i,a){t&=~or,t&=~jn,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var c=t;0<c;){var p=31-gt(c),v=1<<p;a[p]=-1,c&=~v}i!==0&&mu(e,i,t)}function ko(){return(_e&6)===0?(Il(0),!1):!0}function cr(){if(me!==null){if(Ae===0)var e=me.return;else e=me,Kt=Yn=null,Ms(e),Ci=null,pl=0,e=me;for(;e!==null;)qf(e.alternate,e),e=e.return;me=null}}function wi(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,cy(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),an=0,cr(),Ie=e,me=i=Ft(e.current,null),ge=t,Ae=0,Et=null,_n=!1,Di=Zi(e,t),lr=!1,Ii=_t=or=jn=Cn=ze=0,dt=bl=null,ar=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var c=31-gt(a),p=1<<c;t|=e[c],a&=~p}return on=t,uo(),i}function ad(e,t){ce=null,w.H=El,t===_i||t===vo?(t=Ec(),Ae=3):t===ms?(t=Ec(),Ae=4):Ae=t===Os?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Et=t,me===null&&(ze=1,Uo(e,Nt(t,e.current)))}function sd(){var e=Tt.current;return e===null?!0:(ge&4194048)===ge?It===null:(ge&62914560)===ge||(ge&536870912)!==0?e===It:!1}function rd(){var e=w.H;return w.H=El,e===null?El:e}function ud(){var e=w.A;return w.A=Og,e}function Yo(){ze=4,_n||(ge&4194048)!==ge&&Tt.current!==null||(Di=!0),(Cn&134217727)===0&&(jn&134217727)===0||Ie===null||Mn(Ie,ge,_t,!1)}function fr(e,t,i){var a=_e;_e|=2;var c=rd(),p=ud();(Ie!==e||ge!==t)&&(Oo=null,wi(e,t)),t=!1;var v=ze;e:do try{if(Ae!==0&&me!==null){var E=me,C=Et;switch(Ae){case 8:cr(),v=6;break e;case 3:case 2:case 9:case 6:Tt.current===null&&(t=!0);var b=Ae;if(Ae=0,Et=null,Li(e,E,C,b),i&&Di){v=0;break e}break;default:b=Ae,Ae=0,Et=null,Li(e,E,C,b)}}Jg(),v=ze;break}catch(L){ad(e,L)}while(!0);return t&&e.shellSuspendCounter++,Kt=Yn=null,_e=a,w.H=c,w.A=p,me===null&&(Ie=null,ge=0,uo()),v}function Jg(){for(;me!==null;)cd(me)}function Fg(e,t){var i=_e;_e|=2;var a=rd(),c=ud();Ie!==e||ge!==t?(Oo=null,Po=mt()+500,wi(e,t)):Di=Zi(e,t);e:do try{if(Ae!==0&&me!==null){t=me;var p=Et;t:switch(Ae){case 1:Ae=0,Et=null,Li(e,t,p,1);break;case 2:case 9:if(Tc(p)){Ae=0,Et=null,fd(t);break}t=function(){Ae!==2&&Ae!==9||Ie!==e||(Ae=7),Ot(e)},p.then(t,t);break e;case 3:Ae=7;break e;case 4:Ae=5;break e;case 7:Tc(p)?(Ae=0,Et=null,fd(t)):(Ae=0,Et=null,Li(e,t,p,7));break;case 5:var v=null;switch(me.tag){case 26:v=me.memoizedState;case 5:case 27:var E=me;if(v?Zd(v):E.stateNode.complete){Ae=0,Et=null;var C=E.sibling;if(C!==null)me=C;else{var b=E.return;b!==null?(me=b,Jo(b)):me=null}break t}}Ae=0,Et=null,Li(e,t,p,5);break;case 6:Ae=0,Et=null,Li(e,t,p,6);break;case 8:cr(),ze=6;break e;default:throw Error(s(462))}}Xg();break}catch(L){ad(e,L)}while(!0);return Kt=Yn=null,w.H=a,w.A=c,_e=i,me!==null?0:(Ie=null,ge=0,uo(),ze)}function Xg(){for(;me!==null&&!gh();)cd(me)}function cd(e){var t=Lf(e.alternate,e,on);e.memoizedProps=e.pendingProps,t===null?Jo(e):me=t}function fd(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=xf(i,t,t.pendingProps,t.type,void 0,ge);break;case 11:t=xf(i,t,t.pendingProps,t.type.render,t.ref,ge);break;case 5:Ms(t);default:qf(i,t),t=me=rc(t,on),t=Lf(i,t,on)}e.memoizedProps=e.pendingProps,t===null?Jo(e):me=t}function Li(e,t,i,a){Kt=Yn=null,Ms(t),Ci=null,pl=0;var c=t.return;try{if(Gg(e,c,t,i,ge)){ze=1,Uo(e,Nt(i,e.current)),me=null;return}}catch(p){if(c!==null)throw me=c,p;ze=1,Uo(e,Nt(i,e.current)),me=null;return}t.flags&32768?(ve||a===1?e=!0:Di||(ge&536870912)!==0?e=!1:(_n=e=!0,(a===2||a===9||a===3||a===6)&&(a=Tt.current,a!==null&&a.tag===13&&(a.flags|=16384))),dd(t,e)):Jo(t)}function Jo(e){var t=e;do{if((t.flags&32768)!==0){dd(t,_n);return}e=t.return;var i=zg(t.alternate,t,on);if(i!==null){me=i;return}if(t=t.sibling,t!==null){me=t;return}me=t=e}while(t!==null);ze===0&&(ze=5)}function dd(e,t){do{var i=Bg(e.alternate,e);if(i!==null){i.flags&=32767,me=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){me=e;return}me=e=i}while(e!==null);ze=6,me=null}function pd(e,t,i,a,c,p,v,E,C){e.cancelPendingCommit=null;do Fo();while(Xe!==0);if((_e&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(p=t.lanes|t.childLanes,p|=ja,Mh(e,i,p,v,E,C),e===Ie&&(me=Ie=null,ge=0),Ui=t,Rn=e,an=i,sr=p,rr=c,nd=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Wg(Xl,function(){return vd(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=w.T,w.T=null,c=k.p,k.p=2,v=_e,_e|=4;try{Vg(e,t,i)}finally{_e=v,k.p=c,w.T=a}}Xe=1,md(),hd(),gd()}}function md(){if(Xe===1){Xe=0;var e=Rn,t=Ui,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=w.T,w.T=null;var a=k.p;k.p=2;var c=_e;_e|=4;try{Kf(t,e);var p=Cr,v=ju(e.containerInfo),E=p.focusedElem,C=p.selectionRange;if(v!==E&&E&&E.ownerDocument&&$u(E.ownerDocument.documentElement,E)){if(C!==null&&Ka(E)){var b=C.start,L=C.end;if(L===void 0&&(L=b),"selectionStart"in E)E.selectionStart=b,E.selectionEnd=Math.min(L,E.value.length);else{var q=E.ownerDocument||document,I=q&&q.defaultView||window;if(I.getSelection){var U=I.getSelection(),Z=E.textContent.length,ie=Math.min(C.start,Z),be=C.end===void 0?ie:Math.min(C.end,Z);!U.extend&&ie>be&&(v=be,be=ie,ie=v);var N=Wu(E,ie),A=Wu(E,be);if(N&&A&&(U.rangeCount!==1||U.anchorNode!==N.node||U.anchorOffset!==N.offset||U.focusNode!==A.node||U.focusOffset!==A.offset)){var x=q.createRange();x.setStart(N.node,N.offset),U.removeAllRanges(),ie>be?(U.addRange(x),U.extend(A.node,A.offset)):(x.setEnd(A.node,A.offset),U.addRange(x))}}}}for(q=[],U=E;U=U.parentNode;)U.nodeType===1&&q.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<q.length;E++){var G=q[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}la=!!_r,Cr=_r=null}finally{_e=c,k.p=a,w.T=i}}e.current=t,Xe=2}}function hd(){if(Xe===2){Xe=0;var e=Rn,t=Ui,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=w.T,w.T=null;var a=k.p;k.p=2;var c=_e;_e|=4;try{kf(e,t.alternate,t)}finally{_e=c,k.p=a,w.T=i}}Xe=3}}function gd(){if(Xe===4||Xe===3){Xe=0,yh();var e=Rn,t=Ui,i=an,a=nd;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Xe=5:(Xe=0,Ui=Rn=null,yd(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(An=null),ba(i),t=t.stateNode,ht&&typeof ht.onCommitFiberRoot=="function")try{ht.onCommitFiberRoot(Qi,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=w.T,c=k.p,k.p=2,w.T=null;try{for(var p=e.onRecoverableError,v=0;v<a.length;v++){var E=a[v];p(E.value,{componentStack:E.stack})}}finally{w.T=t,k.p=c}}(an&3)!==0&&Fo(),Ot(e),c=e.pendingLanes,(i&261930)!==0&&(c&42)!==0?e===ur?Dl++:(Dl=0,ur=e):Dl=0,Il(0)}}function yd(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,fl(t)))}function Fo(){return md(),hd(),gd(),vd()}function vd(){if(Xe!==5)return!1;var e=Rn,t=sr;sr=0;var i=ba(an),a=w.T,c=k.p;try{k.p=32>i?32:i,w.T=null,i=rr,rr=null;var p=Rn,v=an;if(Xe=0,Ui=Rn=null,an=0,(_e&6)!==0)throw Error(s(331));var E=_e;if(_e|=4,jf(p.current),Zf(p,p.current,v,i),_e=E,Il(0,!1),ht&&typeof ht.onPostCommitFiberRoot=="function")try{ht.onPostCommitFiberRoot(Qi,p)}catch{}return!0}finally{k.p=c,w.T=a,yd(e,t)}}function Td(e,t,i){t=Nt(i,t),t=Ps(e.stateNode,t,2),e=vn(e,t,2),e!==null&&(Wi(e,2),Ot(e))}function Re(e,t,i){if(e.tag===3)Td(e,e,i);else for(;t!==null;){if(t.tag===3){Td(t,e,i);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(An===null||!An.has(a))){e=Nt(i,e),i=Sf(2),a=vn(t,i,2),a!==null&&(Ef(i,a,t,e),Wi(a,2),Ot(a));break}}t=t.return}}function dr(e,t,i){var a=e.pingCache;if(a===null){a=e.pingCache=new kg;var c=new Set;a.set(t,c)}else c=a.get(t),c===void 0&&(c=new Set,a.set(t,c));c.has(i)||(lr=!0,c.add(i),e=Kg.bind(null,e,t,i),t.then(e,e))}function Kg(e,t,i){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Ie===e&&(ge&i)===i&&(ze===4||ze===3&&(ge&62914560)===ge&&300>mt()-Vo?(_e&2)===0&&wi(e,0):or|=i,Ii===ge&&(Ii=0)),Ot(e)}function Sd(e,t){t===0&&(t=pu()),e=Pn(e,t),e!==null&&(Wi(e,t),Ot(e))}function Qg(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Sd(e,i)}function Zg(e,t){var i=0;switch(e.tag){case 31:case 13:var a=e.stateNode,c=e.memoizedState;c!==null&&(i=c.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(s(314))}a!==null&&a.delete(t),Sd(e,i)}function Wg(e,t){return Ra(e,t)}var Xo=null,Gi=null,pr=!1,Ko=!1,mr=!1,Nn=0;function Ot(e){e!==Gi&&e.next===null&&(Gi===null?Xo=Gi=e:Gi=Gi.next=e),Ko=!0,pr||(pr=!0,jg())}function Il(e,t){if(!mr&&Ko){mr=!0;do for(var i=!1,a=Xo;a!==null;){if(e!==0){var c=a.pendingLanes;if(c===0)var p=0;else{var v=a.suspendedLanes,E=a.pingedLanes;p=(1<<31-gt(42|e)+1)-1,p&=c&~(v&~E),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(i=!0,Ad(a,p))}else p=ge,p=Wl(a,a===Ie?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(p&3)===0||Zi(a,p)||(i=!0,Ad(a,p));a=a.next}while(i);mr=!1}}function $g(){Ed()}function Ed(){Ko=pr=!1;var e=0;Nn!==0&&uy()&&(e=Nn);for(var t=mt(),i=null,a=Xo;a!==null;){var c=a.next,p=_d(a,t);p===0?(a.next=null,i===null?Xo=c:i.next=c,c===null&&(Gi=i)):(i=a,(e!==0||(p&3)!==0)&&(Ko=!0)),a=c}Xe!==0&&Xe!==5||Il(e),Nn!==0&&(Nn=0)}function _d(e,t){for(var i=e.suspendedLanes,a=e.pingedLanes,c=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var v=31-gt(p),E=1<<v,C=c[v];C===-1?((E&i)===0||(E&a)!==0)&&(c[v]=Rh(E,t)):C<=t&&(e.expiredLanes|=E),p&=~E}if(t=Ie,i=ge,i=Wl(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,i===0||e===t&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Ma(a),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Zi(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(a!==null&&Ma(a),ba(i)){case 2:case 8:i=fu;break;case 32:i=Xl;break;case 268435456:i=du;break;default:i=Xl}return a=Cd.bind(null,e),i=Ra(i,a),e.callbackPriority=t,e.callbackNode=i,t}return a!==null&&a!==null&&Ma(a),e.callbackPriority=2,e.callbackNode=null,2}function Cd(e,t){if(Xe!==0&&Xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(Fo()&&e.callbackNode!==i)return null;var a=ge;return a=Wl(e,e===Ie?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(ld(e,a,t),_d(e,mt()),e.callbackNode!=null&&e.callbackNode===i?Cd.bind(null,e):null)}function Ad(e,t){if(Fo())return null;ld(e,t,!0)}function jg(){fy(function(){(_e&6)!==0?Ra(cu,$g):Ed()})}function hr(){if(Nn===0){var e=Si;e===0&&(e=Kl,Kl<<=1,(Kl&261888)===0&&(Kl=256)),Nn=e}return Nn}function Rd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:to(""+e)}function Md(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function ey(e,t,i,a,c){if(t==="submit"&&i&&i.stateNode===c){var p=Rd((c[st]||null).action),v=a.submitter;v&&(t=(t=v[st]||null)?Rd(t.formAction):v.getAttribute("formAction"),t!==null&&(p=t,v=null));var E=new oo("action","action",null,a,c);e.push({event:E,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Nn!==0){var C=v?Md(c,v):new FormData(c);Gs(i,{pending:!0,data:C,method:c.method,action:p},null,C)}}else typeof p=="function"&&(E.preventDefault(),C=v?Md(c,v):new FormData(c),Gs(i,{pending:!0,data:C,method:c.method,action:p},p,C))},currentTarget:c}]})}}for(var gr=0;gr<$a.length;gr++){var yr=$a[gr],ty=yr.toLowerCase(),ny=yr[0].toUpperCase()+yr.slice(1);Gt(ty,"on"+ny)}Gt(nc,"onAnimationEnd"),Gt(ic,"onAnimationIteration"),Gt(lc,"onAnimationStart"),Gt("dblclick","onDoubleClick"),Gt("focusin","onFocus"),Gt("focusout","onBlur"),Gt(vg,"onTransitionRun"),Gt(Tg,"onTransitionStart"),Gt(Sg,"onTransitionCancel"),Gt(oc,"onTransitionEnd"),ai("onMouseEnter",["mouseout","mouseover"]),ai("onMouseLeave",["mouseout","mouseover"]),ai("onPointerEnter",["pointerout","pointerover"]),ai("onPointerLeave",["pointerout","pointerover"]),Hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ul));function Nd(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],c=a.event;a=a.listeners;e:{var p=void 0;if(t)for(var v=a.length-1;0<=v;v--){var E=a[v],C=E.instance,b=E.currentTarget;if(E=E.listener,C!==p&&c.isPropagationStopped())break e;p=E,c.currentTarget=b;try{p(c)}catch(L){ro(L)}c.currentTarget=null,p=C}else for(v=0;v<a.length;v++){if(E=a[v],C=E.instance,b=E.currentTarget,E=E.listener,C!==p&&c.isPropagationStopped())break e;p=E,c.currentTarget=b;try{p(c)}catch(L){ro(L)}c.currentTarget=null,p=C}}}}function he(e,t){var i=t[Da];i===void 0&&(i=t[Da]=new Set);var a=e+"__bubble";i.has(a)||(xd(t,e,2,!1),i.add(a))}function vr(e,t,i){var a=0;t&&(a|=4),xd(i,e,a,t)}var Qo="_reactListening"+Math.random().toString(36).slice(2);function Tr(e){if(!e[Qo]){e[Qo]=!0,Su.forEach(function(i){i!=="selectionchange"&&(iy.has(i)||vr(i,!1,e),vr(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Qo]||(t[Qo]=!0,vr("selectionchange",!1,t))}}function xd(e,t,i,a){switch(ip(t)){case 2:var c=Iy;break;case 8:c=Uy;break;default:c=Lr}i=c.bind(null,t,i,e),c=void 0,!Ba||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),a?c!==void 0?e.addEventListener(t,i,{capture:!0,passive:c}):e.addEventListener(t,i,!0):c!==void 0?e.addEventListener(t,i,{passive:c}):e.addEventListener(t,i,!1)}function Sr(e,t,i,a,c){var p=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var v=a.tag;if(v===3||v===4){var E=a.stateNode.containerInfo;if(E===c)break;if(v===4)for(v=a.return;v!==null;){var C=v.tag;if((C===3||C===4)&&v.stateNode.containerInfo===c)return;v=v.return}for(;E!==null;){if(v=ii(E),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){a=p=v;continue e}E=E.parentNode}}a=a.return}Uu(function(){var b=p,L=Ha(i),q=[];e:{var I=ac.get(e);if(I!==void 0){var U=oo,Z=e;switch(e){case"keypress":if(io(i)===0)break e;case"keydown":case"keyup":U=Zh;break;case"focusin":Z="focus",U=ka;break;case"focusout":Z="blur",U=ka;break;case"beforeblur":case"afterblur":U=ka;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=Gu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=zh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=jh;break;case nc:case ic:case lc:U=Ph;break;case oc:U=tg;break;case"scroll":case"scrollend":U=qh;break;case"wheel":U=ig;break;case"copy":case"cut":case"paste":U=kh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=Hu;break;case"toggle":case"beforetoggle":U=og}var ie=(t&4)!==0,be=!ie&&(e==="scroll"||e==="scrollend"),N=ie?I!==null?I+"Capture":null:I;ie=[];for(var A=b,x;A!==null;){var G=A;if(x=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||x===null||N===null||(G=el(A,N),G!=null&&ie.push(wl(A,G,x))),be)break;A=A.return}0<ie.length&&(I=new U(I,Z,null,i,L),q.push({event:I,listeners:ie}))}}if((t&7)===0){e:{if(I=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",I&&i!==qa&&(Z=i.relatedTarget||i.fromElement)&&(ii(Z)||Z[ni]))break e;if((U||I)&&(I=L.window===L?L:(I=L.ownerDocument)?I.defaultView||I.parentWindow:window,U?(Z=i.relatedTarget||i.toElement,U=b,Z=Z?ii(Z):null,Z!==null&&(be=d(Z),ie=Z.tag,Z!==be||ie!==5&&ie!==27&&ie!==6)&&(Z=null)):(U=null,Z=b),U!==Z)){if(ie=Gu,G="onMouseLeave",N="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(ie=Hu,G="onPointerLeave",N="onPointerEnter",A="pointer"),be=U==null?I:ji(U),x=Z==null?I:ji(Z),I=new ie(G,A+"leave",U,i,L),I.target=be,I.relatedTarget=x,G=null,ii(L)===b&&(ie=new ie(N,A+"enter",Z,i,L),ie.target=x,ie.relatedTarget=be,G=ie),be=G,U&&Z)t:{for(ie=ly,N=U,A=Z,x=0,G=N;G;G=ie(G))x++;G=0;for(var ne=A;ne;ne=ie(ne))G++;for(;0<x-G;)N=ie(N),x--;for(;0<G-x;)A=ie(A),G--;for(;x--;){if(N===A||A!==null&&N===A.alternate){ie=N;break t}N=ie(N),A=ie(A)}ie=null}else ie=null;U!==null&&bd(q,I,U,ie,!1),Z!==null&&be!==null&&bd(q,be,Z,ie,!0)}}e:{if(I=b?ji(b):window,U=I.nodeName&&I.nodeName.toLowerCase(),U==="select"||U==="input"&&I.type==="file")var Te=Ju;else if(ku(I))if(Fu)Te=hg;else{Te=pg;var j=dg}else U=I.nodeName,!U||U.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?b&&Ga(b.elementType)&&(Te=Ju):Te=mg;if(Te&&(Te=Te(e,b))){Yu(q,Te,i,L);break e}j&&j(e,I,b),e==="focusout"&&b&&I.type==="number"&&b.memoizedProps.value!=null&&La(I,"number",I.value)}switch(j=b?ji(b):window,e){case"focusin":(ku(j)||j.contentEditable==="true")&&(di=j,Qa=b,rl=null);break;case"focusout":rl=Qa=di=null;break;case"mousedown":Za=!0;break;case"contextmenu":case"mouseup":case"dragend":Za=!1,ec(q,i,L);break;case"selectionchange":if(yg)break;case"keydown":case"keyup":ec(q,i,L)}var fe;if(Ja)e:{switch(e){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else fi?Pu(e,i)&&(ye="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ye="onCompositionStart");ye&&(zu&&i.locale!=="ko"&&(fi||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&fi&&(fe=wu()):(fn=L,Va="value"in fn?fn.value:fn.textContent,fi=!0)),j=Zo(b,ye),0<j.length&&(ye=new qu(ye,e,null,i,L),q.push({event:ye,listeners:j}),fe?ye.data=fe:(fe=Ou(i),fe!==null&&(ye.data=fe)))),(fe=sg?rg(e,i):ug(e,i))&&(ye=Zo(b,"onBeforeInput"),0<ye.length&&(j=new qu("onBeforeInput","beforeinput",null,i,L),q.push({event:j,listeners:ye}),j.data=fe)),ey(q,e,b,i,L)}Nd(q,t)})}function wl(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Zo(e,t){for(var i=t+"Capture",a=[];e!==null;){var c=e,p=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||p===null||(c=el(e,i),c!=null&&a.unshift(wl(e,c,p)),c=el(e,t),c!=null&&a.push(wl(e,c,p))),e.tag===3)return a;e=e.return}return[]}function ly(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function bd(e,t,i,a,c){for(var p=t._reactName,v=[];i!==null&&i!==a;){var E=i,C=E.alternate,b=E.stateNode;if(E=E.tag,C!==null&&C===a)break;E!==5&&E!==26&&E!==27||b===null||(C=b,c?(b=el(i,p),b!=null&&v.unshift(wl(i,b,C))):c||(b=el(i,p),b!=null&&v.push(wl(i,b,C)))),i=i.return}v.length!==0&&e.push({event:t,listeners:v})}var oy=/\r\n?/g,ay=/\u0000|\uFFFD/g;function Dd(e){return(typeof e=="string"?e:""+e).replace(oy,`
`).replace(ay,"")}function Id(e,t){return t=Dd(t),Dd(e)===t}function xe(e,t,i,a,c,p){switch(i){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||ri(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&ri(e,""+a);break;case"className":jl(e,"class",a);break;case"tabIndex":jl(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":jl(e,i,a);break;case"style":Du(e,a,p);break;case"data":if(t!=="object"){jl(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(i);break}a=to(""+a),e.setAttribute(i,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(i==="formAction"?(t!=="input"&&xe(e,t,"name",c.name,c,null),xe(e,t,"formEncType",c.formEncType,c,null),xe(e,t,"formMethod",c.formMethod,c,null),xe(e,t,"formTarget",c.formTarget,c,null)):(xe(e,t,"encType",c.encType,c,null),xe(e,t,"method",c.method,c,null),xe(e,t,"target",c.target,c,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(i);break}a=to(""+a),e.setAttribute(i,a);break;case"onClick":a!=null&&(e.onclick=Yt);break;case"onScroll":a!=null&&he("scroll",e);break;case"onScrollEnd":a!=null&&he("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(i=a.__html,i!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}i=to(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,""+a):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":a===!0?e.setAttribute(i,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,a):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(i,a):e.removeAttribute(i);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(i):e.setAttribute(i,a);break;case"popover":he("beforetoggle",e),he("toggle",e),$l(e,"popover",a);break;case"xlinkActuate":kt(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":kt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":kt(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":kt(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":kt(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":kt(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":kt(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":kt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":kt(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":$l(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Lh.get(i)||i,$l(e,i,a))}}function Er(e,t,i,a,c,p){switch(i){case"style":Du(e,a,p);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(i=a.__html,i!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"children":typeof a=="string"?ri(e,a):(typeof a=="number"||typeof a=="bigint")&&ri(e,""+a);break;case"onScroll":a!=null&&he("scroll",e);break;case"onScrollEnd":a!=null&&he("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Yt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Eu.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(c=i.endsWith("Capture"),t=i.slice(2,c?i.length-7:void 0),p=e[st]||null,p=p!=null?p[i]:null,typeof p=="function"&&e.removeEventListener(t,p,c),typeof a=="function")){typeof p!="function"&&p!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,a,c);break e}i in e?e[i]=a:a===!0?e.setAttribute(i,""):$l(e,i,a)}}}function tt(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":he("error",e),he("load",e);var a=!1,c=!1,p;for(p in i)if(i.hasOwnProperty(p)){var v=i[p];if(v!=null)switch(p){case"src":a=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:xe(e,t,p,v,i,null)}}c&&xe(e,t,"srcSet",i.srcSet,i,null),a&&xe(e,t,"src",i.src,i,null);return;case"input":he("invalid",e);var E=p=v=c=null,C=null,b=null;for(a in i)if(i.hasOwnProperty(a)){var L=i[a];if(L!=null)switch(a){case"name":c=L;break;case"type":v=L;break;case"checked":C=L;break;case"defaultChecked":b=L;break;case"value":p=L;break;case"defaultValue":E=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(s(137,t));break;default:xe(e,t,a,L,i,null)}}Mu(e,p,E,C,b,v,c,!1);return;case"select":he("invalid",e),a=v=p=null;for(c in i)if(i.hasOwnProperty(c)&&(E=i[c],E!=null))switch(c){case"value":p=E;break;case"defaultValue":v=E;break;case"multiple":a=E;default:xe(e,t,c,E,i,null)}t=p,i=v,e.multiple=!!a,t!=null?si(e,!!a,t,!1):i!=null&&si(e,!!a,i,!0);return;case"textarea":he("invalid",e),p=c=a=null;for(v in i)if(i.hasOwnProperty(v)&&(E=i[v],E!=null))switch(v){case"value":a=E;break;case"defaultValue":c=E;break;case"children":p=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:xe(e,t,v,E,i,null)}xu(e,a,c,p);return;case"option":for(C in i)if(i.hasOwnProperty(C)&&(a=i[C],a!=null))switch(C){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:xe(e,t,C,a,i,null)}return;case"dialog":he("beforetoggle",e),he("toggle",e),he("cancel",e),he("close",e);break;case"iframe":case"object":he("load",e);break;case"video":case"audio":for(a=0;a<Ul.length;a++)he(Ul[a],e);break;case"image":he("error",e),he("load",e);break;case"details":he("toggle",e);break;case"embed":case"source":case"link":he("error",e),he("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(b in i)if(i.hasOwnProperty(b)&&(a=i[b],a!=null))switch(b){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:xe(e,t,b,a,i,null)}return;default:if(Ga(t)){for(L in i)i.hasOwnProperty(L)&&(a=i[L],a!==void 0&&Er(e,t,L,a,i,void 0));return}}for(E in i)i.hasOwnProperty(E)&&(a=i[E],a!=null&&xe(e,t,E,a,i,null))}function sy(e,t,i,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,p=null,v=null,E=null,C=null,b=null,L=null;for(U in i){var q=i[U];if(i.hasOwnProperty(U)&&q!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":C=q;default:a.hasOwnProperty(U)||xe(e,t,U,null,a,q)}}for(var I in a){var U=a[I];if(q=i[I],a.hasOwnProperty(I)&&(U!=null||q!=null))switch(I){case"type":p=U;break;case"name":c=U;break;case"checked":b=U;break;case"defaultChecked":L=U;break;case"value":v=U;break;case"defaultValue":E=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(s(137,t));break;default:U!==q&&xe(e,t,I,U,a,q)}}wa(e,v,E,C,b,L,p,c);return;case"select":U=v=E=I=null;for(p in i)if(C=i[p],i.hasOwnProperty(p)&&C!=null)switch(p){case"value":break;case"multiple":U=C;default:a.hasOwnProperty(p)||xe(e,t,p,null,a,C)}for(c in a)if(p=a[c],C=i[c],a.hasOwnProperty(c)&&(p!=null||C!=null))switch(c){case"value":I=p;break;case"defaultValue":E=p;break;case"multiple":v=p;default:p!==C&&xe(e,t,c,p,a,C)}t=E,i=v,a=U,I!=null?si(e,!!i,I,!1):!!a!=!!i&&(t!=null?si(e,!!i,t,!0):si(e,!!i,i?[]:"",!1));return;case"textarea":U=I=null;for(E in i)if(c=i[E],i.hasOwnProperty(E)&&c!=null&&!a.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:xe(e,t,E,null,a,c)}for(v in a)if(c=a[v],p=i[v],a.hasOwnProperty(v)&&(c!=null||p!=null))switch(v){case"value":I=c;break;case"defaultValue":U=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==p&&xe(e,t,v,c,a,p)}Nu(e,I,U);return;case"option":for(var Z in i)if(I=i[Z],i.hasOwnProperty(Z)&&I!=null&&!a.hasOwnProperty(Z))switch(Z){case"selected":e.selected=!1;break;default:xe(e,t,Z,null,a,I)}for(C in a)if(I=a[C],U=i[C],a.hasOwnProperty(C)&&I!==U&&(I!=null||U!=null))switch(C){case"selected":e.selected=I&&typeof I!="function"&&typeof I!="symbol";break;default:xe(e,t,C,I,a,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ie in i)I=i[ie],i.hasOwnProperty(ie)&&I!=null&&!a.hasOwnProperty(ie)&&xe(e,t,ie,null,a,I);for(b in a)if(I=a[b],U=i[b],a.hasOwnProperty(b)&&I!==U&&(I!=null||U!=null))switch(b){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(s(137,t));break;default:xe(e,t,b,I,a,U)}return;default:if(Ga(t)){for(var be in i)I=i[be],i.hasOwnProperty(be)&&I!==void 0&&!a.hasOwnProperty(be)&&Er(e,t,be,void 0,a,I);for(L in a)I=a[L],U=i[L],!a.hasOwnProperty(L)||I===U||I===void 0&&U===void 0||Er(e,t,L,I,a,U);return}}for(var N in i)I=i[N],i.hasOwnProperty(N)&&I!=null&&!a.hasOwnProperty(N)&&xe(e,t,N,null,a,I);for(q in a)I=a[q],U=i[q],!a.hasOwnProperty(q)||I===U||I==null&&U==null||xe(e,t,q,I,a,U)}function Ud(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ry(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),a=0;a<i.length;a++){var c=i[a],p=c.transferSize,v=c.initiatorType,E=c.duration;if(p&&E&&Ud(v)){for(v=0,E=c.responseEnd,a+=1;a<i.length;a++){var C=i[a],b=C.startTime;if(b>E)break;var L=C.transferSize,q=C.initiatorType;L&&Ud(q)&&(C=C.responseEnd,v+=L*(C<E?1:(E-b)/(C-b)))}if(--a,t+=8*(p+v)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var _r=null,Cr=null;function Wo(e){return e.nodeType===9?e:e.ownerDocument}function wd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ld(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ar(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Rr=null;function uy(){var e=window.event;return e&&e.type==="popstate"?e===Rr?!1:(Rr=e,!0):(Rr=null,!1)}var Gd=typeof setTimeout=="function"?setTimeout:void 0,cy=typeof clearTimeout=="function"?clearTimeout:void 0,qd=typeof Promise=="function"?Promise:void 0,fy=typeof queueMicrotask=="function"?queueMicrotask:typeof qd<"u"?function(e){return qd.resolve(null).then(e).catch(dy)}:Gd;function dy(e){setTimeout(function(){throw e})}function xn(e){return e==="head"}function Hd(e,t){var i=t,a=0;do{var c=i.nextSibling;if(e.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"||i==="/&"){if(a===0){e.removeChild(c),Bi(t);return}a--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")a++;else if(i==="html")Ll(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,Ll(i);for(var p=i.firstChild;p;){var v=p.nextSibling,E=p.nodeName;p[$i]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&p.rel.toLowerCase()==="stylesheet"||i.removeChild(p),p=v}}else i==="body"&&Ll(e.ownerDocument.body);i=c}while(i);Bi(t)}function zd(e,t){var i=e;e=0;do{var a=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),a&&a.nodeType===8)if(i=a.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=a}while(i)}function Mr(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Mr(i),Ia(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function py(e,t,i,a){for(;e.nodeType===1;){var c=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[$i])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var p=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=Ut(e.nextSibling),e===null)break}return null}function my(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Ut(e.nextSibling),e===null))return null;return e}function Bd(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Ut(e.nextSibling),e===null))return null;return e}function Nr(e){return e.data==="$?"||e.data==="$~"}function xr(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function hy(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var a=function(){t(),i.removeEventListener("DOMContentLoaded",a)};i.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Ut(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var br=null;function Vd(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return Ut(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function Pd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function Od(e,t,i){switch(t=Wo(i),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Ll(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ia(e)}var wt=new Map,kd=new Set;function $o(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var sn=k.d;k.d={f:gy,r:yy,D:vy,C:Ty,L:Sy,m:Ey,X:Cy,S:_y,M:Ay};function gy(){var e=sn.f(),t=ko();return e||t}function yy(e){var t=li(e);t!==null&&t.tag===5&&t.type==="form"?af(t):sn.r(e)}var qi=typeof document>"u"?null:document;function Yd(e,t,i){var a=qi;if(a&&typeof t=="string"&&t){var c=Rt(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof i=="string"&&(c+='[crossorigin="'+i+'"]'),kd.has(c)||(kd.add(c),e={rel:e,crossOrigin:i,href:t},a.querySelector(c)===null&&(t=a.createElement("link"),tt(t,"link",e),Ke(t),a.head.appendChild(t)))}}function vy(e){sn.D(e),Yd("dns-prefetch",e,null)}function Ty(e,t){sn.C(e,t),Yd("preconnect",e,t)}function Sy(e,t,i){sn.L(e,t,i);var a=qi;if(a&&e&&t){var c='link[rel="preload"][as="'+Rt(t)+'"]';t==="image"&&i&&i.imageSrcSet?(c+='[imagesrcset="'+Rt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(c+='[imagesizes="'+Rt(i.imageSizes)+'"]')):c+='[href="'+Rt(e)+'"]';var p=c;switch(t){case"style":p=Hi(e);break;case"script":p=zi(e)}wt.has(p)||(e=S({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),wt.set(p,e),a.querySelector(c)!==null||t==="style"&&a.querySelector(Gl(p))||t==="script"&&a.querySelector(ql(p))||(t=a.createElement("link"),tt(t,"link",e),Ke(t),a.head.appendChild(t)))}}function Ey(e,t){sn.m(e,t);var i=qi;if(i&&e){var a=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+Rt(a)+'"][href="'+Rt(e)+'"]',p=c;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=zi(e)}if(!wt.has(p)&&(e=S({rel:"modulepreload",href:e},t),wt.set(p,e),i.querySelector(c)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(ql(p)))return}a=i.createElement("link"),tt(a,"link",e),Ke(a),i.head.appendChild(a)}}}function _y(e,t,i){sn.S(e,t,i);var a=qi;if(a&&e){var c=oi(a).hoistableStyles,p=Hi(e);t=t||"default";var v=c.get(p);if(!v){var E={loading:0,preload:null};if(v=a.querySelector(Gl(p)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":t},i),(i=wt.get(p))&&Dr(e,i);var C=v=a.createElement("link");Ke(C),tt(C,"link",e),C._p=new Promise(function(b,L){C.onload=b,C.onerror=L}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,jo(v,t,a)}v={type:"stylesheet",instance:v,count:1,state:E},c.set(p,v)}}}function Cy(e,t){sn.X(e,t);var i=qi;if(i&&e){var a=oi(i).hoistableScripts,c=zi(e),p=a.get(c);p||(p=i.querySelector(ql(c)),p||(e=S({src:e,async:!0},t),(t=wt.get(c))&&Ir(e,t),p=i.createElement("script"),Ke(p),tt(p,"link",e),i.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},a.set(c,p))}}function Ay(e,t){sn.M(e,t);var i=qi;if(i&&e){var a=oi(i).hoistableScripts,c=zi(e),p=a.get(c);p||(p=i.querySelector(ql(c)),p||(e=S({src:e,async:!0,type:"module"},t),(t=wt.get(c))&&Ir(e,t),p=i.createElement("script"),Ke(p),tt(p,"link",e),i.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},a.set(c,p))}}function Jd(e,t,i,a){var c=(c=pe.current)?$o(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=Hi(i.href),i=oi(c).hoistableStyles,a=i.get(t),a||(a={type:"style",instance:null,count:0,state:null},i.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Hi(i.href);var p=oi(c).hoistableStyles,v=p.get(e);if(v||(c=c.ownerDocument||c,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,v),(p=c.querySelector(Gl(e)))&&!p._p&&(v.instance=p,v.state.loading=5),wt.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},wt.set(e,i),p||Ry(c,e,i,v.state))),t&&a===null)throw Error(s(528,""));return v}if(t&&a!==null)throw Error(s(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=zi(i),i=oi(c).hoistableScripts,a=i.get(t),a||(a={type:"script",instance:null,count:0,state:null},i.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Hi(e){return'href="'+Rt(e)+'"'}function Gl(e){return'link[rel="stylesheet"]['+e+"]"}function Fd(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function Ry(e,t,i,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),tt(t,"link",i),Ke(t),e.head.appendChild(t))}function zi(e){return'[src="'+Rt(e)+'"]'}function ql(e){return"script[async]"+e}function Xd(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Rt(i.href)+'"]');if(a)return t.instance=a,Ke(a),a;var c=S({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Ke(a),tt(a,"style",c),jo(a,i.precedence,e),t.instance=a;case"stylesheet":c=Hi(i.href);var p=e.querySelector(Gl(c));if(p)return t.state.loading|=4,t.instance=p,Ke(p),p;a=Fd(i),(c=wt.get(c))&&Dr(a,c),p=(e.ownerDocument||e).createElement("link"),Ke(p);var v=p;return v._p=new Promise(function(E,C){v.onload=E,v.onerror=C}),tt(p,"link",a),t.state.loading|=4,jo(p,i.precedence,e),t.instance=p;case"script":return p=zi(i.src),(c=e.querySelector(ql(p)))?(t.instance=c,Ke(c),c):(a=i,(c=wt.get(p))&&(a=S({},i),Ir(a,c)),e=e.ownerDocument||e,c=e.createElement("script"),Ke(c),tt(c,"link",a),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,jo(a,i.precedence,e));return t.instance}function jo(e,t,i){for(var a=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=a.length?a[a.length-1]:null,p=c,v=0;v<a.length;v++){var E=a[v];if(E.dataset.precedence===t)p=E;else if(p!==c)break}p?p.parentNode.insertBefore(e,p.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function Dr(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Ir(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ea=null;function Kd(e,t,i){if(ea===null){var a=new Map,c=ea=new Map;c.set(i,a)}else c=ea,a=c.get(i),a||(a=new Map,c.set(i,a));if(a.has(e))return a;for(a.set(e,null),i=i.getElementsByTagName(e),c=0;c<i.length;c++){var p=i[c];if(!(p[$i]||p[We]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var v=p.getAttribute(t)||"";v=e+v;var E=a.get(v);E?E.push(p):a.set(v,[p])}}return a}function Qd(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function My(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Zd(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Ny(e,t,i,a){if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var c=Hi(a.href),p=t.querySelector(Gl(c));if(p){t=p._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ta.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=p,Ke(p);return}p=t.ownerDocument||t,a=Fd(a),(c=wt.get(c))&&Dr(a,c),p=p.createElement("link"),Ke(p);var v=p;v._p=new Promise(function(E,C){v.onload=E,v.onerror=C}),tt(p,"link",a),i.instance=p}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=ta.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var Ur=0;function xy(e,t){return e.stylesheets&&e.count===0&&ia(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var a=setTimeout(function(){if(e.stylesheets&&ia(e,e.stylesheets),e.unsuspend){var p=e.unsuspend;e.unsuspend=null,p()}},6e4+t);0<e.imgBytes&&Ur===0&&(Ur=62500*ry());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ia(e,e.stylesheets),e.unsuspend)){var p=e.unsuspend;e.unsuspend=null,p()}},(e.imgBytes>Ur?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(c)}}:null}function ta(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ia(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var na=null;function ia(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,na=new Map,t.forEach(by,e),na=null,ta.call(e))}function by(e,t){if(!(t.state.loading&4)){var i=na.get(e);if(i)var a=i.get(null);else{i=new Map,na.set(e,i);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<c.length;p++){var v=c[p];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(i.set(v.dataset.precedence,v),a=v)}a&&i.set(null,a)}c=t.instance,v=c.getAttribute("data-precedence"),p=i.get(v)||a,p===a&&i.set(null,c),i.set(v,c),this.count++,a=ta.bind(this),c.addEventListener("load",a),c.addEventListener("error",a),p?p.parentNode.insertBefore(c,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var Hl={$$typeof:V,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function Dy(e,t,i,a,c,p,v,E,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Na(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Na(0),this.hiddenUpdates=Na(null),this.identifierPrefix=a,this.onUncaughtError=c,this.onCaughtError=p,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Wd(e,t,i,a,c,p,v,E,C,b,L,q){return e=new Dy(e,t,i,v,C,b,L,q,E),t=1,p===!0&&(t|=24),p=vt(3,null,null,t),e.current=p,p.stateNode=e,t=fs(),t.refCount++,e.pooledCache=t,t.refCount++,p.memoizedState={element:a,isDehydrated:i,cache:t},hs(p),e}function $d(e){return e?(e=hi,e):hi}function jd(e,t,i,a,c,p){c=$d(c),a.context===null?a.context=c:a.pendingContext=c,a=yn(t),a.payload={element:i},p=p===void 0?null:p,p!==null&&(a.callback=p),i=vn(e,a,t),i!==null&&(pt(i,e,t),hl(i,e,t))}function ep(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function wr(e,t){ep(e,t),(e=e.alternate)&&ep(e,t)}function tp(e){if(e.tag===13||e.tag===31){var t=Pn(e,67108864);t!==null&&pt(t,e,67108864),wr(e,67108864)}}function np(e){if(e.tag===13||e.tag===31){var t=Ct();t=xa(t);var i=Pn(e,t);i!==null&&pt(i,e,t),wr(e,t)}}var la=!0;function Iy(e,t,i,a){var c=w.T;w.T=null;var p=k.p;try{k.p=2,Lr(e,t,i,a)}finally{k.p=p,w.T=c}}function Uy(e,t,i,a){var c=w.T;w.T=null;var p=k.p;try{k.p=8,Lr(e,t,i,a)}finally{k.p=p,w.T=c}}function Lr(e,t,i,a){if(la){var c=Gr(a);if(c===null)Sr(e,t,a,oa,i),lp(e,a);else if(Ly(c,e,t,i,a))a.stopPropagation();else if(lp(e,a),t&4&&-1<wy.indexOf(e)){for(;c!==null;){var p=li(c);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var v=qn(p.pendingLanes);if(v!==0){var E=p;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var C=1<<31-gt(v);E.entanglements[1]|=C,v&=~C}Ot(p),(_e&6)===0&&(Po=mt()+500,Il(0))}}break;case 31:case 13:E=Pn(p,2),E!==null&&pt(E,p,2),ko(),wr(p,2)}if(p=Gr(a),p===null&&Sr(e,t,a,oa,i),p===c)break;c=p}c!==null&&a.stopPropagation()}else Sr(e,t,a,null,i)}}function Gr(e){return e=Ha(e),qr(e)}var oa=null;function qr(e){if(oa=null,e=ii(e),e!==null){var t=d(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=m(t),e!==null)return e;e=null}else if(i===31){if(e=g(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return oa=e,null}function ip(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vh()){case cu:return 2;case fu:return 8;case Xl:case Th:return 32;case du:return 268435456;default:return 32}default:return 32}}var Hr=!1,bn=null,Dn=null,In=null,zl=new Map,Bl=new Map,Un=[],wy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lp(e,t){switch(e){case"focusin":case"focusout":bn=null;break;case"dragenter":case"dragleave":Dn=null;break;case"mouseover":case"mouseout":In=null;break;case"pointerover":case"pointerout":zl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bl.delete(t.pointerId)}}function Vl(e,t,i,a,c,p){return e===null||e.nativeEvent!==p?(e={blockedOn:t,domEventName:i,eventSystemFlags:a,nativeEvent:p,targetContainers:[c]},t!==null&&(t=li(t),t!==null&&tp(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function Ly(e,t,i,a,c){switch(t){case"focusin":return bn=Vl(bn,e,t,i,a,c),!0;case"dragenter":return Dn=Vl(Dn,e,t,i,a,c),!0;case"mouseover":return In=Vl(In,e,t,i,a,c),!0;case"pointerover":var p=c.pointerId;return zl.set(p,Vl(zl.get(p)||null,e,t,i,a,c)),!0;case"gotpointercapture":return p=c.pointerId,Bl.set(p,Vl(Bl.get(p)||null,e,t,i,a,c)),!0}return!1}function op(e){var t=ii(e.target);if(t!==null){var i=d(t);if(i!==null){if(t=i.tag,t===13){if(t=m(i),t!==null){e.blockedOn=t,vu(e.priority,function(){np(i)});return}}else if(t===31){if(t=g(i),t!==null){e.blockedOn=t,vu(e.priority,function(){np(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function aa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Gr(e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);qa=a,i.target.dispatchEvent(a),qa=null}else return t=li(i),t!==null&&tp(t),e.blockedOn=i,!1;t.shift()}return!0}function ap(e,t,i){aa(e)&&i.delete(t)}function Gy(){Hr=!1,bn!==null&&aa(bn)&&(bn=null),Dn!==null&&aa(Dn)&&(Dn=null),In!==null&&aa(In)&&(In=null),zl.forEach(ap),Bl.forEach(ap)}function sa(e,t){e.blockedOn===t&&(e.blockedOn=null,Hr||(Hr=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,Gy)))}var ra=null;function sp(e){ra!==e&&(ra=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){ra===e&&(ra=null);for(var t=0;t<e.length;t+=3){var i=e[t],a=e[t+1],c=e[t+2];if(typeof a!="function"){if(qr(a||i)===null)continue;break}var p=li(i);p!==null&&(e.splice(t,3),t-=3,Gs(p,{pending:!0,data:c,method:i.method,action:a},a,c))}}))}function Bi(e){function t(C){return sa(C,e)}bn!==null&&sa(bn,e),Dn!==null&&sa(Dn,e),In!==null&&sa(In,e),zl.forEach(t),Bl.forEach(t);for(var i=0;i<Un.length;i++){var a=Un[i];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Un.length&&(i=Un[0],i.blockedOn===null);)op(i),i.blockedOn===null&&Un.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(a=0;a<i.length;a+=3){var c=i[a],p=i[a+1],v=c[st]||null;if(typeof p=="function")v||sp(i);else if(v){var E=null;if(p&&p.hasAttribute("formAction")){if(c=p,v=p[st]||null)E=v.formAction;else if(qr(c)!==null)continue}else E=v.action;typeof E=="function"?i[a+1]=E:(i.splice(a,3),a-=3),sp(i)}}}function rp(){function e(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(v){return c=v})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),a||setTimeout(i,20)}function i(){if(!a&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function zr(e){this._internalRoot=e}ua.prototype.render=zr.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var i=t.current,a=Ct();jd(i,a,e,t,null,null)},ua.prototype.unmount=zr.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;jd(e.current,2,null,e,null,null),ko(),t[ni]=null}};function ua(e){this._internalRoot=e}ua.prototype.unstable_scheduleHydration=function(e){if(e){var t=yu();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Un.length&&t!==0&&t<Un[i].priority;i++);Un.splice(i,0,e),i===0&&op(e)}};var up=n.version;if(up!=="19.2.0")throw Error(s(527,up,"19.2.0"));k.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=h(t),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var qy={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:w,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ca=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ca.isDisabled&&ca.supportsFiber)try{Qi=ca.inject(qy),ht=ca}catch{}}return Ol.createRoot=function(e,t){if(!u(e))throw Error(s(299));var i=!1,a="",c=gf,p=yf,v=vf;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(p=t.onCaughtError),t.onRecoverableError!==void 0&&(v=t.onRecoverableError)),t=Wd(e,1,!1,null,null,i,a,null,c,p,v,rp),e[ni]=t.current,Tr(e),new zr(t)},Ol.hydrateRoot=function(e,t,i){if(!u(e))throw Error(s(299));var a=!1,c="",p=gf,v=yf,E=vf,C=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.formState!==void 0&&(C=i.formState)),t=Wd(e,1,!0,t,i??null,a,c,C,p,v,E,rp),t.context=$d(null),i=t.current,a=Ct(),a=xa(a),c=yn(a),c.callback=null,vn(i,c,a),i=a,t.current.lanes=i,Wi(t,i),Ot(t),e[ni]=t.current,Tr(e),new ua(t)},Ol.version="19.2.0",Ol}var Tp;function Xy(){if(Tp)return Pr.exports;Tp=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),Pr.exports=Fy(),Pr.exports}var Ky=Xy();const Qy=Vm(Ky),Zy=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),Wy=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707m12.728 0l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}),$y=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:M.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12c0 4.418 2.865 8.168 6.839 9.492.5.092.682-.217.682-.482 0-.237-.009-.868-.014-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.031-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.203 2.398.1 2.651.64.7 1.03 1.595 1.03 2.688 0 3.848-2.338 4.695-4.566 4.942.359.308.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.001 10.001 0 0022 12c0-5.523-4.477-10-10-10z",clipRule:"evenodd"})}),Pm=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),jy=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"})}),ev=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 5l7 7-7 7M5 5l7 7-7 7"})}),tv=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),nv=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),iv=({retrievalMode:l,episodeContext:n,contextError:o,isContextFetching:s})=>{const[u,d]=Oe.useState("none"),[m,g]=Oe.useState({locations:0,artifacts:0,characterContexts:0,tacticalOverrides:0});if(Oe.useEffect(()=>{var T,S,_,D,z,B,Y,J;if(l==="database"&&n&&!o&&!s)try{const O=JSON.parse(n),V=((S=(T=O.episode)==null?void 0:T.scenes)==null?void 0:S.length)||0,X=((D=(_=O.episode)==null?void 0:_.scenes)==null?void 0:D.reduce((P,oe)=>{var Q,le;return P+(((le=(Q=oe.location)==null?void 0:Q.artifacts)==null?void 0:le.length)||0)},0))||0,K=((B=(z=O.episode)==null?void 0:z.characters)==null?void 0:B.reduce((P,oe)=>{var Q;return P+(((Q=oe.location_contexts)==null?void 0:Q.length)||0)},0))||0,ee=((J=(Y=O.episode)==null?void 0:Y.scenes)==null?void 0:J.filter(P=>{var oe;return(oe=P.location)==null?void 0:oe.tactical_override_location}).length)||0;g({locations:V,artifacts:X,characterContexts:K,tacticalOverrides:ee}),V>0&&X>0&&K>0?d("rich"):V>0||X>0?d("basic"):d("none")}catch{d("none"),g({locations:0,artifacts:0,characterContexts:0,tacticalOverrides:0})}else d("none"),g({locations:0,artifacts:0,characterContexts:0,tacticalOverrides:0})},[l,n,o,s]),l!=="database")return null;const y=()=>{switch(u){case"rich":return"text-green-400 bg-green-900/20 border-green-700";case"basic":return"text-yellow-400 bg-yellow-900/20 border-yellow-700";case"none":return"text-gray-400 bg-gray-900/20 border-gray-700";default:return"text-gray-400 bg-gray-900/20 border-gray-700"}},h=()=>{switch(u){case"rich":return"Rich Database Context";case"basic":return"Basic Database Context";case"none":return"No Database Context";default:return"Unknown Context"}};return M.jsxs("div",{className:`border rounded-lg p-3 ${y()}`,children:[M.jsxs("div",{className:"flex items-center justify-between mb-2",children:[M.jsx("span",{className:"text-xs font-medium",children:h()}),s&&M.jsxs("svg",{className:"animate-spin h-3 w-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[M.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),M.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})]}),o?M.jsxs("div",{className:"text-xs text-red-400",children:["Error: ",o]}):u!=="none"?M.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[M.jsxs("div",{children:["Locations: ",m.locations]}),M.jsxs("div",{children:["Artifacts: ",m.artifacts]}),M.jsxs("div",{children:["Character Contexts: ",m.characterContexts]}),M.jsxs("div",{children:["Tactical Overrides: ",m.tacticalOverrides]})]}):M.jsx("div",{className:"text-xs opacity-75",children:s?"Loading context...":"No context data available"})]})},lv=({mode:l,setMode:n})=>M.jsxs("div",{className:"flex bg-gray-900 border border-gray-700 rounded-lg p-1 max-w-sm mx-auto",children:[M.jsx("button",{onClick:()=>n("manual"),className:`w-1/2 py-2 text-sm font-semibold rounded-md transition-colors ${l==="manual"?"bg-brand-blue text-white shadow":"text-gray-400 hover:bg-gray-800"}`,children:"Manual Input"}),M.jsx("button",{onClick:()=>n("database"),className:`w-1/2 py-2 text-sm font-semibold rounded-md transition-colors ${l==="database"?"bg-brand-blue text-white shadow":"text-gray-400 hover:bg-gray-800"}`,children:"Database"})]}),ov=({config:l,setConfig:n})=>{const o=s=>{n({...l,[s.target.name]:s.target.value})};return M.jsxs("details",{className:"bg-gray-900/50 border border-gray-700 rounded-lg",children:[M.jsx("summary",{className:"px-4 py-3 text-sm font-medium text-gray-300 cursor-pointer hover:bg-gray-800/50",children:"Episode Style Configuration"}),M.jsxs("div",{className:"p-4 border-t border-gray-700 space-y-4",children:[M.jsxs("div",{children:[M.jsx("label",{htmlFor:"stylePrefix",className:"block text-xs font-medium text-gray-400 mb-1",children:"Style Prefix"}),M.jsx("textarea",{id:"stylePrefix",name:"stylePrefix",value:l.stylePrefix,onChange:o,rows:2,className:"w-full bg-gray-800 border border-gray-600 rounded-md p-2 text-xs text-gray-200 focus:ring-1 focus:ring-brand-blue focus:border-brand-blue",placeholder:"e.g., cinematic, gritty, photorealistic..."})]}),M.jsxs("div",{children:[M.jsx("label",{htmlFor:"model",className:"block text-xs font-medium text-gray-400 mb-1",children:"SwarmUI Model"}),M.jsx("input",{type:"text",id:"model",name:"model",value:l.model,onChange:o,className:"w-full bg-gray-800 border border-gray-600 rounded-md p-2 text-xs text-gray-200 focus:ring-1 focus:ring-brand-blue focus:border-brand-blue",placeholder:"e.g., epicrealism_naturalSinRC1VAE"})]})]})]})},av=({script:l,setScript:n,episodeContext:o,setEpisodeContext:s,onAnalyze:u,isLoading:d,loadingMessage:m,isContextFetching:g,contextError:y,retrievalMode:h,onRetrievalModeChange:T,storyUuid:S,setStoryUuid:_,onToggleCollapse:D,styleConfig:z,setStyleConfig:B})=>{const[Y,J]=Oe.useState(!0);Oe.useEffect(()=>{if(h==="manual"){if(!o.trim()){J(!0);return}try{JSON.parse(o),J(!0)}catch{J(!1)}}else J(!0)},[o,h]);const O=()=>{var K;if(d)return m||"Analyzing...";if(h==="database"&&o&&!y)try{const P=((K=JSON.parse(o).episode)==null?void 0:K.scenes)||[],oe=P.filter(Q=>{var le;return(le=Q.location)==null?void 0:le.tactical_override_location});if(oe.length>0)return`Generate with ${oe.length} tactical location${oe.length>1?"s":""}`;if(P.length>0)return`Generate with ${P.length} database location${P.length>1?"s":""}`}catch{}return"Analyze Script"},V=()=>{var K;if(d||h==="manual")return null;if(h==="database"&&o&&!y)try{const P=((K=JSON.parse(o).episode)==null?void 0:K.scenes)||[],oe=P.filter(Q=>{var le;return(le=Q.location)==null?void 0:le.tactical_override_location});if(oe.length>0)return`Using ${[...new Set(oe.map(le=>le.location.tactical_override_location))].join(", ")} overrides`;if(P.length>0)return"Using database context"}catch{}return null},X=d||g||!l.trim()||h==="manual"&&(!o.trim()||!Y)||h==="database"&&(!S.trim()||!o.trim()||!!y);return M.jsxs("div",{className:"bg-gray-800/50 p-6 rounded-lg shadow-lg h-full flex flex-col relative",children:[M.jsx("button",{onClick:D,className:"absolute top-4 right-4 p-1.5 text-gray-400 hover:text-white hover:bg-gray-700 rounded-full transition-colors z-10","aria-label":"Collapse Input Panel",children:M.jsx(jy,{})}),M.jsx("h2",{className:"text-2xl font-semibold mb-4 text-brand-purple text-center",children:"Inputs"}),M.jsxs("div",{className:"flex-grow flex flex-col space-y-4",children:[M.jsxs("div",{className:"flex flex-col flex-grow",style:{minHeight:"150px"},children:[M.jsx("label",{htmlFor:"script-input",className:"block text-sm font-medium text-gray-300 mb-2",children:"Script"}),M.jsx("textarea",{id:"script-input",value:l,onChange:K=>n(K.target.value),placeholder:"Enter your script here...",className:"w-full flex-grow bg-gray-900 border border-gray-700 rounded-md p-3 text-gray-200 focus:ring-2 focus:ring-brand-blue focus:border-brand-blue transition duration-200","aria-label":"Script Input"})]}),M.jsx(ov,{config:z,setConfig:B}),M.jsxs("div",{className:"flex flex-col flex-grow",style:{minHeight:"150px"},children:[M.jsx("div",{className:"text-sm font-medium text-gray-300 my-2 text-center",children:"Episode Context Source"}),M.jsx(lv,{mode:h,setMode:T}),M.jsx("div",{className:"mt-3",children:M.jsx(iv,{retrievalMode:h,episodeContext:o,contextError:y,isContextFetching:g})}),M.jsx("div",{className:"mt-4 flex-grow flex flex-col",children:h==="manual"?M.jsxs(M.Fragment,{children:[M.jsx("textarea",{id:"episode-context-input",value:o,onChange:K=>s(K.target.value),placeholder:"Enter episode context JSON data here...",className:`w-full flex-grow bg-gray-900 border rounded-md p-3 font-mono text-sm text-gray-200 focus:ring-2 focus:border-brand-blue transition duration-200 ${!Y&&o.trim()?"border-red-500 focus:ring-red-500":"border-gray-700"}`,"aria-label":"Episode Context Input"}),!Y&&o.trim()&&M.jsx("p",{className:"text-red-400 text-xs mt-1",children:"Invalid JSON format. Please check for errors."})]}):M.jsxs("div",{className:"flex-grow flex flex-col space-y-4",children:[M.jsxs("div",{children:[M.jsx("label",{htmlFor:"story-uuid-input",className:"block text-sm font-medium text-gray-300 mb-2",children:"Story UUID"}),M.jsx("input",{type:"text",id:"story-uuid-input",value:S,onChange:K=>_(K.target.value),placeholder:"Enter Story UUID to fetch context...",className:"w-full bg-gray-900 border border-gray-700 rounded-md p-3 text-gray-200 focus:ring-2 focus:ring-brand-blue focus:border-brand-blue transition duration-200","aria-label":"Story UUID Input"})]}),M.jsxs("div",{className:"flex-grow flex flex-col",children:[M.jsx("label",{htmlFor:"episode-context-input-db",className:"block text-sm font-medium text-gray-300 mb-2",children:"Episode Context (Fetched)"}),g?M.jsxs("div",{className:"flex-grow flex items-center justify-center bg-gray-900 border border-gray-700 rounded-md p-3",children:[M.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"http://www.w3.org/2000/svg",children:[M.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),M.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),M.jsx("span",{className:"ml-2 text-gray-400",children:"Fetching context..."})]}):y?M.jsx("div",{className:"flex-grow flex items-center justify-center bg-red-900/20 border border-red-700 rounded-md p-3",children:M.jsx("p",{className:"text-red-400 text-sm text-center",children:y})}):M.jsx("textarea",{id:"episode-context-input-db",value:o,readOnly:!0,className:"w-full flex-grow bg-gray-900 border border-gray-700 rounded-md p-3 font-mono text-sm text-gray-400 cursor-not-allowed","aria-label":"Fetched Episode Context"})]})]})})]})]}),M.jsx("div",{className:"mt-6",children:M.jsx("button",{onClick:u,disabled:X,className:"w-full flex flex-col items-center justify-center gap-2 bg-gradient-to-r from-brand-blue to-brand-purple text-white font-bold py-3 px-4 rounded-lg shadow-lg hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-105",children:d?M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"http://www.w3.org/2000/svg",children:[M.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),M.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),M.jsx("span",{children:m||"Analyzing..."})]}):M.jsxs("div",{className:"flex flex-col items-center gap-1",children:[M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx(Zy,{}),M.jsx("span",{children:O()})]}),V()&&M.jsx("div",{className:"text-xs opacity-75 font-normal",children:V()})]})})})]})},sv=({decision:l})=>{const n="px-2 py-1 text-xs font-semibold rounded-full flex items-center gap-1.5";let o;switch(l.type){case"NEW_IMAGE":o=M.jsx("span",{className:`${n} bg-green-800 text-green-200`,children:"New Image"});break;case"REUSE_IMAGE":o=M.jsxs("span",{className:`${n} bg-yellow-800 text-yellow-200`,children:[M.jsx(Pm,{})," Reuse"]});break;case"NO_IMAGE":o=M.jsx("span",{className:`${n} bg-gray-700 text-gray-300`,children:"No Image"});break;default:o=null}return M.jsx("div",{children:o})},Sp=({promptData:l,title:n})=>{const[o,s]=Oe.useState(!1),u=()=>{navigator.clipboard.writeText(l.prompt),s(!0),setTimeout(()=>s(!1),2e3)};return M.jsxs("div",{className:"space-y-2",children:[M.jsxs("div",{className:"relative bg-gray-900 p-3 rounded-md border border-gray-700",children:[M.jsx("button",{onClick:u,className:"absolute top-2 right-2 p-1.5 text-gray-400 hover:text-white bg-gray-800 hover:bg-gray-700 rounded-md transition-colors","aria-label":"Copy prompt to clipboard",children:o?M.jsx(nv,{}):M.jsx(tv,{})}),M.jsx("p",{className:"text-sm text-gray-200 font-mono whitespace-pre-wrap pr-10",children:l.prompt})]}),M.jsxs("div",{className:"text-xs text-gray-400 grid grid-cols-2 sm:grid-cols-4 gap-x-2 gap-y-1",children:[M.jsxs("span",{children:[M.jsx("span",{className:"font-semibold",children:"Model:"})," ",l.model]}),M.jsxs("span",{children:[M.jsx("span",{className:"font-semibold",children:"Size:"})," ",l.width,"x",l.height]}),M.jsxs("span",{children:[M.jsx("span",{className:"font-semibold",children:"Steps:"})," ",l.steps]}),M.jsxs("span",{children:[M.jsx("span",{className:"font-semibold",children:"CFG:"})," ",l.cfgscale]})]})]})},rv=({beat:l})=>{const[n,o]=Oe.useState("cinematic");return l.prompts?M.jsxs("div",{className:"mt-4 pt-4 border-t border-brand-purple/20",children:[M.jsxs("div",{className:"flex border-b border-gray-700 mb-3",children:[M.jsx("button",{onClick:()=>o("cinematic"),className:`px-4 py-2 text-sm font-semibold transition-colors ${n==="cinematic"?"border-b-2 border-brand-blue text-white":"text-gray-400 hover:bg-gray-800"}`,children:"Cinematic (16:9)"}),M.jsx("button",{onClick:()=>o("vertical"),className:`px-4 py-2 text-sm font-semibold transition-colors ${n==="vertical"?"border-b-2 border-brand-blue text-white":"text-gray-400 hover:bg-gray-800"}`,children:"Vertical (9:16)"})]}),M.jsxs("div",{children:[n==="cinematic"&&M.jsx(Sp,{promptData:l.prompts.cinematic,title:"Cinematic (16:9)"}),n==="vertical"&&M.jsx(Sp,{promptData:l.prompts.vertical,title:"Vertical (9:16)"})]})]}):null},uv=({beat:l,sceneNumber:n,beatIndex:o})=>M.jsxs("div",{className:"bg-gray-900/70 p-4 rounded-lg border border-gray-700",children:[M.jsxs("div",{className:"flex justify-between items-start mb-2",children:[M.jsxs("h4",{className:"font-bold text-gray-300",children:["Scene ",n," - Beat #",o+1]}),M.jsx("div",{className:"flex items-center gap-2",children:M.jsx(sv,{decision:l.imageDecision})})]}),M.jsx("blockquote",{className:"border-l-4 border-gray-600 pl-4 text-gray-400 italic mb-4 whitespace-pre-wrap",children:l.beatText}),M.jsxs("div",{className:"space-y-3 text-sm",children:[l.locationAttributes&&l.locationAttributes.length>0&&M.jsxs("div",{className:"pt-2",children:[M.jsx("p",{className:"text-gray-400 font-semibold mb-2",children:"Location Attributes:"}),M.jsx("div",{className:"flex flex-wrap gap-2",children:l.locationAttributes.map((s,u)=>M.jsx("span",{className:"bg-gray-700 text-gray-200 text-xs px-2 py-1 rounded-md",children:s},u))})]}),M.jsxs("div",{className:"pt-2 mt-2 border-t border-gray-700",children:[l.imageDecision.type==="REUSE_IMAGE"&&M.jsxs("div",{className:"flex items-start gap-2 text-yellow-300 mb-2 p-2 bg-yellow-900/30 rounded-md",children:[M.jsx("span",{className:"text-yellow-400 mt-0.5 flex-shrink-0",children:M.jsx(Pm,{})}),M.jsxs("p",{children:[M.jsx("span",{className:"font-semibold",children:"Reuse instruction:"})," Reuse image from ",M.jsx("span",{className:"font-bold",children:l.imageDecision.reuseSourceBeatLabel}),"."]})]}),M.jsxs("div",{className:"flex items-start gap-2",children:[M.jsx("span",{className:"text-brand-purple mt-0.5 flex-shrink-0",children:M.jsx(Wy,{})}),M.jsxs("p",{className:"text-gray-300",children:[M.jsx("span",{className:"font-semibold text-gray-400",children:"Reasoning:"})," ",l.imageDecision.reason]})]})]}),l.cameraAngleSuggestion&&M.jsx("div",{className:"pt-2",children:M.jsxs("p",{className:"text-gray-300",children:[M.jsx("span",{className:"font-semibold text-gray-400",children:"Camera Suggestion:"})," ",l.cameraAngleSuggestion]})}),l.characterPositioning&&M.jsx("div",{className:"pt-2",children:M.jsxs("p",{className:"text-gray-300",children:[M.jsx("span",{className:"font-semibold text-gray-400",children:"Positioning:"})," ",l.characterPositioning]})})]}),l.imageDecision.type!=="NO_IMAGE"&&M.jsx(rv,{beat:l})]}),cv=({loadingMessage:l})=>{const o=(d=>d.includes("QWEN")?"Qwen":d.includes("GEMINI")?"Gemini":d.includes("CLAUDE")?"Claude":d.includes("OPENAI")?"OpenAI":d.includes("XAI")?"XAI":d.includes("DEEPSEEK")?"DeepSeek":d.includes("GLM")?"GLM":"AI")(l),s=[{id:1,text:"Initializing...",trigger:"Initializing analysis"},{id:2,text:`Connecting to ${o} API...`,trigger:"Connecting to"},{id:3,text:"Compacting Context...",trigger:"Compacting episode context"},{id:4,text:`Sending Script to ${o}...`,trigger:"Sending script to"},{id:5,text:`Processing ${o} Response...`,trigger:"Processing"},{id:6,text:"Post-processing Analysis...",trigger:"Post-processing analysis"},{id:7,text:`Generating SwarmUI Prompts with ${o}...`,trigger:"Generating SwarmUI prompts"}];let u=-1;for(let d=0;d<s.length;d++)l.startsWith(s[d].trigger)&&(u=d);return(l.startsWith("✅")||l.includes("completed"))&&(u=4),M.jsxs("div",{className:"text-center w-full max-w-md",children:[M.jsx("h3",{className:"text-2xl font-semibold text-brand-purple mb-8",children:"Analysis in Progress"}),M.jsx("div",{className:"space-y-4",children:s.map((d,m)=>{const g=u>m,y=u===m;return M.jsxs("div",{className:"flex items-center gap-4 transition-all duration-300",children:[M.jsx("div",{className:"flex-shrink-0",children:g?M.jsx("div",{className:"h-6 w-6 rounded-full bg-green-500 flex items-center justify-center ring-2 ring-green-500/50",children:M.jsx("svg",{className:"h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})}):y?M.jsx("div",{className:"h-6 w-6 rounded-full bg-brand-blue flex items-center justify-center ring-2 ring-brand-blue/50 animate-pulse",children:M.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[M.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),M.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):M.jsx("div",{className:"h-6 w-6 rounded-full bg-gray-700"})}),M.jsx("p",{className:`text-lg text-left ${g?"text-gray-400 line-through":y?"text-white font-semibold":"text-gray-500"}`,children:d.text})]},d.id)})}),M.jsx("p",{className:"mt-8 text-sm text-gray-400 h-4",children:l})]})},fv=({analysis:l,isLoading:n,loadingMessage:o,error:s})=>n?M.jsx("div",{className:"flex items-center justify-center h-full bg-gray-800/50 rounded-lg p-6 min-h-[500px]",children:M.jsx(cv,{loadingMessage:o})}):s?M.jsxs("div",{className:"bg-red-900/50 border border-red-700 text-red-200 p-6 rounded-lg",children:[M.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Error"}),M.jsx("p",{children:s})]}):l?M.jsxs("div",{className:"bg-gray-800/50 p-6 rounded-lg shadow-lg h-full overflow-y-auto",children:[M.jsx("div",{className:"border-b-2 border-brand-purple/50 pb-4 mb-6",children:M.jsxs("h2",{className:"text-3xl font-bold text-brand-blue",children:["Episode ",l.episodeNumber,": ",l.title]})}),M.jsx("div",{className:"space-y-8",children:l.scenes.map(u=>M.jsxs("details",{open:!0,className:"bg-gray-900/50 p-4 rounded-lg",children:[M.jsxs("summary",{className:"text-2xl font-semibold text-brand-purple cursor-pointer",children:["Scene ",u.sceneNumber,": ",u.title]}),M.jsx("div",{className:"mt-4 space-y-4",children:u.beats.map((d,m)=>M.jsx(uv,{beat:d,sceneNumber:u.sceneNumber,beatIndex:m},d.beatId))})]},u.sceneNumber))})]}):M.jsx("div",{className:"flex items-center justify-center h-full bg-gray-800/50 rounded-lg p-6 min-h-[500px]",children:M.jsxs("div",{className:"text-center text-gray-500",children:[M.jsx("h2",{className:"text-2xl font-semibold",children:"Storyboard Analysis Awaits"}),M.jsx("p",{className:"mt-2",children:'Provide a script and click "Analyze Script" to generate a visual breakdown.'})]})});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let dv,pv;function mv(){return{geminiUrl:dv,vertexUrl:pv}}function hv(l,n,o,s){var u,d;if(!(l!=null&&l.baseUrl)){const m=mv();return n?(u=m.vertexUrl)!==null&&u!==void 0?u:o:(d=m.geminiUrl)!==null&&d!==void 0?d:s}return l.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ti{}function W(l,n){const o=/\{([^}]+)\}/g;return l.replace(o,(s,u)=>{if(Object.prototype.hasOwnProperty.call(n,u)){const d=n[u];return d!=null?String(d):""}else throw new Error(`Key '${u}' not found in valueMap.`)})}function f(l,n,o){for(let d=0;d<n.length-1;d++){const m=n[d];if(m.endsWith("[]")){const g=m.slice(0,-2);if(!(g in l))if(Array.isArray(o))l[g]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${m}`);if(Array.isArray(l[g])){const y=l[g];if(Array.isArray(o))for(let h=0;h<y.length;h++){const T=y[h];f(T,n.slice(d+1),o[h])}else for(const h of y)f(h,n.slice(d+1),o)}return}else if(m.endsWith("[0]")){const g=m.slice(0,-3);g in l||(l[g]=[{}]);const y=l[g];f(y[0],n.slice(d+1),o);return}(!l[m]||typeof l[m]!="object")&&(l[m]={}),l=l[m]}const s=n[n.length-1],u=l[s];if(u!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===u)return;if(typeof u=="object"&&typeof o=="object"&&u!==null&&o!==null)Object.assign(u,o);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(l,o):l[s]=o}function r(l,n,o=void 0){try{if(n.length===1&&n[0]==="_self")return l;for(let s=0;s<n.length;s++){if(typeof l!="object"||l===null)return o;const u=n[s];if(u.endsWith("[]")){const d=u.slice(0,-2);if(d in l){const m=l[d];return Array.isArray(m)?m.map(g=>r(g,n.slice(s+1),o)):o}else return o}else l=l[u]}return l}catch(s){if(s instanceof TypeError)return o;throw s}}function gv(l,n){for(const[o,s]of Object.entries(n)){const u=o.split("."),d=s.split("."),m=new Set;let g=-1;for(let y=0;y<u.length;y++)if(u[y]==="*"){g=y;break}if(g!==-1&&d.length>g)for(let y=g;y<d.length;y++){const h=d[y];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&m.add(h)}Fr(l,u,d,0,m)}}function Fr(l,n,o,s,u){if(s>=n.length||typeof l!="object"||l===null)return;const d=n[s];if(d.endsWith("[]")){const m=d.slice(0,-2),g=l;if(m in g&&Array.isArray(g[m]))for(const y of g[m])Fr(y,n,o,s+1,u)}else if(d==="*"){if(typeof l=="object"&&l!==null&&!Array.isArray(l)){const m=l,g=Object.keys(m).filter(h=>!h.startsWith("_")&&!u.has(h)),y={};for(const h of g)y[h]=m[h];for(const[h,T]of Object.entries(y)){const S=[];for(const _ of o.slice(s))_==="*"?S.push(h):S.push(_);f(m,S,T)}for(const h of g)delete m[h]}}else{const m=l;d in m&&Fr(m[d],n,o,s+1,u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nu(l){if(typeof l!="string")throw new Error("fromImageBytes must be a string");return l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yv(l){const n={},o=r(l,["operationName"]);o!=null&&f(n,["operationName"],o);const s=r(l,["resourceName"]);return s!=null&&f(n,["_url","resourceName"],s),n}function vv(l){const n={},o=r(l,["name"]);o!=null&&f(n,["name"],o);const s=r(l,["metadata"]);s!=null&&f(n,["metadata"],s);const u=r(l,["done"]);u!=null&&f(n,["done"],u);const d=r(l,["error"]);d!=null&&f(n,["error"],d);const m=r(l,["response","generateVideoResponse"]);return m!=null&&f(n,["response"],Sv(m)),n}function Tv(l){const n={},o=r(l,["name"]);o!=null&&f(n,["name"],o);const s=r(l,["metadata"]);s!=null&&f(n,["metadata"],s);const u=r(l,["done"]);u!=null&&f(n,["done"],u);const d=r(l,["error"]);d!=null&&f(n,["error"],d);const m=r(l,["response"]);return m!=null&&f(n,["response"],Ev(m)),n}function Sv(l){const n={},o=r(l,["generatedSamples"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>_v(m))),f(n,["generatedVideos"],d)}const s=r(l,["raiMediaFilteredCount"]);s!=null&&f(n,["raiMediaFilteredCount"],s);const u=r(l,["raiMediaFilteredReasons"]);return u!=null&&f(n,["raiMediaFilteredReasons"],u),n}function Ev(l){const n={},o=r(l,["videos"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>Cv(m))),f(n,["generatedVideos"],d)}const s=r(l,["raiMediaFilteredCount"]);s!=null&&f(n,["raiMediaFilteredCount"],s);const u=r(l,["raiMediaFilteredReasons"]);return u!=null&&f(n,["raiMediaFilteredReasons"],u),n}function _v(l){const n={},o=r(l,["video"]);return o!=null&&f(n,["video"],Mv(o)),n}function Cv(l){const n={},o=r(l,["_self"]);return o!=null&&f(n,["video"],Nv(o)),n}function Av(l){const n={},o=r(l,["operationName"]);return o!=null&&f(n,["_url","operationName"],o),n}function Rv(l){const n={},o=r(l,["operationName"]);return o!=null&&f(n,["_url","operationName"],o),n}function Mv(l){const n={},o=r(l,["uri"]);o!=null&&f(n,["uri"],o);const s=r(l,["encodedVideo"]);s!=null&&f(n,["videoBytes"],nu(s));const u=r(l,["encoding"]);return u!=null&&f(n,["mimeType"],u),n}function Nv(l){const n={},o=r(l,["gcsUri"]);o!=null&&f(n,["uri"],o);const s=r(l,["bytesBase64Encoded"]);s!=null&&f(n,["videoBytes"],nu(s));const u=r(l,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ep;(function(l){l.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",l.OUTCOME_OK="OUTCOME_OK",l.OUTCOME_FAILED="OUTCOME_FAILED",l.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Ep||(Ep={}));var _p;(function(l){l.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",l.PYTHON="PYTHON"})(_p||(_p={}));var Cp;(function(l){l.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",l.SILENT="SILENT",l.WHEN_IDLE="WHEN_IDLE",l.INTERRUPT="INTERRUPT"})(Cp||(Cp={}));var te;(function(l){l.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",l.STRING="STRING",l.NUMBER="NUMBER",l.INTEGER="INTEGER",l.BOOLEAN="BOOLEAN",l.ARRAY="ARRAY",l.OBJECT="OBJECT",l.NULL="NULL"})(te||(te={}));var Ap;(function(l){l.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",l.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",l.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",l.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",l.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",l.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",l.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",l.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",l.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",l.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",l.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Ap||(Ap={}));var Rp;(function(l){l.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",l.SEVERITY="SEVERITY",l.PROBABILITY="PROBABILITY"})(Rp||(Rp={}));var Mp;(function(l){l.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",l.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",l.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",l.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",l.BLOCK_NONE="BLOCK_NONE",l.OFF="OFF"})(Mp||(Mp={}));var Np;(function(l){l.MODE_UNSPECIFIED="MODE_UNSPECIFIED",l.MODE_DYNAMIC="MODE_DYNAMIC"})(Np||(Np={}));var xp;(function(l){l.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",l.NO_AUTH="NO_AUTH",l.API_KEY_AUTH="API_KEY_AUTH",l.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",l.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",l.OAUTH="OAUTH",l.OIDC_AUTH="OIDC_AUTH"})(xp||(xp={}));var bp;(function(l){l.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",l.SIMPLE_SEARCH="SIMPLE_SEARCH",l.ELASTIC_SEARCH="ELASTIC_SEARCH"})(bp||(bp={}));var Dp;(function(l){l.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",l.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",l.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",l.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",l.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Dp||(Dp={}));var Ip;(function(l){l.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",l.STOP="STOP",l.MAX_TOKENS="MAX_TOKENS",l.SAFETY="SAFETY",l.RECITATION="RECITATION",l.LANGUAGE="LANGUAGE",l.OTHER="OTHER",l.BLOCKLIST="BLOCKLIST",l.PROHIBITED_CONTENT="PROHIBITED_CONTENT",l.SPII="SPII",l.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",l.IMAGE_SAFETY="IMAGE_SAFETY",l.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",l.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",l.NO_IMAGE="NO_IMAGE"})(Ip||(Ip={}));var Up;(function(l){l.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",l.NEGLIGIBLE="NEGLIGIBLE",l.LOW="LOW",l.MEDIUM="MEDIUM",l.HIGH="HIGH"})(Up||(Up={}));var wp;(function(l){l.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",l.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",l.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",l.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",l.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(wp||(wp={}));var Lp;(function(l){l.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",l.SAFETY="SAFETY",l.OTHER="OTHER",l.BLOCKLIST="BLOCKLIST",l.PROHIBITED_CONTENT="PROHIBITED_CONTENT",l.IMAGE_SAFETY="IMAGE_SAFETY",l.MODEL_ARMOR="MODEL_ARMOR",l.JAILBREAK="JAILBREAK"})(Lp||(Lp={}));var Gp;(function(l){l.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",l.ON_DEMAND="ON_DEMAND",l.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Gp||(Gp={}));var pa;(function(l){l.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",l.TEXT="TEXT",l.IMAGE="IMAGE",l.AUDIO="AUDIO"})(pa||(pa={}));var qp;(function(l){l.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",l.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",l.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",l.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(qp||(qp={}));var Xr;(function(l){l.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",l.JOB_STATE_QUEUED="JOB_STATE_QUEUED",l.JOB_STATE_PENDING="JOB_STATE_PENDING",l.JOB_STATE_RUNNING="JOB_STATE_RUNNING",l.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",l.JOB_STATE_FAILED="JOB_STATE_FAILED",l.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",l.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",l.JOB_STATE_PAUSED="JOB_STATE_PAUSED",l.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",l.JOB_STATE_UPDATING="JOB_STATE_UPDATING",l.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Xr||(Xr={}));var Hp;(function(l){l.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",l.TUNING_MODE_FULL="TUNING_MODE_FULL",l.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Hp||(Hp={}));var zp;(function(l){l.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",l.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",l.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",l.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",l.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",l.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",l.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(zp||(zp={}));var Bp;(function(l){l.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",l.TUNING_TASK_I2V="TUNING_TASK_I2V",l.TUNING_TASK_T2V="TUNING_TASK_T2V"})(Bp||(Bp={}));var Vp;(function(l){l.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",l.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",l.BALANCED="BALANCED",l.PRIORITIZE_COST="PRIORITIZE_COST"})(Vp||(Vp={}));var Pp;(function(l){l.UNSPECIFIED="UNSPECIFIED",l.BLOCKING="BLOCKING",l.NON_BLOCKING="NON_BLOCKING"})(Pp||(Pp={}));var Op;(function(l){l.MODE_UNSPECIFIED="MODE_UNSPECIFIED",l.MODE_DYNAMIC="MODE_DYNAMIC"})(Op||(Op={}));var kp;(function(l){l.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",l.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(kp||(kp={}));var Yp;(function(l){l.MODE_UNSPECIFIED="MODE_UNSPECIFIED",l.AUTO="AUTO",l.ANY="ANY",l.NONE="NONE",l.VALIDATED="VALIDATED"})(Yp||(Yp={}));var Jp;(function(l){l.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",l.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",l.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",l.BLOCK_NONE="BLOCK_NONE"})(Jp||(Jp={}));var Fp;(function(l){l.DONT_ALLOW="DONT_ALLOW",l.ALLOW_ADULT="ALLOW_ADULT",l.ALLOW_ALL="ALLOW_ALL"})(Fp||(Fp={}));var Xp;(function(l){l.auto="auto",l.en="en",l.ja="ja",l.ko="ko",l.hi="hi",l.zh="zh",l.pt="pt",l.es="es"})(Xp||(Xp={}));var Kp;(function(l){l.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",l.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",l.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",l.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",l.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Kp||(Kp={}));var Qp;(function(l){l.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",l.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",l.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",l.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Qp||(Qp={}));var Zp;(function(l){l.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",l.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",l.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",l.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Zp||(Zp={}));var Wp;(function(l){l.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",l.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",l.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",l.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",l.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",l.EDIT_MODE_STYLE="EDIT_MODE_STYLE",l.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",l.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Wp||(Wp={}));var $p;(function(l){l.FOREGROUND="FOREGROUND",l.BACKGROUND="BACKGROUND",l.PROMPT="PROMPT",l.SEMANTIC="SEMANTIC",l.INTERACTIVE="INTERACTIVE"})($p||($p={}));var jp;(function(l){l.ASSET="ASSET",l.STYLE="STYLE"})(jp||(jp={}));var em;(function(l){l.INSERT="INSERT",l.REMOVE="REMOVE",l.REMOVE_STATIC="REMOVE_STATIC",l.OUTPAINT="OUTPAINT"})(em||(em={}));var tm;(function(l){l.OPTIMIZED="OPTIMIZED",l.LOSSLESS="LOSSLESS"})(tm||(tm={}));var nm;(function(l){l.STATE_UNSPECIFIED="STATE_UNSPECIFIED",l.PROCESSING="PROCESSING",l.ACTIVE="ACTIVE",l.FAILED="FAILED"})(nm||(nm={}));var im;(function(l){l.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",l.UPLOADED="UPLOADED",l.GENERATED="GENERATED"})(im||(im={}));var lm;(function(l){l.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",l.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",l.RESPONSE_REJECTED="RESPONSE_REJECTED",l.NEED_MORE_INPUT="NEED_MORE_INPUT"})(lm||(lm={}));var om;(function(l){l.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",l.TEXT="TEXT",l.IMAGE="IMAGE",l.VIDEO="VIDEO",l.AUDIO="AUDIO",l.DOCUMENT="DOCUMENT"})(om||(om={}));var am;(function(l){l.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",l.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",l.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(am||(am={}));var sm;(function(l){l.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",l.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",l.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(sm||(sm={}));var rm;(function(l){l.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",l.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",l.NO_INTERRUPTION="NO_INTERRUPTION"})(rm||(rm={}));var um;(function(l){l.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",l.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",l.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(um||(um={}));var cm;(function(l){l.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",l.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",l.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",l.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",l.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",l.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",l.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",l.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",l.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",l.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",l.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",l.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",l.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(cm||(cm={}));var fm;(function(l){l.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",l.QUALITY="QUALITY",l.DIVERSITY="DIVERSITY",l.VOCALIZATION="VOCALIZATION"})(fm||(fm={}));var Pi;(function(l){l.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",l.PLAY="PLAY",l.PAUSE="PAUSE",l.STOP="STOP",l.RESET_CONTEXT="RESET_CONTEXT"})(Pi||(Pi={}));class Kr{constructor(n){const o={};for(const s of n.headers.entries())o[s[0]]=s[1];this.headers=o,this.responseInternal=n}json(){return this.responseInternal.json()}}class kl{get text(){var n,o,s,u,d,m,g,y;if(((u=(s=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",T=!1;const S=[];for(const _ of(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[D,z]of Object.entries(_))D!=="text"&&D!=="thought"&&(z!==null||z!==void 0)&&S.push(D);if(typeof _.text=="string"){if(typeof _.thought=="boolean"&&_.thought)continue;T=!0,h+=_.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),T?h:void 0}get data(){var n,o,s,u,d,m,g,y;if(((u=(s=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const T=[];for(const S of(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[_,D]of Object.entries(S))_!=="inlineData"&&(D!==null||D!==void 0)&&T.push(_);S.inlineData&&typeof S.inlineData.data=="string"&&(h+=atob(S.inlineData.data))}return T.length>0&&console.warn(`there are non-data parts ${T} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var n,o,s,u,d,m,g,y;if(((u=(s=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(T=>T.functionCall).map(T=>T.functionCall).filter(T=>T!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var n,o,s,u,d,m,g,y,h;if(((u=(s=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const T=(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((T==null?void 0:T.length)!==0)return(h=T==null?void 0:T[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var n,o,s,u,d,m,g,y,h;if(((u=(s=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const T=(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((T==null?void 0:T.length)!==0)return(h=T==null?void 0:T[0])===null||h===void 0?void 0:h.output}}class dm{}class pm{}class xv{}class bv{}class Dv{}class Iv{}class mm{}class hm{}class gm{}class Uv{}class ma{_fromAPIResponse({apiResponse:n,isVertexAI:o}){const s=new ma;let u;const d=n;return o?u=Tv(d):u=vv(d),Object.assign(s,u),s}}class ym{}class vm{}class Tm{}class wv{}class Lv{}class Gv{}class Sm{}class qv{get text(){var n,o,s;let u="",d=!1;const m=[];for(const g of(s=(o=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[y,h]of Object.entries(g))y!=="text"&&y!=="thought"&&h!==null&&m.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;d=!0,u+=g.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?u:void 0}get data(){var n,o,s;let u="";const d=[];for(const m of(s=(o=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[g,y]of Object.entries(m))g!=="inlineData"&&y!==null&&d.push(g);m.inlineData&&typeof m.inlineData.data=="string"&&(u+=atob(m.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}}class Hv{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ee(l,n){if(!n||typeof n!="string")throw new Error("model is required and must be a string");if(l.isVertexAI()){if(n.startsWith("publishers/")||n.startsWith("projects/")||n.startsWith("models/"))return n;if(n.indexOf("/")>=0){const o=n.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${n}`}else return n.startsWith("models/")||n.startsWith("tunedModels/")?n:`models/${n}`}function Om(l,n){const o=Ee(l,n);return o?o.startsWith("publishers/")&&l.isVertexAI()?`projects/${l.getProject()}/locations/${l.getLocation()}/${o}`:o.startsWith("models/")&&l.isVertexAI()?`projects/${l.getProject()}/locations/${l.getLocation()}/publishers/google/${o}`:o:""}function km(l){return Array.isArray(l)?l.map(n=>ha(n)):[ha(l)]}function ha(l){if(typeof l=="object"&&l!==null)return l;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof l}`)}function Ym(l){const n=ha(l);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function Jm(l){const n=ha(l);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function Em(l){if(l==null)throw new Error("PartUnion is required");if(typeof l=="object")return l;if(typeof l=="string")return{text:l};throw new Error(`Unsupported part type: ${typeof l}`)}function Fm(l){if(l==null||Array.isArray(l)&&l.length===0)throw new Error("PartListUnion is required");return Array.isArray(l)?l.map(n=>Em(n)):[Em(l)]}function Qr(l){return l!=null&&typeof l=="object"&&"parts"in l&&Array.isArray(l.parts)}function _m(l){return l!=null&&typeof l=="object"&&"functionCall"in l}function Cm(l){return l!=null&&typeof l=="object"&&"functionResponse"in l}function it(l){if(l==null)throw new Error("ContentUnion is required");return Qr(l)?l:{role:"user",parts:Fm(l)}}function iu(l,n){if(!n)return[];if(l.isVertexAI()&&Array.isArray(n))return n.flatMap(o=>{const s=it(o);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(l.isVertexAI()){const o=it(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(n)?n.map(o=>it(o)):[it(n)]}function Lt(l){if(l==null||Array.isArray(l)&&l.length===0)throw new Error("contents are required");if(!Array.isArray(l)){if(_m(l)||Cm(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[it(l)]}const n=[],o=[],s=Qr(l[0]);for(const u of l){const d=Qr(u);if(d!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(d)n.push(u);else{if(_m(u)||Cm(u))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(u)}}return s||n.push({role:"user",parts:Fm(o)}),n}function zv(l,n){l.includes("null")&&(n.nullable=!0);const o=l.filter(s=>s!=="null");if(o.length===1)n.type=Object.values(te).includes(o[0].toUpperCase())?o[0].toUpperCase():te.TYPE_UNSPECIFIED;else{n.anyOf=[];for(const s of o)n.anyOf.push({type:Object.values(te).includes(s.toUpperCase())?s.toUpperCase():te.TYPE_UNSPECIFIED})}}function Oi(l){const n={},o=["items"],s=["anyOf"],u=["properties"];if(l.type&&l.anyOf)throw new Error("type and anyOf cannot be both populated.");const d=l.anyOf;d!=null&&d.length==2&&(d[0].type==="null"?(n.nullable=!0,l=d[1]):d[1].type==="null"&&(n.nullable=!0,l=d[0])),l.type instanceof Array&&zv(l.type,n);for(const[m,g]of Object.entries(l))if(g!=null)if(m=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;n.type=Object.values(te).includes(g.toUpperCase())?g.toUpperCase():te.TYPE_UNSPECIFIED}else if(o.includes(m))n[m]=Oi(g);else if(s.includes(m)){const y=[];for(const h of g){if(h.type=="null"){n.nullable=!0;continue}y.push(Oi(h))}n[m]=y}else if(u.includes(m)){const y={};for(const[h,T]of Object.entries(g))y[h]=Oi(T);n[m]=y}else{if(m==="additionalProperties")continue;n[m]=g}return n}function lu(l){return Oi(l)}function ou(l){if(typeof l=="object")return l;if(typeof l=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:l}}};throw new Error(`Unsupported speechConfig type: ${typeof l}`)}function au(l){if("multiSpeakerVoiceConfig"in l)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return l}function Ji(l){if(l.functionDeclarations)for(const n of l.functionDeclarations)n.parameters&&(Object.keys(n.parameters).includes("$schema")?n.parametersJsonSchema||(n.parametersJsonSchema=n.parameters,delete n.parameters):n.parameters=Oi(n.parameters)),n.response&&(Object.keys(n.response).includes("$schema")?n.responseJsonSchema||(n.responseJsonSchema=n.response,delete n.response):n.response=Oi(n.response));return l}function Fi(l){if(l==null)throw new Error("tools is required");if(!Array.isArray(l))throw new Error("tools is required and must be an array of Tools");const n=[];for(const o of l)n.push(o);return n}function Bv(l,n,o,s=1){const u=!n.startsWith(`${o}/`)&&n.split("/").length===s;return l.isVertexAI()?n.startsWith("projects/")?n:n.startsWith("locations/")?`projects/${l.getProject()}/${n}`:n.startsWith(`${o}/`)?`projects/${l.getProject()}/locations/${l.getLocation()}/${n}`:u?`projects/${l.getProject()}/locations/${l.getLocation()}/${o}/${n}`:n:u?`${o}/${n}`:n}function rn(l,n){if(typeof n!="string")throw new Error("name must be a string");return Bv(l,n,"cachedContents")}function Xm(l){switch(l){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return l}}function Ln(l){return nu(l)}function Vv(l){return l!=null&&typeof l=="object"&&"name"in l}function Pv(l){return l!=null&&typeof l=="object"&&"video"in l}function Ov(l){return l!=null&&typeof l=="object"&&"uri"in l}function Km(l){var n;let o;if(Vv(l)&&(o=l.name),!(Ov(l)&&(o=l.uri,o===void 0))&&!(Pv(l)&&(o=(n=l.video)===null||n===void 0?void 0:n.uri,o===void 0))){if(typeof l=="string"&&(o=l),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const u=o.split("files/")[1].match(/[a-z0-9]+/);if(u===null)throw new Error(`Could not extract file name from URI ${o}`);o=u[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function Qm(l,n){let o;return l.isVertexAI()?o=n?"publishers/google/models":"models":o=n?"models":"tunedModels",o}function Zm(l){for(const n of["models","tunedModels","publisherModels"])if(kv(l,n))return l[n];return[]}function kv(l,n){return l!==null&&typeof l=="object"&&n in l}function Yv(l,n={}){const o=l,s={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(s.responseJsonSchema=o.outputSchema),n.behavior&&(s.behavior=n.behavior),{functionDeclarations:[s]}}function Jv(l,n={}){const o=[],s=new Set;for(const u of l){const d=u.name;if(s.has(d))throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);s.add(d);const m=Yv(u,n);m.functionDeclarations&&o.push(...m.functionDeclarations)}return{functionDeclarations:o}}function Wm(l,n){let o;if(typeof n=="string")if(l.isVertexAI())if(n.startsWith("gs://"))o={format:"jsonl",gcsUri:[n]};else if(n.startsWith("bq://"))o={format:"bigquery",bigqueryUri:n};else throw new Error(`Unsupported string source for Vertex AI: ${n}`);else if(n.startsWith("files/"))o={fileName:n};else throw new Error(`Unsupported string source for Gemini API: ${n}`);else if(Array.isArray(n)){if(l.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:n}}else o=n;const s=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,u=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(l.isVertexAI()){if(u>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||u!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function Fv(l){if(typeof l!="string")return l;const n=l;if(n.startsWith("gs://"))return{format:"jsonl",gcsUri:n};if(n.startsWith("bq://"))return{format:"bigquery",bigqueryUri:n};throw new Error(`Unsupported destination: ${n}`)}function $m(l){if(typeof l!="object"||l===null)return{};const n=l,o=n.inlinedResponses;if(typeof o!="object"||o===null)return l;const u=o.inlinedResponses;if(!Array.isArray(u)||u.length===0)return l;let d=!1;for(const m of u){if(typeof m!="object"||m===null)continue;const y=m.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){d=!0;break}}return d&&(n.inlinedEmbedContentResponses=n.inlinedResponses,delete n.inlinedResponses),l}function Xi(l,n){const o=n;if(!l.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function jm(l){const n=l;return n==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":n==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":n==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":n==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":n==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":n==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":n==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xv(l){const n={},o=r(l,["responsesFile"]);o!=null&&f(n,["fileName"],o);const s=r(l,["inlinedResponses","inlinedResponses"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(m=>A0(m))),f(n,["inlinedResponses"],d)}const u=r(l,["inlinedEmbedContentResponses","inlinedResponses"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>m)),f(n,["inlinedEmbedContentResponses"],d)}return n}function Kv(l){const n={},o=r(l,["predictionsFormat"]);o!=null&&f(n,["format"],o);const s=r(l,["gcsDestination","outputUriPrefix"]);s!=null&&f(n,["gcsUri"],s);const u=r(l,["bigqueryDestination","outputUri"]);return u!=null&&f(n,["bigqueryUri"],u),n}function Qv(l){const n={},o=r(l,["format"]);o!=null&&f(n,["predictionsFormat"],o);const s=r(l,["gcsUri"]);s!=null&&f(n,["gcsDestination","outputUriPrefix"],s);const u=r(l,["bigqueryUri"]);if(u!=null&&f(n,["bigqueryDestination","outputUri"],u),r(l,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(r(l,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(r(l,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return n}function fa(l){const n={},o=r(l,["name"]);o!=null&&f(n,["name"],o);const s=r(l,["metadata","displayName"]);s!=null&&f(n,["displayName"],s);const u=r(l,["metadata","state"]);u!=null&&f(n,["state"],jm(u));const d=r(l,["metadata","createTime"]);d!=null&&f(n,["createTime"],d);const m=r(l,["metadata","endTime"]);m!=null&&f(n,["endTime"],m);const g=r(l,["metadata","updateTime"]);g!=null&&f(n,["updateTime"],g);const y=r(l,["metadata","model"]);y!=null&&f(n,["model"],y);const h=r(l,["metadata","output"]);return h!=null&&f(n,["dest"],Xv($m(h))),n}function Zr(l){const n={},o=r(l,["name"]);o!=null&&f(n,["name"],o);const s=r(l,["displayName"]);s!=null&&f(n,["displayName"],s);const u=r(l,["state"]);u!=null&&f(n,["state"],jm(u));const d=r(l,["error"]);d!=null&&f(n,["error"],d);const m=r(l,["createTime"]);m!=null&&f(n,["createTime"],m);const g=r(l,["startTime"]);g!=null&&f(n,["startTime"],g);const y=r(l,["endTime"]);y!=null&&f(n,["endTime"],y);const h=r(l,["updateTime"]);h!=null&&f(n,["updateTime"],h);const T=r(l,["model"]);T!=null&&f(n,["model"],T);const S=r(l,["inputConfig"]);S!=null&&f(n,["src"],Zv(S));const _=r(l,["outputConfig"]);return _!=null&&f(n,["dest"],Kv($m(_))),n}function Zv(l){const n={},o=r(l,["instancesFormat"]);o!=null&&f(n,["format"],o);const s=r(l,["gcsSource","uris"]);s!=null&&f(n,["gcsUri"],s);const u=r(l,["bigquerySource","inputUri"]);return u!=null&&f(n,["bigqueryUri"],u),n}function Wv(l,n){const o={};if(r(n,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(r(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(r(n,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=r(n,["fileName"]);s!=null&&f(o,["fileName"],s);const u=r(n,["inlinedRequests"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>C0(l,m))),f(o,["requests","requests"],d)}return o}function $v(l){const n={},o=r(l,["format"]);o!=null&&f(n,["instancesFormat"],o);const s=r(l,["gcsUri"]);s!=null&&f(n,["gcsSource","uris"],s);const u=r(l,["bigqueryUri"]);if(u!=null&&f(n,["bigquerySource","inputUri"],u),r(l,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(r(l,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return n}function jv(l){const n={};if(r(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(l,["data"]);o!=null&&f(n,["data"],o);const s=r(l,["mimeType"]);return s!=null&&f(n,["mimeType"],s),n}function e0(l,n){const o={},s=r(n,["name"]);return s!=null&&f(o,["_url","name"],Xi(l,s)),o}function t0(l,n){const o={},s=r(n,["name"]);return s!=null&&f(o,["_url","name"],Xi(l,s)),o}function n0(l){const n={},o=r(l,["content"]);o!=null&&f(n,["content"],o);const s=r(l,["citationMetadata"]);s!=null&&f(n,["citationMetadata"],i0(s));const u=r(l,["tokenCount"]);u!=null&&f(n,["tokenCount"],u);const d=r(l,["finishReason"]);d!=null&&f(n,["finishReason"],d);const m=r(l,["urlContextMetadata"]);m!=null&&f(n,["urlContextMetadata"],m);const g=r(l,["avgLogprobs"]);g!=null&&f(n,["avgLogprobs"],g);const y=r(l,["groundingMetadata"]);y!=null&&f(n,["groundingMetadata"],y);const h=r(l,["index"]);h!=null&&f(n,["index"],h);const T=r(l,["logprobsResult"]);T!=null&&f(n,["logprobsResult"],T);const S=r(l,["safetyRatings"]);if(S!=null){let _=S;Array.isArray(_)&&(_=_.map(D=>D)),f(n,["safetyRatings"],_)}return n}function i0(l){const n={},o=r(l,["citationSources"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>u)),f(n,["citations"],s)}return n}function eh(l){const n={},o=r(l,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>I0(d))),f(n,["parts"],u)}const s=r(l,["role"]);return s!=null&&f(n,["role"],s),n}function l0(l,n){const o={},s=r(l,["displayName"]);if(n!==void 0&&s!=null&&f(n,["batch","displayName"],s),r(l,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function o0(l,n){const o={},s=r(l,["displayName"]);n!==void 0&&s!=null&&f(n,["displayName"],s);const u=r(l,["dest"]);return n!==void 0&&u!=null&&f(n,["outputConfig"],Qv(Fv(u))),o}function Am(l,n){const o={},s=r(n,["model"]);s!=null&&f(o,["_url","model"],Ee(l,s));const u=r(n,["src"]);u!=null&&f(o,["batch","inputConfig"],Wv(l,Wm(l,u)));const d=r(n,["config"]);return d!=null&&l0(d,o),o}function a0(l,n){const o={},s=r(n,["model"]);s!=null&&f(o,["model"],Ee(l,s));const u=r(n,["src"]);u!=null&&f(o,["inputConfig"],$v(Wm(l,u)));const d=r(n,["config"]);return d!=null&&o0(d,o),o}function s0(l,n){const o={},s=r(l,["displayName"]);return n!==void 0&&s!=null&&f(n,["batch","displayName"],s),o}function r0(l,n){const o={},s=r(n,["model"]);s!=null&&f(o,["_url","model"],Ee(l,s));const u=r(n,["src"]);u!=null&&f(o,["batch","inputConfig"],h0(l,u));const d=r(n,["config"]);return d!=null&&s0(d,o),o}function u0(l,n){const o={},s=r(n,["name"]);return s!=null&&f(o,["_url","name"],Xi(l,s)),o}function c0(l,n){const o={},s=r(n,["name"]);return s!=null&&f(o,["_url","name"],Xi(l,s)),o}function f0(l){const n={},o=r(l,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const s=r(l,["name"]);s!=null&&f(n,["name"],s);const u=r(l,["done"]);u!=null&&f(n,["done"],u);const d=r(l,["error"]);return d!=null&&f(n,["error"],d),n}function d0(l){const n={},o=r(l,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const s=r(l,["name"]);s!=null&&f(n,["name"],s);const u=r(l,["done"]);u!=null&&f(n,["done"],u);const d=r(l,["error"]);return d!=null&&f(n,["error"],d),n}function p0(l,n){const o={},s=r(n,["contents"]);if(s!=null){let d=iu(l,s);Array.isArray(d)&&(d=d.map(m=>m)),f(o,["requests[]","request","content"],d)}const u=r(n,["config"]);return u!=null&&(f(o,["_self"],m0(u,o)),gv(o,{"requests[].*":"requests[].request.*"})),o}function m0(l,n){const o={},s=r(l,["taskType"]);n!==void 0&&s!=null&&f(n,["requests[]","taskType"],s);const u=r(l,["title"]);n!==void 0&&u!=null&&f(n,["requests[]","title"],u);const d=r(l,["outputDimensionality"]);if(n!==void 0&&d!=null&&f(n,["requests[]","outputDimensionality"],d),r(l,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(r(l,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function h0(l,n){const o={},s=r(n,["fileName"]);s!=null&&f(o,["file_name"],s);const u=r(n,["inlinedRequests"]);return u!=null&&f(o,["requests"],p0(l,u)),o}function g0(l){const n={};if(r(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(l,["fileUri"]);o!=null&&f(n,["fileUri"],o);const s=r(l,["mimeType"]);return s!=null&&f(n,["mimeType"],s),n}function y0(l,n,o){const s={},u=r(n,["systemInstruction"]);o!==void 0&&u!=null&&f(o,["systemInstruction"],eh(it(u)));const d=r(n,["temperature"]);d!=null&&f(s,["temperature"],d);const m=r(n,["topP"]);m!=null&&f(s,["topP"],m);const g=r(n,["topK"]);g!=null&&f(s,["topK"],g);const y=r(n,["candidateCount"]);y!=null&&f(s,["candidateCount"],y);const h=r(n,["maxOutputTokens"]);h!=null&&f(s,["maxOutputTokens"],h);const T=r(n,["stopSequences"]);T!=null&&f(s,["stopSequences"],T);const S=r(n,["responseLogprobs"]);S!=null&&f(s,["responseLogprobs"],S);const _=r(n,["logprobs"]);_!=null&&f(s,["logprobs"],_);const D=r(n,["presencePenalty"]);D!=null&&f(s,["presencePenalty"],D);const z=r(n,["frequencyPenalty"]);z!=null&&f(s,["frequencyPenalty"],z);const B=r(n,["seed"]);B!=null&&f(s,["seed"],B);const Y=r(n,["responseMimeType"]);Y!=null&&f(s,["responseMimeType"],Y);const J=r(n,["responseSchema"]);J!=null&&f(s,["responseSchema"],lu(J));const O=r(n,["responseJsonSchema"]);if(O!=null&&f(s,["responseJsonSchema"],O),r(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(r(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const V=r(n,["safetySettings"]);if(o!==void 0&&V!=null){let se=V;Array.isArray(se)&&(se=se.map(qe=>U0(qe))),f(o,["safetySettings"],se)}const X=r(n,["tools"]);if(o!==void 0&&X!=null){let se=Fi(X);Array.isArray(se)&&(se=se.map(qe=>w0(Ji(qe)))),f(o,["tools"],se)}const K=r(n,["toolConfig"]);if(o!==void 0&&K!=null&&f(o,["toolConfig"],K),r(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ee=r(n,["cachedContent"]);o!==void 0&&ee!=null&&f(o,["cachedContent"],rn(l,ee));const P=r(n,["responseModalities"]);P!=null&&f(s,["responseModalities"],P);const oe=r(n,["mediaResolution"]);oe!=null&&f(s,["mediaResolution"],oe);const Q=r(n,["speechConfig"]);if(Q!=null&&f(s,["speechConfig"],ou(Q)),r(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const le=r(n,["thinkingConfig"]);le!=null&&f(s,["thinkingConfig"],le);const de=r(n,["imageConfig"]);return de!=null&&f(s,["imageConfig"],de),s}function v0(l){const n={},o=r(l,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const s=r(l,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(h=>n0(h))),f(n,["candidates"],y)}const u=r(l,["modelVersion"]);u!=null&&f(n,["modelVersion"],u);const d=r(l,["promptFeedback"]);d!=null&&f(n,["promptFeedback"],d);const m=r(l,["responseId"]);m!=null&&f(n,["responseId"],m);const g=r(l,["usageMetadata"]);return g!=null&&f(n,["usageMetadata"],g),n}function T0(l,n){const o={},s=r(n,["name"]);return s!=null&&f(o,["_url","name"],Xi(l,s)),o}function S0(l,n){const o={},s=r(n,["name"]);return s!=null&&f(o,["_url","name"],Xi(l,s)),o}function E0(l){const n={};if(r(l,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(l,["enableWidget"]);return o!=null&&f(n,["enableWidget"],o),n}function _0(l){const n={},o=r(l,["timeRangeFilter"]);if(o!=null&&f(n,["timeRangeFilter"],o),r(l,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return n}function C0(l,n){const o={},s=r(n,["model"]);s!=null&&f(o,["request","model"],Ee(l,s));const u=r(n,["contents"]);if(u!=null){let g=Lt(u);Array.isArray(g)&&(g=g.map(y=>eh(y))),f(o,["request","contents"],g)}const d=r(n,["metadata"]);d!=null&&f(o,["metadata"],d);const m=r(n,["config"]);return m!=null&&f(o,["request","generationConfig"],y0(l,m,r(o,["request"],{}))),o}function A0(l){const n={},o=r(l,["response"]);o!=null&&f(n,["response"],v0(o));const s=r(l,["error"]);return s!=null&&f(n,["error"],s),n}function R0(l,n){const o={},s=r(l,["pageSize"]);n!==void 0&&s!=null&&f(n,["_query","pageSize"],s);const u=r(l,["pageToken"]);if(n!==void 0&&u!=null&&f(n,["_query","pageToken"],u),r(l,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function M0(l,n){const o={},s=r(l,["pageSize"]);n!==void 0&&s!=null&&f(n,["_query","pageSize"],s);const u=r(l,["pageToken"]);n!==void 0&&u!=null&&f(n,["_query","pageToken"],u);const d=r(l,["filter"]);return n!==void 0&&d!=null&&f(n,["_query","filter"],d),o}function N0(l){const n={},o=r(l,["config"]);return o!=null&&R0(o,n),n}function x0(l){const n={},o=r(l,["config"]);return o!=null&&M0(o,n),n}function b0(l){const n={},o=r(l,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const s=r(l,["nextPageToken"]);s!=null&&f(n,["nextPageToken"],s);const u=r(l,["operations"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>fa(m))),f(n,["batchJobs"],d)}return n}function D0(l){const n={},o=r(l,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const s=r(l,["nextPageToken"]);s!=null&&f(n,["nextPageToken"],s);const u=r(l,["batchPredictionJobs"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>Zr(m))),f(n,["batchJobs"],d)}return n}function I0(l){const n={},o=r(l,["videoMetadata"]);o!=null&&f(n,["videoMetadata"],o);const s=r(l,["thought"]);s!=null&&f(n,["thought"],s);const u=r(l,["inlineData"]);u!=null&&f(n,["inlineData"],jv(u));const d=r(l,["fileData"]);d!=null&&f(n,["fileData"],g0(d));const m=r(l,["thoughtSignature"]);m!=null&&f(n,["thoughtSignature"],m);const g=r(l,["functionCall"]);g!=null&&f(n,["functionCall"],g);const y=r(l,["codeExecutionResult"]);y!=null&&f(n,["codeExecutionResult"],y);const h=r(l,["executableCode"]);h!=null&&f(n,["executableCode"],h);const T=r(l,["functionResponse"]);T!=null&&f(n,["functionResponse"],T);const S=r(l,["text"]);return S!=null&&f(n,["text"],S),n}function U0(l){const n={};if(r(l,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=r(l,["category"]);o!=null&&f(n,["category"],o);const s=r(l,["threshold"]);return s!=null&&f(n,["threshold"],s),n}function w0(l){const n={},o=r(l,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(T=>T)),f(n,["functionDeclarations"],h)}if(r(l,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=r(l,["googleSearch"]);s!=null&&f(n,["googleSearch"],_0(s));const u=r(l,["googleSearchRetrieval"]);if(u!=null&&f(n,["googleSearchRetrieval"],u),r(l,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=r(l,["googleMaps"]);d!=null&&f(n,["googleMaps"],E0(d));const m=r(l,["urlContext"]);m!=null&&f(n,["urlContext"],m);const g=r(l,["computerUse"]);g!=null&&f(n,["computerUse"],g);const y=r(l,["codeExecution"]);return y!=null&&f(n,["codeExecution"],y),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ei;(function(l){l.PAGED_ITEM_BATCH_JOBS="batchJobs",l.PAGED_ITEM_MODELS="models",l.PAGED_ITEM_TUNING_JOBS="tuningJobs",l.PAGED_ITEM_FILES="files",l.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(ei||(ei={}));class Jl{constructor(n,o,s,u){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(n,s,u)}init(n,o,s){var u,d;this.nameInternal=n,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let m={config:{}};!s||Object.keys(s).length===0?m={config:{}}:typeof s=="object"?m=Object.assign({},s):m=s,m.config&&(m.config.pageToken=o.nextPageToken),this.paramsInternal=m,this.pageInternalSize=(d=(u=m.config)===null||u===void 0?void 0:u.pageSize)!==null&&d!==void 0?d:this.pageInternal.length}initNextPage(n){this.init(this.nameInternal,n,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(n){return this.pageInternal[n]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const n=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:n,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const n=await this.requestInternal(this.params);return this.initNextPage(n),this.page}hasNextPage(){var n;return((n=this.params.config)===null||n===void 0?void 0:n.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class L0 extends ti{constructor(n){super(),this.apiClient=n,this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)},this.list=async(o={})=>new Jl(ei.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(o),o)}createInlinedGenerateContentRequest(n){const o=Am(this.apiClient,n),s=o._url,u=W("{model}:batchGenerateContent",s),g=o.batch.inputConfig.requests,y=g.requests,h=[];for(const T of y){const S=Object.assign({},T);if(S.systemInstruction){const _=S.systemInstruction;delete S.systemInstruction;const D=S.request;D.systemInstruction=_,S.request=D}h.push(S)}return g.requests=h,delete o.config,delete o._url,delete o._query,{path:u,body:o}}getGcsUri(n){if(typeof n=="string")return n.startsWith("gs://")?n:void 0;if(!Array.isArray(n)&&n.gcsUri&&n.gcsUri.length>0)return n.gcsUri[0]}getBigqueryUri(n){if(typeof n=="string")return n.startsWith("bq://")?n:void 0;if(!Array.isArray(n))return n.bigqueryUri}formatDestination(n,o){const s=o?Object.assign({},o):{},u=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${u}`),s.dest===void 0){const d=this.getGcsUri(n),m=this.getBigqueryUri(n);if(d)d.endsWith(".jsonl")?s.dest=`${d.slice(0,-6)}/dest`:s.dest=`${d}_dest_${u}`;else if(m)s.dest=`${m}_dest_${u}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(n){var o,s,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=a0(this.apiClient,n);return g=W("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),m.then(T=>Zr(T))}else{const h=Am(this.apiClient,n);return g=W("{model}:batchGenerateContent",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json()),m.then(T=>fa(T))}}async createEmbeddingsInternal(n){var o,s;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=r0(this.apiClient,n);return d=W("{model}:asyncBatchEmbedContent",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),u.then(y=>fa(y))}}async get(n){var o,s,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=S0(this.apiClient,n);return g=W("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),m.then(T=>Zr(T))}else{const h=T0(this.apiClient,n);return g=W("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json()),m.then(T=>fa(T))}}async cancel(n){var o,s,u,d;let m="",g={};if(this.apiClient.isVertexAI()){const y=t0(this.apiClient,n);m=W("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal})}else{const y=e0(this.apiClient,n);m=W("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal})}}async listInternal(n){var o,s,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=x0(n);return g=W("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:T.headers},_})),m.then(T=>{const S=D0(T),_=new Sm;return Object.assign(_,S),_})}else{const h=N0(n);return g=W("batches",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:T.headers},_})),m.then(T=>{const S=b0(T),_=new Sm;return Object.assign(_,S),_})}}async delete(n){var o,s,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=c0(this.apiClient,n);return g=W("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:T.headers},_})),m.then(T=>d0(T))}else{const h=u0(this.apiClient,n);return g=W("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:T.headers},_})),m.then(T=>f0(T))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function G0(l){const n={};if(r(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(l,["data"]);o!=null&&f(n,["data"],o);const s=r(l,["mimeType"]);return s!=null&&f(n,["mimeType"],s),n}function Rm(l){const n={},o=r(l,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>nT(d))),f(n,["parts"],u)}const s=r(l,["role"]);return s!=null&&f(n,["role"],s),n}function q0(l,n){const o={},s=r(l,["ttl"]);n!==void 0&&s!=null&&f(n,["ttl"],s);const u=r(l,["expireTime"]);n!==void 0&&u!=null&&f(n,["expireTime"],u);const d=r(l,["displayName"]);n!==void 0&&d!=null&&f(n,["displayName"],d);const m=r(l,["contents"]);if(n!==void 0&&m!=null){let T=Lt(m);Array.isArray(T)&&(T=T.map(S=>Rm(S))),f(n,["contents"],T)}const g=r(l,["systemInstruction"]);n!==void 0&&g!=null&&f(n,["systemInstruction"],Rm(it(g)));const y=r(l,["tools"]);if(n!==void 0&&y!=null){let T=y;Array.isArray(T)&&(T=T.map(S=>iT(S))),f(n,["tools"],T)}const h=r(l,["toolConfig"]);if(n!==void 0&&h!=null&&f(n,["toolConfig"],h),r(l,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function H0(l,n){const o={},s=r(l,["ttl"]);n!==void 0&&s!=null&&f(n,["ttl"],s);const u=r(l,["expireTime"]);n!==void 0&&u!=null&&f(n,["expireTime"],u);const d=r(l,["displayName"]);n!==void 0&&d!=null&&f(n,["displayName"],d);const m=r(l,["contents"]);if(n!==void 0&&m!=null){let S=Lt(m);Array.isArray(S)&&(S=S.map(_=>_)),f(n,["contents"],S)}const g=r(l,["systemInstruction"]);n!==void 0&&g!=null&&f(n,["systemInstruction"],it(g));const y=r(l,["tools"]);if(n!==void 0&&y!=null){let S=y;Array.isArray(S)&&(S=S.map(_=>lT(_))),f(n,["tools"],S)}const h=r(l,["toolConfig"]);n!==void 0&&h!=null&&f(n,["toolConfig"],h);const T=r(l,["kmsKeyName"]);return n!==void 0&&T!=null&&f(n,["encryption_spec","kmsKeyName"],T),o}function z0(l,n){const o={},s=r(n,["model"]);s!=null&&f(o,["model"],Om(l,s));const u=r(n,["config"]);return u!=null&&q0(u,o),o}function B0(l,n){const o={},s=r(n,["model"]);s!=null&&f(o,["model"],Om(l,s));const u=r(n,["config"]);return u!=null&&H0(u,o),o}function V0(l,n){const o={},s=r(n,["name"]);return s!=null&&f(o,["_url","name"],rn(l,s)),o}function P0(l,n){const o={},s=r(n,["name"]);return s!=null&&f(o,["_url","name"],rn(l,s)),o}function O0(l){const n={},o=r(l,["sdkHttpResponse"]);return o!=null&&f(n,["sdkHttpResponse"],o),n}function k0(l){const n={},o=r(l,["sdkHttpResponse"]);return o!=null&&f(n,["sdkHttpResponse"],o),n}function Y0(l){const n={};if(r(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(l,["fileUri"]);o!=null&&f(n,["fileUri"],o);const s=r(l,["mimeType"]);return s!=null&&f(n,["mimeType"],s),n}function J0(l){const n={};if(r(l,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=r(l,["description"]);o!=null&&f(n,["description"],o);const s=r(l,["name"]);s!=null&&f(n,["name"],s);const u=r(l,["parameters"]);u!=null&&f(n,["parameters"],u);const d=r(l,["parametersJsonSchema"]);d!=null&&f(n,["parametersJsonSchema"],d);const m=r(l,["response"]);m!=null&&f(n,["response"],m);const g=r(l,["responseJsonSchema"]);return g!=null&&f(n,["responseJsonSchema"],g),n}function F0(l,n){const o={},s=r(n,["name"]);return s!=null&&f(o,["_url","name"],rn(l,s)),o}function X0(l,n){const o={},s=r(n,["name"]);return s!=null&&f(o,["_url","name"],rn(l,s)),o}function K0(l){const n={};if(r(l,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(l,["enableWidget"]);return o!=null&&f(n,["enableWidget"],o),n}function Q0(l){const n={},o=r(l,["timeRangeFilter"]);if(o!=null&&f(n,["timeRangeFilter"],o),r(l,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return n}function Z0(l,n){const o={},s=r(l,["pageSize"]);n!==void 0&&s!=null&&f(n,["_query","pageSize"],s);const u=r(l,["pageToken"]);return n!==void 0&&u!=null&&f(n,["_query","pageToken"],u),o}function W0(l,n){const o={},s=r(l,["pageSize"]);n!==void 0&&s!=null&&f(n,["_query","pageSize"],s);const u=r(l,["pageToken"]);return n!==void 0&&u!=null&&f(n,["_query","pageToken"],u),o}function $0(l){const n={},o=r(l,["config"]);return o!=null&&Z0(o,n),n}function j0(l){const n={},o=r(l,["config"]);return o!=null&&W0(o,n),n}function eT(l){const n={},o=r(l,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const s=r(l,["nextPageToken"]);s!=null&&f(n,["nextPageToken"],s);const u=r(l,["cachedContents"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>m)),f(n,["cachedContents"],d)}return n}function tT(l){const n={},o=r(l,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const s=r(l,["nextPageToken"]);s!=null&&f(n,["nextPageToken"],s);const u=r(l,["cachedContents"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>m)),f(n,["cachedContents"],d)}return n}function nT(l){const n={},o=r(l,["videoMetadata"]);o!=null&&f(n,["videoMetadata"],o);const s=r(l,["thought"]);s!=null&&f(n,["thought"],s);const u=r(l,["inlineData"]);u!=null&&f(n,["inlineData"],G0(u));const d=r(l,["fileData"]);d!=null&&f(n,["fileData"],Y0(d));const m=r(l,["thoughtSignature"]);m!=null&&f(n,["thoughtSignature"],m);const g=r(l,["functionCall"]);g!=null&&f(n,["functionCall"],g);const y=r(l,["codeExecutionResult"]);y!=null&&f(n,["codeExecutionResult"],y);const h=r(l,["executableCode"]);h!=null&&f(n,["executableCode"],h);const T=r(l,["functionResponse"]);T!=null&&f(n,["functionResponse"],T);const S=r(l,["text"]);return S!=null&&f(n,["text"],S),n}function iT(l){const n={},o=r(l,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(T=>T)),f(n,["functionDeclarations"],h)}if(r(l,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=r(l,["googleSearch"]);s!=null&&f(n,["googleSearch"],Q0(s));const u=r(l,["googleSearchRetrieval"]);if(u!=null&&f(n,["googleSearchRetrieval"],u),r(l,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=r(l,["googleMaps"]);d!=null&&f(n,["googleMaps"],K0(d));const m=r(l,["urlContext"]);m!=null&&f(n,["urlContext"],m);const g=r(l,["computerUse"]);g!=null&&f(n,["computerUse"],g);const y=r(l,["codeExecution"]);return y!=null&&f(n,["codeExecution"],y),n}function lT(l){const n={},o=r(l,["functionDeclarations"]);if(o!=null){let S=o;Array.isArray(S)&&(S=S.map(_=>J0(_))),f(n,["functionDeclarations"],S)}const s=r(l,["retrieval"]);s!=null&&f(n,["retrieval"],s);const u=r(l,["googleSearch"]);u!=null&&f(n,["googleSearch"],u);const d=r(l,["googleSearchRetrieval"]);d!=null&&f(n,["googleSearchRetrieval"],d);const m=r(l,["enterpriseWebSearch"]);m!=null&&f(n,["enterpriseWebSearch"],m);const g=r(l,["googleMaps"]);g!=null&&f(n,["googleMaps"],g);const y=r(l,["urlContext"]);y!=null&&f(n,["urlContext"],y);const h=r(l,["computerUse"]);h!=null&&f(n,["computerUse"],h);const T=r(l,["codeExecution"]);return T!=null&&f(n,["codeExecution"],T),n}function oT(l,n){const o={},s=r(l,["ttl"]);n!==void 0&&s!=null&&f(n,["ttl"],s);const u=r(l,["expireTime"]);return n!==void 0&&u!=null&&f(n,["expireTime"],u),o}function aT(l,n){const o={},s=r(l,["ttl"]);n!==void 0&&s!=null&&f(n,["ttl"],s);const u=r(l,["expireTime"]);return n!==void 0&&u!=null&&f(n,["expireTime"],u),o}function sT(l,n){const o={},s=r(n,["name"]);s!=null&&f(o,["_url","name"],rn(l,s));const u=r(n,["config"]);return u!=null&&oT(u,o),o}function rT(l,n){const o={},s=r(n,["name"]);s!=null&&f(o,["_url","name"],rn(l,s));const u=r(n,["config"]);return u!=null&&aT(u,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uT extends ti{constructor(n){super(),this.apiClient=n,this.list=async(o={})=>new Jl(ei.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(o),o)}async create(n){var o,s,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=B0(this.apiClient,n);return g=W("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),m.then(T=>T)}else{const h=z0(this.apiClient,n);return g=W("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json()),m.then(T=>T)}}async get(n){var o,s,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=X0(this.apiClient,n);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),m.then(T=>T)}else{const h=F0(this.apiClient,n);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json()),m.then(T=>T)}}async delete(n){var o,s,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=P0(this.apiClient,n);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:T.headers},_})),m.then(T=>{const S=k0(T),_=new vm;return Object.assign(_,S),_})}else{const h=V0(this.apiClient,n);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:T.headers},_})),m.then(T=>{const S=O0(T),_=new vm;return Object.assign(_,S),_})}}async update(n){var o,s,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=rT(this.apiClient,n);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),m.then(T=>T)}else{const h=sT(this.apiClient,n);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json()),m.then(T=>T)}}async listInternal(n){var o,s,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=j0(n);return g=W("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:T.headers},_})),m.then(T=>{const S=tT(T),_=new Tm;return Object.assign(_,S),_})}else{const h=$0(n);return g=W("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:T.headers},_})),m.then(T=>{const S=eT(T),_=new Tm;return Object.assign(_,S),_})}}}function Mm(l){var n=typeof Symbol=="function"&&Symbol.iterator,o=n&&l[n],s=0;if(o)return o.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&s>=l.length&&(l=void 0),{value:l&&l[s++],done:!l}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Le(l){return this instanceof Le?(this.v=l,this):new Le(l)}function ki(l,n,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=o.apply(l,n||[]),u,d=[];return u=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",m),u[Symbol.asyncIterator]=function(){return this},u;function m(D){return function(z){return Promise.resolve(z).then(D,S)}}function g(D,z){s[D]&&(u[D]=function(B){return new Promise(function(Y,J){d.push([D,B,Y,J])>1||y(D,B)})},z&&(u[D]=z(u[D])))}function y(D,z){try{h(s[D](z))}catch(B){_(d[0][3],B)}}function h(D){D.value instanceof Le?Promise.resolve(D.value.v).then(T,S):_(d[0][2],D)}function T(D){y("next",D)}function S(D){y("throw",D)}function _(D,z){D(z),d.shift(),d.length&&y(d[0][0],d[0][1])}}function Yl(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=l[Symbol.asyncIterator],o;return n?n.call(l):(l=typeof Mm=="function"?Mm(l):l[Symbol.iterator](),o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o);function s(d){o[d]=l[d]&&function(m){return new Promise(function(g,y){m=l[d](m),u(g,y,m.done,m.value)})}}function u(d,m,g,y){Promise.resolve(y).then(function(h){d({value:h,done:g})},m)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cT(l){var n;if(l.candidates==null||l.candidates.length===0)return!1;const o=(n=l.candidates[0])===null||n===void 0?void 0:n.content;return o===void 0?!1:th(o)}function th(l){if(l.parts===void 0||l.parts.length===0)return!1;for(const n of l.parts)if(n===void 0||Object.keys(n).length===0)return!1;return!0}function fT(l){if(l.length!==0){for(const n of l)if(n.role!=="user"&&n.role!=="model")throw new Error(`Role must be user or model, but got ${n.role}.`)}}function Nm(l){if(l===void 0||l.length===0)return[];const n=[],o=l.length;let s=0;for(;s<o;)if(l[s].role==="user")n.push(l[s]),s++;else{const u=[];let d=!0;for(;s<o&&l[s].role==="model";)u.push(l[s]),d&&!th(l[s])&&(d=!1),s++;d?n.push(...u):n.pop()}return n}class dT{constructor(n,o){this.modelsModule=n,this.apiClient=o}create(n){return new pT(this.apiClient,this.modelsModule,n.model,n.config,structuredClone(n.history))}}class pT{constructor(n,o,s,u={},d=[]){this.apiClient=n,this.modelsModule=o,this.model=s,this.config=u,this.history=d,this.sendPromise=Promise.resolve(),fT(d)}async sendMessage(n){var o;await this.sendPromise;const s=it(n.message),u=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=n.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var d,m,g;const y=await u,h=(m=(d=y.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content,T=y.automaticFunctionCallingHistory,S=this.getHistory(!0).length;let _=[];T!=null&&(_=(g=T.slice(S))!==null&&g!==void 0?g:[]);const D=h?[h]:[];this.recordHistory(s,D,_)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),u}async sendMessageStream(n){var o;await this.sendPromise;const s=it(n.message),u=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=n.config)!==null&&o!==void 0?o:this.config});this.sendPromise=u.then(()=>{}).catch(()=>{});const d=await u;return this.processStreamResponse(d,s)}getHistory(n=!1){const o=n?Nm(this.history):this.history;return structuredClone(o)}processStreamResponse(n,o){var s,u;return ki(this,arguments,function*(){var m,g,y,h;const T=[];try{for(var S=!0,_=Yl(n),D;D=yield Le(_.next()),m=D.done,!m;S=!0){h=D.value,S=!1;const z=h;if(cT(z)){const B=(u=(s=z.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content;B!==void 0&&T.push(B)}yield yield Le(z)}}catch(z){g={error:z}}finally{try{!S&&!m&&(y=_.return)&&(yield Le(y.call(_)))}finally{if(g)throw g.error}}this.recordHistory(o,T)})}recordHistory(n,o,s){let u=[];o.length>0&&o.every(d=>d.role!==void 0)?u=o:u.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...Nm(s)):this.history.push(n),this.history.push(...u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ya extends Error{constructor(n){super(n.message),this.name="ApiError",this.status=n.status,Object.setPrototypeOf(this,ya.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mT(l){const n={},o=r(l,["file"]);return o!=null&&f(n,["file"],o),n}function hT(l){const n={},o=r(l,["sdkHttpResponse"]);return o!=null&&f(n,["sdkHttpResponse"],o),n}function gT(l){const n={},o=r(l,["name"]);return o!=null&&f(n,["_url","file"],Km(o)),n}function yT(l){const n={},o=r(l,["sdkHttpResponse"]);return o!=null&&f(n,["sdkHttpResponse"],o),n}function vT(l){const n={},o=r(l,["name"]);return o!=null&&f(n,["_url","file"],Km(o)),n}function TT(l,n){const o={},s=r(l,["pageSize"]);n!==void 0&&s!=null&&f(n,["_query","pageSize"],s);const u=r(l,["pageToken"]);return n!==void 0&&u!=null&&f(n,["_query","pageToken"],u),o}function ST(l){const n={},o=r(l,["config"]);return o!=null&&TT(o,n),n}function ET(l){const n={},o=r(l,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const s=r(l,["nextPageToken"]);s!=null&&f(n,["nextPageToken"],s);const u=r(l,["files"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>m)),f(n,["files"],d)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _T extends ti{constructor(n){super(),this.apiClient=n,this.list=async(o={})=>new Jl(ei.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(o),o)}async upload(n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(n.file,n.config).then(o=>o)}async download(n){await this.apiClient.downloadFile(n)}async listInternal(n){var o,s;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=ST(n);return d=W("files",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const T=h;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const h=ET(y),T=new wv;return Object.assign(T,h),T})}}async createInternal(n){var o,s;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=mT(n);return d=W("upload/v1beta/files",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),u.then(y=>{const h=hT(y),T=new Lv;return Object.assign(T,h),T})}}async get(n){var o,s;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=vT(n);return d=W("files/{file}",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async delete(n){var o,s;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=gT(n);return d=W("files/{file}",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const T=h;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const h=yT(y),T=new Gv;return Object.assign(T,h),T})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function da(l){const n={};if(r(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(l,["data"]);o!=null&&f(n,["data"],o);const s=r(l,["mimeType"]);return s!=null&&f(n,["mimeType"],s),n}function CT(l){const n={},o=r(l,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>zT(d))),f(n,["parts"],u)}const s=r(l,["role"]);return s!=null&&f(n,["role"],s),n}function AT(l){const n={};if(r(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(l,["fileUri"]);o!=null&&f(n,["fileUri"],o);const s=r(l,["mimeType"]);return s!=null&&f(n,["mimeType"],s),n}function RT(l){const n={};if(r(l,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=r(l,["description"]);o!=null&&f(n,["description"],o);const s=r(l,["name"]);s!=null&&f(n,["name"],s);const u=r(l,["parameters"]);u!=null&&f(n,["parameters"],u);const d=r(l,["parametersJsonSchema"]);d!=null&&f(n,["parametersJsonSchema"],d);const m=r(l,["response"]);m!=null&&f(n,["response"],m);const g=r(l,["responseJsonSchema"]);return g!=null&&f(n,["responseJsonSchema"],g),n}function MT(l){const n={},o=r(l,["modelSelectionConfig"]);o!=null&&f(n,["modelConfig"],o);const s=r(l,["audioTimestamp"]);s!=null&&f(n,["audioTimestamp"],s);const u=r(l,["candidateCount"]);u!=null&&f(n,["candidateCount"],u);const d=r(l,["enableAffectiveDialog"]);d!=null&&f(n,["enableAffectiveDialog"],d);const m=r(l,["frequencyPenalty"]);m!=null&&f(n,["frequencyPenalty"],m);const g=r(l,["logprobs"]);g!=null&&f(n,["logprobs"],g);const y=r(l,["maxOutputTokens"]);y!=null&&f(n,["maxOutputTokens"],y);const h=r(l,["mediaResolution"]);h!=null&&f(n,["mediaResolution"],h);const T=r(l,["presencePenalty"]);T!=null&&f(n,["presencePenalty"],T);const S=r(l,["responseJsonSchema"]);S!=null&&f(n,["responseJsonSchema"],S);const _=r(l,["responseLogprobs"]);_!=null&&f(n,["responseLogprobs"],_);const D=r(l,["responseMimeType"]);D!=null&&f(n,["responseMimeType"],D);const z=r(l,["responseModalities"]);z!=null&&f(n,["responseModalities"],z);const B=r(l,["responseSchema"]);B!=null&&f(n,["responseSchema"],B);const Y=r(l,["routingConfig"]);Y!=null&&f(n,["routingConfig"],Y);const J=r(l,["seed"]);J!=null&&f(n,["seed"],J);const O=r(l,["speechConfig"]);O!=null&&f(n,["speechConfig"],nh(O));const V=r(l,["stopSequences"]);V!=null&&f(n,["stopSequences"],V);const X=r(l,["temperature"]);X!=null&&f(n,["temperature"],X);const K=r(l,["thinkingConfig"]);K!=null&&f(n,["thinkingConfig"],K);const ee=r(l,["topK"]);ee!=null&&f(n,["topK"],ee);const P=r(l,["topP"]);if(P!=null&&f(n,["topP"],P),r(l,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function NT(l){const n={};if(r(l,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(l,["enableWidget"]);return o!=null&&f(n,["enableWidget"],o),n}function xT(l){const n={},o=r(l,["timeRangeFilter"]);if(o!=null&&f(n,["timeRangeFilter"],o),r(l,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return n}function bT(l,n){const o={},s=r(l,["generationConfig"]);n!==void 0&&s!=null&&f(n,["setup","generationConfig"],s);const u=r(l,["responseModalities"]);n!==void 0&&u!=null&&f(n,["setup","generationConfig","responseModalities"],u);const d=r(l,["temperature"]);n!==void 0&&d!=null&&f(n,["setup","generationConfig","temperature"],d);const m=r(l,["topP"]);n!==void 0&&m!=null&&f(n,["setup","generationConfig","topP"],m);const g=r(l,["topK"]);n!==void 0&&g!=null&&f(n,["setup","generationConfig","topK"],g);const y=r(l,["maxOutputTokens"]);n!==void 0&&y!=null&&f(n,["setup","generationConfig","maxOutputTokens"],y);const h=r(l,["mediaResolution"]);n!==void 0&&h!=null&&f(n,["setup","generationConfig","mediaResolution"],h);const T=r(l,["seed"]);n!==void 0&&T!=null&&f(n,["setup","generationConfig","seed"],T);const S=r(l,["speechConfig"]);n!==void 0&&S!=null&&f(n,["setup","generationConfig","speechConfig"],au(S));const _=r(l,["thinkingConfig"]);n!==void 0&&_!=null&&f(n,["setup","generationConfig","thinkingConfig"],_);const D=r(l,["enableAffectiveDialog"]);n!==void 0&&D!=null&&f(n,["setup","generationConfig","enableAffectiveDialog"],D);const z=r(l,["systemInstruction"]);n!==void 0&&z!=null&&f(n,["setup","systemInstruction"],CT(it(z)));const B=r(l,["tools"]);if(n!==void 0&&B!=null){let ee=Fi(B);Array.isArray(ee)&&(ee=ee.map(P=>VT(Ji(P)))),f(n,["setup","tools"],ee)}const Y=r(l,["sessionResumption"]);n!==void 0&&Y!=null&&f(n,["setup","sessionResumption"],BT(Y));const J=r(l,["inputAudioTranscription"]);n!==void 0&&J!=null&&f(n,["setup","inputAudioTranscription"],J);const O=r(l,["outputAudioTranscription"]);n!==void 0&&O!=null&&f(n,["setup","outputAudioTranscription"],O);const V=r(l,["realtimeInputConfig"]);n!==void 0&&V!=null&&f(n,["setup","realtimeInputConfig"],V);const X=r(l,["contextWindowCompression"]);n!==void 0&&X!=null&&f(n,["setup","contextWindowCompression"],X);const K=r(l,["proactivity"]);return n!==void 0&&K!=null&&f(n,["setup","proactivity"],K),o}function DT(l,n){const o={},s=r(l,["generationConfig"]);n!==void 0&&s!=null&&f(n,["setup","generationConfig"],MT(s));const u=r(l,["responseModalities"]);n!==void 0&&u!=null&&f(n,["setup","generationConfig","responseModalities"],u);const d=r(l,["temperature"]);n!==void 0&&d!=null&&f(n,["setup","generationConfig","temperature"],d);const m=r(l,["topP"]);n!==void 0&&m!=null&&f(n,["setup","generationConfig","topP"],m);const g=r(l,["topK"]);n!==void 0&&g!=null&&f(n,["setup","generationConfig","topK"],g);const y=r(l,["maxOutputTokens"]);n!==void 0&&y!=null&&f(n,["setup","generationConfig","maxOutputTokens"],y);const h=r(l,["mediaResolution"]);n!==void 0&&h!=null&&f(n,["setup","generationConfig","mediaResolution"],h);const T=r(l,["seed"]);n!==void 0&&T!=null&&f(n,["setup","generationConfig","seed"],T);const S=r(l,["speechConfig"]);n!==void 0&&S!=null&&f(n,["setup","generationConfig","speechConfig"],nh(au(S)));const _=r(l,["thinkingConfig"]);n!==void 0&&_!=null&&f(n,["setup","generationConfig","thinkingConfig"],_);const D=r(l,["enableAffectiveDialog"]);n!==void 0&&D!=null&&f(n,["setup","generationConfig","enableAffectiveDialog"],D);const z=r(l,["systemInstruction"]);n!==void 0&&z!=null&&f(n,["setup","systemInstruction"],it(z));const B=r(l,["tools"]);if(n!==void 0&&B!=null){let ee=Fi(B);Array.isArray(ee)&&(ee=ee.map(P=>PT(Ji(P)))),f(n,["setup","tools"],ee)}const Y=r(l,["sessionResumption"]);n!==void 0&&Y!=null&&f(n,["setup","sessionResumption"],Y);const J=r(l,["inputAudioTranscription"]);n!==void 0&&J!=null&&f(n,["setup","inputAudioTranscription"],J);const O=r(l,["outputAudioTranscription"]);n!==void 0&&O!=null&&f(n,["setup","outputAudioTranscription"],O);const V=r(l,["realtimeInputConfig"]);n!==void 0&&V!=null&&f(n,["setup","realtimeInputConfig"],V);const X=r(l,["contextWindowCompression"]);n!==void 0&&X!=null&&f(n,["setup","contextWindowCompression"],X);const K=r(l,["proactivity"]);return n!==void 0&&K!=null&&f(n,["setup","proactivity"],K),o}function IT(l,n){const o={},s=r(n,["model"]);s!=null&&f(o,["setup","model"],Ee(l,s));const u=r(n,["config"]);return u!=null&&f(o,["config"],bT(u,o)),o}function UT(l,n){const o={},s=r(n,["model"]);s!=null&&f(o,["setup","model"],Ee(l,s));const u=r(n,["config"]);return u!=null&&f(o,["config"],DT(u,o)),o}function wT(l){const n={},o=r(l,["musicGenerationConfig"]);return o!=null&&f(n,["musicGenerationConfig"],o),n}function LT(l){const n={},o=r(l,["weightedPrompts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>u)),f(n,["weightedPrompts"],s)}return n}function GT(l){const n={},o=r(l,["media"]);if(o!=null){let h=km(o);Array.isArray(h)&&(h=h.map(T=>da(T))),f(n,["mediaChunks"],h)}const s=r(l,["audio"]);s!=null&&f(n,["audio"],da(Jm(s)));const u=r(l,["audioStreamEnd"]);u!=null&&f(n,["audioStreamEnd"],u);const d=r(l,["video"]);d!=null&&f(n,["video"],da(Ym(d)));const m=r(l,["text"]);m!=null&&f(n,["text"],m);const g=r(l,["activityStart"]);g!=null&&f(n,["activityStart"],g);const y=r(l,["activityEnd"]);return y!=null&&f(n,["activityEnd"],y),n}function qT(l){const n={},o=r(l,["media"]);if(o!=null){let h=km(o);Array.isArray(h)&&(h=h.map(T=>T)),f(n,["mediaChunks"],h)}const s=r(l,["audio"]);s!=null&&f(n,["audio"],Jm(s));const u=r(l,["audioStreamEnd"]);u!=null&&f(n,["audioStreamEnd"],u);const d=r(l,["video"]);d!=null&&f(n,["video"],Ym(d));const m=r(l,["text"]);m!=null&&f(n,["text"],m);const g=r(l,["activityStart"]);g!=null&&f(n,["activityStart"],g);const y=r(l,["activityEnd"]);return y!=null&&f(n,["activityEnd"],y),n}function HT(l){const n={},o=r(l,["setupComplete"]);o!=null&&f(n,["setupComplete"],o);const s=r(l,["serverContent"]);s!=null&&f(n,["serverContent"],s);const u=r(l,["toolCall"]);u!=null&&f(n,["toolCall"],u);const d=r(l,["toolCallCancellation"]);d!=null&&f(n,["toolCallCancellation"],d);const m=r(l,["usageMetadata"]);m!=null&&f(n,["usageMetadata"],OT(m));const g=r(l,["goAway"]);g!=null&&f(n,["goAway"],g);const y=r(l,["sessionResumptionUpdate"]);return y!=null&&f(n,["sessionResumptionUpdate"],y),n}function zT(l){const n={},o=r(l,["videoMetadata"]);o!=null&&f(n,["videoMetadata"],o);const s=r(l,["thought"]);s!=null&&f(n,["thought"],s);const u=r(l,["inlineData"]);u!=null&&f(n,["inlineData"],da(u));const d=r(l,["fileData"]);d!=null&&f(n,["fileData"],AT(d));const m=r(l,["thoughtSignature"]);m!=null&&f(n,["thoughtSignature"],m);const g=r(l,["functionCall"]);g!=null&&f(n,["functionCall"],g);const y=r(l,["codeExecutionResult"]);y!=null&&f(n,["codeExecutionResult"],y);const h=r(l,["executableCode"]);h!=null&&f(n,["executableCode"],h);const T=r(l,["functionResponse"]);T!=null&&f(n,["functionResponse"],T);const S=r(l,["text"]);return S!=null&&f(n,["text"],S),n}function BT(l){const n={},o=r(l,["handle"]);if(o!=null&&f(n,["handle"],o),r(l,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function nh(l){const n={},o=r(l,["voiceConfig"]);if(o!=null&&f(n,["voiceConfig"],o),r(l,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const s=r(l,["languageCode"]);return s!=null&&f(n,["languageCode"],s),n}function VT(l){const n={},o=r(l,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(T=>T)),f(n,["functionDeclarations"],h)}if(r(l,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=r(l,["googleSearch"]);s!=null&&f(n,["googleSearch"],xT(s));const u=r(l,["googleSearchRetrieval"]);if(u!=null&&f(n,["googleSearchRetrieval"],u),r(l,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=r(l,["googleMaps"]);d!=null&&f(n,["googleMaps"],NT(d));const m=r(l,["urlContext"]);m!=null&&f(n,["urlContext"],m);const g=r(l,["computerUse"]);g!=null&&f(n,["computerUse"],g);const y=r(l,["codeExecution"]);return y!=null&&f(n,["codeExecution"],y),n}function PT(l){const n={},o=r(l,["functionDeclarations"]);if(o!=null){let S=o;Array.isArray(S)&&(S=S.map(_=>RT(_))),f(n,["functionDeclarations"],S)}const s=r(l,["retrieval"]);s!=null&&f(n,["retrieval"],s);const u=r(l,["googleSearch"]);u!=null&&f(n,["googleSearch"],u);const d=r(l,["googleSearchRetrieval"]);d!=null&&f(n,["googleSearchRetrieval"],d);const m=r(l,["enterpriseWebSearch"]);m!=null&&f(n,["enterpriseWebSearch"],m);const g=r(l,["googleMaps"]);g!=null&&f(n,["googleMaps"],g);const y=r(l,["urlContext"]);y!=null&&f(n,["urlContext"],y);const h=r(l,["computerUse"]);h!=null&&f(n,["computerUse"],h);const T=r(l,["codeExecution"]);return T!=null&&f(n,["codeExecution"],T),n}function OT(l){const n={},o=r(l,["promptTokenCount"]);o!=null&&f(n,["promptTokenCount"],o);const s=r(l,["cachedContentTokenCount"]);s!=null&&f(n,["cachedContentTokenCount"],s);const u=r(l,["candidatesTokenCount"]);u!=null&&f(n,["responseTokenCount"],u);const d=r(l,["toolUsePromptTokenCount"]);d!=null&&f(n,["toolUsePromptTokenCount"],d);const m=r(l,["thoughtsTokenCount"]);m!=null&&f(n,["thoughtsTokenCount"],m);const g=r(l,["totalTokenCount"]);g!=null&&f(n,["totalTokenCount"],g);const y=r(l,["promptTokensDetails"]);if(y!=null){let D=y;Array.isArray(D)&&(D=D.map(z=>z)),f(n,["promptTokensDetails"],D)}const h=r(l,["cacheTokensDetails"]);if(h!=null){let D=h;Array.isArray(D)&&(D=D.map(z=>z)),f(n,["cacheTokensDetails"],D)}const T=r(l,["candidatesTokensDetails"]);if(T!=null){let D=T;Array.isArray(D)&&(D=D.map(z=>z)),f(n,["responseTokensDetails"],D)}const S=r(l,["toolUsePromptTokensDetails"]);if(S!=null){let D=S;Array.isArray(D)&&(D=D.map(z=>z)),f(n,["toolUsePromptTokensDetails"],D)}const _=r(l,["trafficType"]);return _!=null&&f(n,["trafficType"],_),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kT(l){const n={};if(r(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(l,["data"]);o!=null&&f(n,["data"],o);const s=r(l,["mimeType"]);return s!=null&&f(n,["mimeType"],s),n}function YT(l){const n={},o=r(l,["content"]);o!=null&&f(n,["content"],o);const s=r(l,["citationMetadata"]);s!=null&&f(n,["citationMetadata"],JT(s));const u=r(l,["tokenCount"]);u!=null&&f(n,["tokenCount"],u);const d=r(l,["finishReason"]);d!=null&&f(n,["finishReason"],d);const m=r(l,["urlContextMetadata"]);m!=null&&f(n,["urlContextMetadata"],m);const g=r(l,["avgLogprobs"]);g!=null&&f(n,["avgLogprobs"],g);const y=r(l,["groundingMetadata"]);y!=null&&f(n,["groundingMetadata"],y);const h=r(l,["index"]);h!=null&&f(n,["index"],h);const T=r(l,["logprobsResult"]);T!=null&&f(n,["logprobsResult"],T);const S=r(l,["safetyRatings"]);if(S!=null){let _=S;Array.isArray(_)&&(_=_.map(D=>D)),f(n,["safetyRatings"],_)}return n}function JT(l){const n={},o=r(l,["citationSources"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>u)),f(n,["citations"],s)}return n}function FT(l,n){const o={},s=r(n,["model"]);s!=null&&f(o,["_url","model"],Ee(l,s));const u=r(n,["contents"]);if(u!=null){let d=Lt(u);Array.isArray(d)&&(d=d.map(m=>m)),f(o,["contents"],d)}return o}function XT(l){const n={},o=r(l,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const s=r(l,["tokensInfo"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>d)),f(n,["tokensInfo"],u)}return n}function KT(l){const n={},o=r(l,["values"]);o!=null&&f(n,["values"],o);const s=r(l,["statistics"]);return s!=null&&f(n,["statistics"],QT(s)),n}function QT(l){const n={},o=r(l,["truncated"]);o!=null&&f(n,["truncated"],o);const s=r(l,["token_count"]);return s!=null&&f(n,["tokenCount"],s),n}function va(l){const n={},o=r(l,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>eE(d))),f(n,["parts"],u)}const s=r(l,["role"]);return s!=null&&f(n,["role"],s),n}function ZT(l){const n={},o=r(l,["controlType"]);o!=null&&f(n,["controlType"],o);const s=r(l,["enableControlImageComputation"]);return s!=null&&f(n,["computeControl"],s),n}function WT(l){const n={};if(r(l,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(r(l,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(r(l,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function $T(l,n){const o={},s=r(l,["systemInstruction"]);n!==void 0&&s!=null&&f(n,["systemInstruction"],it(s));const u=r(l,["tools"]);if(n!==void 0&&u!=null){let m=u;Array.isArray(m)&&(m=m.map(g=>sh(g))),f(n,["tools"],m)}const d=r(l,["generationConfig"]);return n!==void 0&&d!=null&&f(n,["generationConfig"],PS(d)),o}function jT(l,n){const o={},s=r(n,["model"]);s!=null&&f(o,["_url","model"],Ee(l,s));const u=r(n,["contents"]);if(u!=null){let m=Lt(u);Array.isArray(m)&&(m=m.map(g=>va(g))),f(o,["contents"],m)}const d=r(n,["config"]);return d!=null&&WT(d),o}function eS(l,n){const o={},s=r(n,["model"]);s!=null&&f(o,["_url","model"],Ee(l,s));const u=r(n,["contents"]);if(u!=null){let m=Lt(u);Array.isArray(m)&&(m=m.map(g=>g)),f(o,["contents"],m)}const d=r(n,["config"]);return d!=null&&$T(d,o),o}function tS(l){const n={},o=r(l,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const s=r(l,["totalTokens"]);s!=null&&f(n,["totalTokens"],s);const u=r(l,["cachedContentTokenCount"]);return u!=null&&f(n,["cachedContentTokenCount"],u),n}function nS(l){const n={},o=r(l,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const s=r(l,["totalTokens"]);return s!=null&&f(n,["totalTokens"],s),n}function iS(l,n){const o={},s=r(n,["model"]);return s!=null&&f(o,["_url","name"],Ee(l,s)),o}function lS(l,n){const o={},s=r(n,["model"]);return s!=null&&f(o,["_url","name"],Ee(l,s)),o}function oS(l){const n={},o=r(l,["sdkHttpResponse"]);return o!=null&&f(n,["sdkHttpResponse"],o),n}function aS(l){const n={},o=r(l,["sdkHttpResponse"]);return o!=null&&f(n,["sdkHttpResponse"],o),n}function sS(l,n){const o={},s=r(l,["outputGcsUri"]);n!==void 0&&s!=null&&f(n,["parameters","storageUri"],s);const u=r(l,["negativePrompt"]);n!==void 0&&u!=null&&f(n,["parameters","negativePrompt"],u);const d=r(l,["numberOfImages"]);n!==void 0&&d!=null&&f(n,["parameters","sampleCount"],d);const m=r(l,["aspectRatio"]);n!==void 0&&m!=null&&f(n,["parameters","aspectRatio"],m);const g=r(l,["guidanceScale"]);n!==void 0&&g!=null&&f(n,["parameters","guidanceScale"],g);const y=r(l,["seed"]);n!==void 0&&y!=null&&f(n,["parameters","seed"],y);const h=r(l,["safetyFilterLevel"]);n!==void 0&&h!=null&&f(n,["parameters","safetySetting"],h);const T=r(l,["personGeneration"]);n!==void 0&&T!=null&&f(n,["parameters","personGeneration"],T);const S=r(l,["includeSafetyAttributes"]);n!==void 0&&S!=null&&f(n,["parameters","includeSafetyAttributes"],S);const _=r(l,["includeRaiReason"]);n!==void 0&&_!=null&&f(n,["parameters","includeRaiReason"],_);const D=r(l,["language"]);n!==void 0&&D!=null&&f(n,["parameters","language"],D);const z=r(l,["outputMimeType"]);n!==void 0&&z!=null&&f(n,["parameters","outputOptions","mimeType"],z);const B=r(l,["outputCompressionQuality"]);n!==void 0&&B!=null&&f(n,["parameters","outputOptions","compressionQuality"],B);const Y=r(l,["addWatermark"]);n!==void 0&&Y!=null&&f(n,["parameters","addWatermark"],Y);const J=r(l,["labels"]);n!==void 0&&J!=null&&f(n,["labels"],J);const O=r(l,["editMode"]);n!==void 0&&O!=null&&f(n,["parameters","editMode"],O);const V=r(l,["baseSteps"]);return n!==void 0&&V!=null&&f(n,["parameters","editConfig","baseSteps"],V),o}function rS(l,n){const o={},s=r(n,["model"]);s!=null&&f(o,["_url","model"],Ee(l,s));const u=r(n,["prompt"]);u!=null&&f(o,["instances[0]","prompt"],u);const d=r(n,["referenceImages"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(y=>aE(y))),f(o,["instances[0]","referenceImages"],g)}const m=r(n,["config"]);return m!=null&&sS(m,o),o}function uS(l){const n={},o=r(l,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const s=r(l,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>Ta(d))),f(n,["generatedImages"],u)}return n}function cS(l,n){const o={},s=r(l,["taskType"]);n!==void 0&&s!=null&&f(n,["requests[]","taskType"],s);const u=r(l,["title"]);n!==void 0&&u!=null&&f(n,["requests[]","title"],u);const d=r(l,["outputDimensionality"]);if(n!==void 0&&d!=null&&f(n,["requests[]","outputDimensionality"],d),r(l,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(r(l,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function fS(l,n){const o={},s=r(l,["taskType"]);n!==void 0&&s!=null&&f(n,["instances[]","task_type"],s);const u=r(l,["title"]);n!==void 0&&u!=null&&f(n,["instances[]","title"],u);const d=r(l,["outputDimensionality"]);n!==void 0&&d!=null&&f(n,["parameters","outputDimensionality"],d);const m=r(l,["mimeType"]);n!==void 0&&m!=null&&f(n,["instances[]","mimeType"],m);const g=r(l,["autoTruncate"]);return n!==void 0&&g!=null&&f(n,["parameters","autoTruncate"],g),o}function dS(l,n){const o={},s=r(n,["model"]);s!=null&&f(o,["_url","model"],Ee(l,s));const u=r(n,["contents"]);if(u!=null){let g=iu(l,u);Array.isArray(g)&&(g=g.map(y=>y)),f(o,["requests[]","content"],g)}const d=r(n,["config"]);d!=null&&cS(d,o);const m=r(n,["model"]);return m!==void 0&&f(o,["requests[]","model"],Ee(l,m)),o}function pS(l,n){const o={},s=r(n,["model"]);s!=null&&f(o,["_url","model"],Ee(l,s));const u=r(n,["contents"]);if(u!=null){let m=iu(l,u);Array.isArray(m)&&(m=m.map(g=>g)),f(o,["instances[]","content"],m)}const d=r(n,["config"]);return d!=null&&fS(d,o),o}function mS(l){const n={},o=r(l,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const s=r(l,["embeddings"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(m=>m)),f(n,["embeddings"],d)}const u=r(l,["metadata"]);return u!=null&&f(n,["metadata"],u),n}function hS(l){const n={},o=r(l,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const s=r(l,["predictions[]","embeddings"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(m=>KT(m))),f(n,["embeddings"],d)}const u=r(l,["metadata"]);return u!=null&&f(n,["metadata"],u),n}function gS(l){const n={},o=r(l,["endpoint"]);o!=null&&f(n,["name"],o);const s=r(l,["deployedModelId"]);return s!=null&&f(n,["deployedModelId"],s),n}function yS(l){const n={};if(r(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(l,["fileUri"]);o!=null&&f(n,["fileUri"],o);const s=r(l,["mimeType"]);return s!=null&&f(n,["mimeType"],s),n}function vS(l){const n={};if(r(l,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=r(l,["description"]);o!=null&&f(n,["description"],o);const s=r(l,["name"]);s!=null&&f(n,["name"],s);const u=r(l,["parameters"]);u!=null&&f(n,["parameters"],u);const d=r(l,["parametersJsonSchema"]);d!=null&&f(n,["parametersJsonSchema"],d);const m=r(l,["response"]);m!=null&&f(n,["response"],m);const g=r(l,["responseJsonSchema"]);return g!=null&&f(n,["responseJsonSchema"],g),n}function TS(l,n,o){const s={},u=r(n,["systemInstruction"]);o!==void 0&&u!=null&&f(o,["systemInstruction"],va(it(u)));const d=r(n,["temperature"]);d!=null&&f(s,["temperature"],d);const m=r(n,["topP"]);m!=null&&f(s,["topP"],m);const g=r(n,["topK"]);g!=null&&f(s,["topK"],g);const y=r(n,["candidateCount"]);y!=null&&f(s,["candidateCount"],y);const h=r(n,["maxOutputTokens"]);h!=null&&f(s,["maxOutputTokens"],h);const T=r(n,["stopSequences"]);T!=null&&f(s,["stopSequences"],T);const S=r(n,["responseLogprobs"]);S!=null&&f(s,["responseLogprobs"],S);const _=r(n,["logprobs"]);_!=null&&f(s,["logprobs"],_);const D=r(n,["presencePenalty"]);D!=null&&f(s,["presencePenalty"],D);const z=r(n,["frequencyPenalty"]);z!=null&&f(s,["frequencyPenalty"],z);const B=r(n,["seed"]);B!=null&&f(s,["seed"],B);const Y=r(n,["responseMimeType"]);Y!=null&&f(s,["responseMimeType"],Y);const J=r(n,["responseSchema"]);J!=null&&f(s,["responseSchema"],lu(J));const O=r(n,["responseJsonSchema"]);if(O!=null&&f(s,["responseJsonSchema"],O),r(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(r(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const V=r(n,["safetySettings"]);if(o!==void 0&&V!=null){let se=V;Array.isArray(se)&&(se=se.map(qe=>sE(qe))),f(o,["safetySettings"],se)}const X=r(n,["tools"]);if(o!==void 0&&X!=null){let se=Fi(X);Array.isArray(se)&&(se=se.map(qe=>pE(Ji(qe)))),f(o,["tools"],se)}const K=r(n,["toolConfig"]);if(o!==void 0&&K!=null&&f(o,["toolConfig"],K),r(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ee=r(n,["cachedContent"]);o!==void 0&&ee!=null&&f(o,["cachedContent"],rn(l,ee));const P=r(n,["responseModalities"]);P!=null&&f(s,["responseModalities"],P);const oe=r(n,["mediaResolution"]);oe!=null&&f(s,["mediaResolution"],oe);const Q=r(n,["speechConfig"]);if(Q!=null&&f(s,["speechConfig"],ou(Q)),r(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const le=r(n,["thinkingConfig"]);le!=null&&f(s,["thinkingConfig"],le);const de=r(n,["imageConfig"]);return de!=null&&f(s,["imageConfig"],de),s}function SS(l,n,o){const s={},u=r(n,["systemInstruction"]);o!==void 0&&u!=null&&f(o,["systemInstruction"],it(u));const d=r(n,["temperature"]);d!=null&&f(s,["temperature"],d);const m=r(n,["topP"]);m!=null&&f(s,["topP"],m);const g=r(n,["topK"]);g!=null&&f(s,["topK"],g);const y=r(n,["candidateCount"]);y!=null&&f(s,["candidateCount"],y);const h=r(n,["maxOutputTokens"]);h!=null&&f(s,["maxOutputTokens"],h);const T=r(n,["stopSequences"]);T!=null&&f(s,["stopSequences"],T);const S=r(n,["responseLogprobs"]);S!=null&&f(s,["responseLogprobs"],S);const _=r(n,["logprobs"]);_!=null&&f(s,["logprobs"],_);const D=r(n,["presencePenalty"]);D!=null&&f(s,["presencePenalty"],D);const z=r(n,["frequencyPenalty"]);z!=null&&f(s,["frequencyPenalty"],z);const B=r(n,["seed"]);B!=null&&f(s,["seed"],B);const Y=r(n,["responseMimeType"]);Y!=null&&f(s,["responseMimeType"],Y);const J=r(n,["responseSchema"]);J!=null&&f(s,["responseSchema"],lu(J));const O=r(n,["responseJsonSchema"]);O!=null&&f(s,["responseJsonSchema"],O);const V=r(n,["routingConfig"]);V!=null&&f(s,["routingConfig"],V);const X=r(n,["modelSelectionConfig"]);X!=null&&f(s,["modelConfig"],X);const K=r(n,["safetySettings"]);if(o!==void 0&&K!=null){let w=K;Array.isArray(w)&&(w=w.map(k=>k)),f(o,["safetySettings"],w)}const ee=r(n,["tools"]);if(o!==void 0&&ee!=null){let w=Fi(ee);Array.isArray(w)&&(w=w.map(k=>sh(Ji(k)))),f(o,["tools"],w)}const P=r(n,["toolConfig"]);o!==void 0&&P!=null&&f(o,["toolConfig"],P);const oe=r(n,["labels"]);o!==void 0&&oe!=null&&f(o,["labels"],oe);const Q=r(n,["cachedContent"]);o!==void 0&&Q!=null&&f(o,["cachedContent"],rn(l,Q));const le=r(n,["responseModalities"]);le!=null&&f(s,["responseModalities"],le);const de=r(n,["mediaResolution"]);de!=null&&f(s,["mediaResolution"],de);const se=r(n,["speechConfig"]);se!=null&&f(s,["speechConfig"],ah(ou(se)));const qe=r(n,["audioTimestamp"]);qe!=null&&f(s,["audioTimestamp"],qe);const at=r(n,["thinkingConfig"]);at!=null&&f(s,["thinkingConfig"],at);const Ze=r(n,["imageConfig"]);return Ze!=null&&f(s,["imageConfig"],Ze),s}function xm(l,n){const o={},s=r(n,["model"]);s!=null&&f(o,["_url","model"],Ee(l,s));const u=r(n,["contents"]);if(u!=null){let m=Lt(u);Array.isArray(m)&&(m=m.map(g=>va(g))),f(o,["contents"],m)}const d=r(n,["config"]);return d!=null&&f(o,["generationConfig"],TS(l,d,o)),o}function bm(l,n){const o={},s=r(n,["model"]);s!=null&&f(o,["_url","model"],Ee(l,s));const u=r(n,["contents"]);if(u!=null){let m=Lt(u);Array.isArray(m)&&(m=m.map(g=>g)),f(o,["contents"],m)}const d=r(n,["config"]);return d!=null&&f(o,["generationConfig"],SS(l,d,o)),o}function Dm(l){const n={},o=r(l,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const s=r(l,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(h=>YT(h))),f(n,["candidates"],y)}const u=r(l,["modelVersion"]);u!=null&&f(n,["modelVersion"],u);const d=r(l,["promptFeedback"]);d!=null&&f(n,["promptFeedback"],d);const m=r(l,["responseId"]);m!=null&&f(n,["responseId"],m);const g=r(l,["usageMetadata"]);return g!=null&&f(n,["usageMetadata"],g),n}function Im(l){const n={},o=r(l,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const s=r(l,["candidates"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(T=>T)),f(n,["candidates"],h)}const u=r(l,["createTime"]);u!=null&&f(n,["createTime"],u);const d=r(l,["modelVersion"]);d!=null&&f(n,["modelVersion"],d);const m=r(l,["promptFeedback"]);m!=null&&f(n,["promptFeedback"],m);const g=r(l,["responseId"]);g!=null&&f(n,["responseId"],g);const y=r(l,["usageMetadata"]);return y!=null&&f(n,["usageMetadata"],y),n}function ES(l,n){const o={};if(r(l,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(r(l,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=r(l,["numberOfImages"]);n!==void 0&&s!=null&&f(n,["parameters","sampleCount"],s);const u=r(l,["aspectRatio"]);n!==void 0&&u!=null&&f(n,["parameters","aspectRatio"],u);const d=r(l,["guidanceScale"]);if(n!==void 0&&d!=null&&f(n,["parameters","guidanceScale"],d),r(l,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=r(l,["safetyFilterLevel"]);n!==void 0&&m!=null&&f(n,["parameters","safetySetting"],m);const g=r(l,["personGeneration"]);n!==void 0&&g!=null&&f(n,["parameters","personGeneration"],g);const y=r(l,["includeSafetyAttributes"]);n!==void 0&&y!=null&&f(n,["parameters","includeSafetyAttributes"],y);const h=r(l,["includeRaiReason"]);n!==void 0&&h!=null&&f(n,["parameters","includeRaiReason"],h);const T=r(l,["language"]);n!==void 0&&T!=null&&f(n,["parameters","language"],T);const S=r(l,["outputMimeType"]);n!==void 0&&S!=null&&f(n,["parameters","outputOptions","mimeType"],S);const _=r(l,["outputCompressionQuality"]);if(n!==void 0&&_!=null&&f(n,["parameters","outputOptions","compressionQuality"],_),r(l,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(r(l,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const D=r(l,["imageSize"]);if(n!==void 0&&D!=null&&f(n,["parameters","sampleImageSize"],D),r(l,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function _S(l,n){const o={},s=r(l,["outputGcsUri"]);n!==void 0&&s!=null&&f(n,["parameters","storageUri"],s);const u=r(l,["negativePrompt"]);n!==void 0&&u!=null&&f(n,["parameters","negativePrompt"],u);const d=r(l,["numberOfImages"]);n!==void 0&&d!=null&&f(n,["parameters","sampleCount"],d);const m=r(l,["aspectRatio"]);n!==void 0&&m!=null&&f(n,["parameters","aspectRatio"],m);const g=r(l,["guidanceScale"]);n!==void 0&&g!=null&&f(n,["parameters","guidanceScale"],g);const y=r(l,["seed"]);n!==void 0&&y!=null&&f(n,["parameters","seed"],y);const h=r(l,["safetyFilterLevel"]);n!==void 0&&h!=null&&f(n,["parameters","safetySetting"],h);const T=r(l,["personGeneration"]);n!==void 0&&T!=null&&f(n,["parameters","personGeneration"],T);const S=r(l,["includeSafetyAttributes"]);n!==void 0&&S!=null&&f(n,["parameters","includeSafetyAttributes"],S);const _=r(l,["includeRaiReason"]);n!==void 0&&_!=null&&f(n,["parameters","includeRaiReason"],_);const D=r(l,["language"]);n!==void 0&&D!=null&&f(n,["parameters","language"],D);const z=r(l,["outputMimeType"]);n!==void 0&&z!=null&&f(n,["parameters","outputOptions","mimeType"],z);const B=r(l,["outputCompressionQuality"]);n!==void 0&&B!=null&&f(n,["parameters","outputOptions","compressionQuality"],B);const Y=r(l,["addWatermark"]);n!==void 0&&Y!=null&&f(n,["parameters","addWatermark"],Y);const J=r(l,["labels"]);n!==void 0&&J!=null&&f(n,["labels"],J);const O=r(l,["imageSize"]);n!==void 0&&O!=null&&f(n,["parameters","sampleImageSize"],O);const V=r(l,["enhancePrompt"]);return n!==void 0&&V!=null&&f(n,["parameters","enhancePrompt"],V),o}function CS(l,n){const o={},s=r(n,["model"]);s!=null&&f(o,["_url","model"],Ee(l,s));const u=r(n,["prompt"]);u!=null&&f(o,["instances[0]","prompt"],u);const d=r(n,["config"]);return d!=null&&ES(d,o),o}function AS(l,n){const o={},s=r(n,["model"]);s!=null&&f(o,["_url","model"],Ee(l,s));const u=r(n,["prompt"]);u!=null&&f(o,["instances[0]","prompt"],u);const d=r(n,["config"]);return d!=null&&_S(d,o),o}function RS(l){const n={},o=r(l,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const s=r(l,["predictions"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(m=>HS(m))),f(n,["generatedImages"],d)}const u=r(l,["positivePromptSafetyAttributes"]);return u!=null&&f(n,["positivePromptSafetyAttributes"],lh(u)),n}function MS(l){const n={},o=r(l,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const s=r(l,["predictions"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(m=>Ta(m))),f(n,["generatedImages"],d)}const u=r(l,["positivePromptSafetyAttributes"]);return u!=null&&f(n,["positivePromptSafetyAttributes"],oh(u)),n}function NS(l,n){const o={},s=r(l,["numberOfVideos"]);if(n!==void 0&&s!=null&&f(n,["parameters","sampleCount"],s),r(l,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(r(l,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const u=r(l,["durationSeconds"]);if(n!==void 0&&u!=null&&f(n,["parameters","durationSeconds"],u),r(l,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=r(l,["aspectRatio"]);n!==void 0&&d!=null&&f(n,["parameters","aspectRatio"],d);const m=r(l,["resolution"]);n!==void 0&&m!=null&&f(n,["parameters","resolution"],m);const g=r(l,["personGeneration"]);if(n!==void 0&&g!=null&&f(n,["parameters","personGeneration"],g),r(l,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=r(l,["negativePrompt"]);n!==void 0&&y!=null&&f(n,["parameters","negativePrompt"],y);const h=r(l,["enhancePrompt"]);if(n!==void 0&&h!=null&&f(n,["parameters","enhancePrompt"],h),r(l,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const T=r(l,["lastFrame"]);n!==void 0&&T!=null&&f(n,["instances[0]","lastFrame"],Sa(T));const S=r(l,["referenceImages"]);if(n!==void 0&&S!=null){let _=S;Array.isArray(_)&&(_=_.map(D=>ME(D))),f(n,["instances[0]","referenceImages"],_)}if(r(l,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(r(l,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function xS(l,n){const o={},s=r(l,["numberOfVideos"]);n!==void 0&&s!=null&&f(n,["parameters","sampleCount"],s);const u=r(l,["outputGcsUri"]);n!==void 0&&u!=null&&f(n,["parameters","storageUri"],u);const d=r(l,["fps"]);n!==void 0&&d!=null&&f(n,["parameters","fps"],d);const m=r(l,["durationSeconds"]);n!==void 0&&m!=null&&f(n,["parameters","durationSeconds"],m);const g=r(l,["seed"]);n!==void 0&&g!=null&&f(n,["parameters","seed"],g);const y=r(l,["aspectRatio"]);n!==void 0&&y!=null&&f(n,["parameters","aspectRatio"],y);const h=r(l,["resolution"]);n!==void 0&&h!=null&&f(n,["parameters","resolution"],h);const T=r(l,["personGeneration"]);n!==void 0&&T!=null&&f(n,["parameters","personGeneration"],T);const S=r(l,["pubsubTopic"]);n!==void 0&&S!=null&&f(n,["parameters","pubsubTopic"],S);const _=r(l,["negativePrompt"]);n!==void 0&&_!=null&&f(n,["parameters","negativePrompt"],_);const D=r(l,["enhancePrompt"]);n!==void 0&&D!=null&&f(n,["parameters","enhancePrompt"],D);const z=r(l,["generateAudio"]);n!==void 0&&z!=null&&f(n,["parameters","generateAudio"],z);const B=r(l,["lastFrame"]);n!==void 0&&B!=null&&f(n,["instances[0]","lastFrame"],zt(B));const Y=r(l,["referenceImages"]);if(n!==void 0&&Y!=null){let V=Y;Array.isArray(V)&&(V=V.map(X=>NE(X))),f(n,["instances[0]","referenceImages"],V)}const J=r(l,["mask"]);n!==void 0&&J!=null&&f(n,["instances[0]","mask"],RE(J));const O=r(l,["compressionQuality"]);return n!==void 0&&O!=null&&f(n,["parameters","compressionQuality"],O),o}function bS(l){const n={},o=r(l,["name"]);o!=null&&f(n,["name"],o);const s=r(l,["metadata"]);s!=null&&f(n,["metadata"],s);const u=r(l,["done"]);u!=null&&f(n,["done"],u);const d=r(l,["error"]);d!=null&&f(n,["error"],d);const m=r(l,["response","generateVideoResponse"]);return m!=null&&f(n,["response"],wS(m)),n}function DS(l){const n={},o=r(l,["name"]);o!=null&&f(n,["name"],o);const s=r(l,["metadata"]);s!=null&&f(n,["metadata"],s);const u=r(l,["done"]);u!=null&&f(n,["done"],u);const d=r(l,["error"]);d!=null&&f(n,["error"],d);const m=r(l,["response"]);return m!=null&&f(n,["response"],LS(m)),n}function IS(l,n){const o={},s=r(n,["model"]);s!=null&&f(o,["_url","model"],Ee(l,s));const u=r(n,["prompt"]);u!=null&&f(o,["instances[0]","prompt"],u);const d=r(n,["image"]);d!=null&&f(o,["instances[0]","image"],Sa(d));const m=r(n,["video"]);m!=null&&f(o,["instances[0]","video"],rh(m));const g=r(n,["source"]);g!=null&&GS(g,o);const y=r(n,["config"]);return y!=null&&NS(y,o),o}function US(l,n){const o={},s=r(n,["model"]);s!=null&&f(o,["_url","model"],Ee(l,s));const u=r(n,["prompt"]);u!=null&&f(o,["instances[0]","prompt"],u);const d=r(n,["image"]);d!=null&&f(o,["instances[0]","image"],zt(d));const m=r(n,["video"]);m!=null&&f(o,["instances[0]","video"],uh(m));const g=r(n,["source"]);g!=null&&qS(g,o);const y=r(n,["config"]);return y!=null&&xS(y,o),o}function wS(l){const n={},o=r(l,["generatedSamples"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>BS(m))),f(n,["generatedVideos"],d)}const s=r(l,["raiMediaFilteredCount"]);s!=null&&f(n,["raiMediaFilteredCount"],s);const u=r(l,["raiMediaFilteredReasons"]);return u!=null&&f(n,["raiMediaFilteredReasons"],u),n}function LS(l){const n={},o=r(l,["videos"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>VS(m))),f(n,["generatedVideos"],d)}const s=r(l,["raiMediaFilteredCount"]);s!=null&&f(n,["raiMediaFilteredCount"],s);const u=r(l,["raiMediaFilteredReasons"]);return u!=null&&f(n,["raiMediaFilteredReasons"],u),n}function GS(l,n){const o={},s=r(l,["prompt"]);n!==void 0&&s!=null&&f(n,["instances[0]","prompt"],s);const u=r(l,["image"]);n!==void 0&&u!=null&&f(n,["instances[0]","image"],Sa(u));const d=r(l,["video"]);return n!==void 0&&d!=null&&f(n,["instances[0]","video"],rh(d)),o}function qS(l,n){const o={},s=r(l,["prompt"]);n!==void 0&&s!=null&&f(n,["instances[0]","prompt"],s);const u=r(l,["image"]);n!==void 0&&u!=null&&f(n,["instances[0]","image"],zt(u));const d=r(l,["video"]);return n!==void 0&&d!=null&&f(n,["instances[0]","video"],uh(d)),o}function HS(l){const n={},o=r(l,["_self"]);o!=null&&f(n,["image"],FS(o));const s=r(l,["raiFilteredReason"]);s!=null&&f(n,["raiFilteredReason"],s);const u=r(l,["_self"]);return u!=null&&f(n,["safetyAttributes"],lh(u)),n}function Ta(l){const n={},o=r(l,["_self"]);o!=null&&f(n,["image"],ih(o));const s=r(l,["raiFilteredReason"]);s!=null&&f(n,["raiFilteredReason"],s);const u=r(l,["_self"]);u!=null&&f(n,["safetyAttributes"],oh(u));const d=r(l,["prompt"]);return d!=null&&f(n,["enhancedPrompt"],d),n}function zS(l){const n={},o=r(l,["_self"]);o!=null&&f(n,["mask"],ih(o));const s=r(l,["labels"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>d)),f(n,["labels"],u)}return n}function BS(l){const n={},o=r(l,["video"]);return o!=null&&f(n,["video"],CE(o)),n}function VS(l){const n={},o=r(l,["_self"]);return o!=null&&f(n,["video"],AE(o)),n}function PS(l){const n={},o=r(l,["modelSelectionConfig"]);o!=null&&f(n,["modelConfig"],o);const s=r(l,["audioTimestamp"]);s!=null&&f(n,["audioTimestamp"],s);const u=r(l,["candidateCount"]);u!=null&&f(n,["candidateCount"],u);const d=r(l,["enableAffectiveDialog"]);d!=null&&f(n,["enableAffectiveDialog"],d);const m=r(l,["frequencyPenalty"]);m!=null&&f(n,["frequencyPenalty"],m);const g=r(l,["logprobs"]);g!=null&&f(n,["logprobs"],g);const y=r(l,["maxOutputTokens"]);y!=null&&f(n,["maxOutputTokens"],y);const h=r(l,["mediaResolution"]);h!=null&&f(n,["mediaResolution"],h);const T=r(l,["presencePenalty"]);T!=null&&f(n,["presencePenalty"],T);const S=r(l,["responseJsonSchema"]);S!=null&&f(n,["responseJsonSchema"],S);const _=r(l,["responseLogprobs"]);_!=null&&f(n,["responseLogprobs"],_);const D=r(l,["responseMimeType"]);D!=null&&f(n,["responseMimeType"],D);const z=r(l,["responseModalities"]);z!=null&&f(n,["responseModalities"],z);const B=r(l,["responseSchema"]);B!=null&&f(n,["responseSchema"],B);const Y=r(l,["routingConfig"]);Y!=null&&f(n,["routingConfig"],Y);const J=r(l,["seed"]);J!=null&&f(n,["seed"],J);const O=r(l,["speechConfig"]);O!=null&&f(n,["speechConfig"],ah(O));const V=r(l,["stopSequences"]);V!=null&&f(n,["stopSequences"],V);const X=r(l,["temperature"]);X!=null&&f(n,["temperature"],X);const K=r(l,["thinkingConfig"]);K!=null&&f(n,["thinkingConfig"],K);const ee=r(l,["topK"]);ee!=null&&f(n,["topK"],ee);const P=r(l,["topP"]);if(P!=null&&f(n,["topP"],P),r(l,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function OS(l,n){const o={},s=r(n,["model"]);return s!=null&&f(o,["_url","name"],Ee(l,s)),o}function kS(l,n){const o={},s=r(n,["model"]);return s!=null&&f(o,["_url","name"],Ee(l,s)),o}function YS(l){const n={};if(r(l,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(l,["enableWidget"]);return o!=null&&f(n,["enableWidget"],o),n}function JS(l){const n={},o=r(l,["timeRangeFilter"]);if(o!=null&&f(n,["timeRangeFilter"],o),r(l,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return n}function FS(l){const n={},o=r(l,["bytesBase64Encoded"]);o!=null&&f(n,["imageBytes"],Ln(o));const s=r(l,["mimeType"]);return s!=null&&f(n,["mimeType"],s),n}function ih(l){const n={},o=r(l,["gcsUri"]);o!=null&&f(n,["gcsUri"],o);const s=r(l,["bytesBase64Encoded"]);s!=null&&f(n,["imageBytes"],Ln(s));const u=r(l,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function Sa(l){const n={};if(r(l,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=r(l,["imageBytes"]);o!=null&&f(n,["bytesBase64Encoded"],Ln(o));const s=r(l,["mimeType"]);return s!=null&&f(n,["mimeType"],s),n}function zt(l){const n={},o=r(l,["gcsUri"]);o!=null&&f(n,["gcsUri"],o);const s=r(l,["imageBytes"]);s!=null&&f(n,["bytesBase64Encoded"],Ln(s));const u=r(l,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function XS(l,n,o){const s={},u=r(n,["pageSize"]);o!==void 0&&u!=null&&f(o,["_query","pageSize"],u);const d=r(n,["pageToken"]);o!==void 0&&d!=null&&f(o,["_query","pageToken"],d);const m=r(n,["filter"]);o!==void 0&&m!=null&&f(o,["_query","filter"],m);const g=r(n,["queryBase"]);return o!==void 0&&g!=null&&f(o,["_url","models_url"],Qm(l,g)),s}function KS(l,n,o){const s={},u=r(n,["pageSize"]);o!==void 0&&u!=null&&f(o,["_query","pageSize"],u);const d=r(n,["pageToken"]);o!==void 0&&d!=null&&f(o,["_query","pageToken"],d);const m=r(n,["filter"]);o!==void 0&&m!=null&&f(o,["_query","filter"],m);const g=r(n,["queryBase"]);return o!==void 0&&g!=null&&f(o,["_url","models_url"],Qm(l,g)),s}function QS(l,n){const o={},s=r(n,["config"]);return s!=null&&XS(l,s,o),o}function ZS(l,n){const o={},s=r(n,["config"]);return s!=null&&KS(l,s,o),o}function WS(l){const n={},o=r(l,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const s=r(l,["nextPageToken"]);s!=null&&f(n,["nextPageToken"],s);const u=r(l,["_self"]);if(u!=null){let d=Zm(u);Array.isArray(d)&&(d=d.map(m=>Wr(m))),f(n,["models"],d)}return n}function $S(l){const n={},o=r(l,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const s=r(l,["nextPageToken"]);s!=null&&f(n,["nextPageToken"],s);const u=r(l,["_self"]);if(u!=null){let d=Zm(u);Array.isArray(d)&&(d=d.map(m=>$r(m))),f(n,["models"],d)}return n}function jS(l){const n={},o=r(l,["maskMode"]);o!=null&&f(n,["maskMode"],o);const s=r(l,["segmentationClasses"]);s!=null&&f(n,["maskClasses"],s);const u=r(l,["maskDilation"]);return u!=null&&f(n,["dilation"],u),n}function Wr(l){const n={},o=r(l,["name"]);o!=null&&f(n,["name"],o);const s=r(l,["displayName"]);s!=null&&f(n,["displayName"],s);const u=r(l,["description"]);u!=null&&f(n,["description"],u);const d=r(l,["version"]);d!=null&&f(n,["version"],d);const m=r(l,["_self"]);m!=null&&f(n,["tunedModelInfo"],mE(m));const g=r(l,["inputTokenLimit"]);g!=null&&f(n,["inputTokenLimit"],g);const y=r(l,["outputTokenLimit"]);y!=null&&f(n,["outputTokenLimit"],y);const h=r(l,["supportedGenerationMethods"]);return h!=null&&f(n,["supportedActions"],h),n}function $r(l){const n={},o=r(l,["name"]);o!=null&&f(n,["name"],o);const s=r(l,["displayName"]);s!=null&&f(n,["displayName"],s);const u=r(l,["description"]);u!=null&&f(n,["description"],u);const d=r(l,["versionId"]);d!=null&&f(n,["version"],d);const m=r(l,["deployedModels"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(_=>gS(_))),f(n,["endpoints"],S)}const g=r(l,["labels"]);g!=null&&f(n,["labels"],g);const y=r(l,["_self"]);y!=null&&f(n,["tunedModelInfo"],hE(y));const h=r(l,["defaultCheckpointId"]);h!=null&&f(n,["defaultCheckpointId"],h);const T=r(l,["checkpoints"]);if(T!=null){let S=T;Array.isArray(S)&&(S=S.map(_=>_)),f(n,["checkpoints"],S)}return n}function eE(l){const n={},o=r(l,["videoMetadata"]);o!=null&&f(n,["videoMetadata"],o);const s=r(l,["thought"]);s!=null&&f(n,["thought"],s);const u=r(l,["inlineData"]);u!=null&&f(n,["inlineData"],kT(u));const d=r(l,["fileData"]);d!=null&&f(n,["fileData"],yS(d));const m=r(l,["thoughtSignature"]);m!=null&&f(n,["thoughtSignature"],m);const g=r(l,["functionCall"]);g!=null&&f(n,["functionCall"],g);const y=r(l,["codeExecutionResult"]);y!=null&&f(n,["codeExecutionResult"],y);const h=r(l,["executableCode"]);h!=null&&f(n,["executableCode"],h);const T=r(l,["functionResponse"]);T!=null&&f(n,["functionResponse"],T);const S=r(l,["text"]);return S!=null&&f(n,["text"],S),n}function tE(l){const n={},o=r(l,["productImage"]);return o!=null&&f(n,["image"],zt(o)),n}function nE(l,n){const o={},s=r(l,["numberOfImages"]);n!==void 0&&s!=null&&f(n,["parameters","sampleCount"],s);const u=r(l,["baseSteps"]);n!==void 0&&u!=null&&f(n,["parameters","editConfig","baseSteps"],u);const d=r(l,["outputGcsUri"]);n!==void 0&&d!=null&&f(n,["parameters","storageUri"],d);const m=r(l,["seed"]);n!==void 0&&m!=null&&f(n,["parameters","seed"],m);const g=r(l,["safetyFilterLevel"]);n!==void 0&&g!=null&&f(n,["parameters","safetySetting"],g);const y=r(l,["personGeneration"]);n!==void 0&&y!=null&&f(n,["parameters","personGeneration"],y);const h=r(l,["addWatermark"]);n!==void 0&&h!=null&&f(n,["parameters","addWatermark"],h);const T=r(l,["outputMimeType"]);n!==void 0&&T!=null&&f(n,["parameters","outputOptions","mimeType"],T);const S=r(l,["outputCompressionQuality"]);n!==void 0&&S!=null&&f(n,["parameters","outputOptions","compressionQuality"],S);const _=r(l,["enhancePrompt"]);n!==void 0&&_!=null&&f(n,["parameters","enhancePrompt"],_);const D=r(l,["labels"]);return n!==void 0&&D!=null&&f(n,["labels"],D),o}function iE(l,n){const o={},s=r(n,["model"]);s!=null&&f(o,["_url","model"],Ee(l,s));const u=r(n,["source"]);u!=null&&oE(u,o);const d=r(n,["config"]);return d!=null&&nE(d,o),o}function lE(l){const n={},o=r(l,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>Ta(u))),f(n,["generatedImages"],s)}return n}function oE(l,n){const o={},s=r(l,["prompt"]);n!==void 0&&s!=null&&f(n,["instances[0]","prompt"],s);const u=r(l,["personImage"]);n!==void 0&&u!=null&&f(n,["instances[0]","personImage","image"],zt(u));const d=r(l,["productImages"]);if(n!==void 0&&d!=null){let m=d;Array.isArray(m)&&(m=m.map(g=>tE(g))),f(n,["instances[0]","productImages"],m)}return o}function aE(l){const n={},o=r(l,["referenceImage"]);o!=null&&f(n,["referenceImage"],zt(o));const s=r(l,["referenceId"]);s!=null&&f(n,["referenceId"],s);const u=r(l,["referenceType"]);u!=null&&f(n,["referenceType"],u);const d=r(l,["maskImageConfig"]);d!=null&&f(n,["maskImageConfig"],jS(d));const m=r(l,["controlImageConfig"]);m!=null&&f(n,["controlImageConfig"],ZT(m));const g=r(l,["styleImageConfig"]);g!=null&&f(n,["styleImageConfig"],g);const y=r(l,["subjectImageConfig"]);return y!=null&&f(n,["subjectImageConfig"],y),n}function lh(l){const n={},o=r(l,["safetyAttributes","categories"]);o!=null&&f(n,["categories"],o);const s=r(l,["safetyAttributes","scores"]);s!=null&&f(n,["scores"],s);const u=r(l,["contentType"]);return u!=null&&f(n,["contentType"],u),n}function oh(l){const n={},o=r(l,["safetyAttributes","categories"]);o!=null&&f(n,["categories"],o);const s=r(l,["safetyAttributes","scores"]);s!=null&&f(n,["scores"],s);const u=r(l,["contentType"]);return u!=null&&f(n,["contentType"],u),n}function sE(l){const n={};if(r(l,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=r(l,["category"]);o!=null&&f(n,["category"],o);const s=r(l,["threshold"]);return s!=null&&f(n,["threshold"],s),n}function rE(l){const n={},o=r(l,["image"]);return o!=null&&f(n,["image"],zt(o)),n}function uE(l,n){const o={},s=r(l,["mode"]);n!==void 0&&s!=null&&f(n,["parameters","mode"],s);const u=r(l,["maxPredictions"]);n!==void 0&&u!=null&&f(n,["parameters","maxPredictions"],u);const d=r(l,["confidenceThreshold"]);n!==void 0&&d!=null&&f(n,["parameters","confidenceThreshold"],d);const m=r(l,["maskDilation"]);n!==void 0&&m!=null&&f(n,["parameters","maskDilation"],m);const g=r(l,["binaryColorThreshold"]);n!==void 0&&g!=null&&f(n,["parameters","binaryColorThreshold"],g);const y=r(l,["labels"]);return n!==void 0&&y!=null&&f(n,["labels"],y),o}function cE(l,n){const o={},s=r(n,["model"]);s!=null&&f(o,["_url","model"],Ee(l,s));const u=r(n,["source"]);u!=null&&dE(u,o);const d=r(n,["config"]);return d!=null&&uE(d,o),o}function fE(l){const n={},o=r(l,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>zS(u))),f(n,["generatedMasks"],s)}return n}function dE(l,n){const o={},s=r(l,["prompt"]);n!==void 0&&s!=null&&f(n,["instances[0]","prompt"],s);const u=r(l,["image"]);n!==void 0&&u!=null&&f(n,["instances[0]","image"],zt(u));const d=r(l,["scribbleImage"]);return n!==void 0&&d!=null&&f(n,["instances[0]","scribble"],rE(d)),o}function ah(l){const n={},o=r(l,["voiceConfig"]);if(o!=null&&f(n,["voiceConfig"],o),r(l,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const s=r(l,["languageCode"]);return s!=null&&f(n,["languageCode"],s),n}function pE(l){const n={},o=r(l,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(T=>T)),f(n,["functionDeclarations"],h)}if(r(l,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=r(l,["googleSearch"]);s!=null&&f(n,["googleSearch"],JS(s));const u=r(l,["googleSearchRetrieval"]);if(u!=null&&f(n,["googleSearchRetrieval"],u),r(l,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=r(l,["googleMaps"]);d!=null&&f(n,["googleMaps"],YS(d));const m=r(l,["urlContext"]);m!=null&&f(n,["urlContext"],m);const g=r(l,["computerUse"]);g!=null&&f(n,["computerUse"],g);const y=r(l,["codeExecution"]);return y!=null&&f(n,["codeExecution"],y),n}function sh(l){const n={},o=r(l,["functionDeclarations"]);if(o!=null){let S=o;Array.isArray(S)&&(S=S.map(_=>vS(_))),f(n,["functionDeclarations"],S)}const s=r(l,["retrieval"]);s!=null&&f(n,["retrieval"],s);const u=r(l,["googleSearch"]);u!=null&&f(n,["googleSearch"],u);const d=r(l,["googleSearchRetrieval"]);d!=null&&f(n,["googleSearchRetrieval"],d);const m=r(l,["enterpriseWebSearch"]);m!=null&&f(n,["enterpriseWebSearch"],m);const g=r(l,["googleMaps"]);g!=null&&f(n,["googleMaps"],g);const y=r(l,["urlContext"]);y!=null&&f(n,["urlContext"],y);const h=r(l,["computerUse"]);h!=null&&f(n,["computerUse"],h);const T=r(l,["codeExecution"]);return T!=null&&f(n,["codeExecution"],T),n}function mE(l){const n={},o=r(l,["baseModel"]);o!=null&&f(n,["baseModel"],o);const s=r(l,["createTime"]);s!=null&&f(n,["createTime"],s);const u=r(l,["updateTime"]);return u!=null&&f(n,["updateTime"],u),n}function hE(l){const n={},o=r(l,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&f(n,["baseModel"],o);const s=r(l,["createTime"]);s!=null&&f(n,["createTime"],s);const u=r(l,["updateTime"]);return u!=null&&f(n,["updateTime"],u),n}function gE(l,n){const o={},s=r(l,["displayName"]);n!==void 0&&s!=null&&f(n,["displayName"],s);const u=r(l,["description"]);n!==void 0&&u!=null&&f(n,["description"],u);const d=r(l,["defaultCheckpointId"]);return n!==void 0&&d!=null&&f(n,["defaultCheckpointId"],d),o}function yE(l,n){const o={},s=r(l,["displayName"]);n!==void 0&&s!=null&&f(n,["displayName"],s);const u=r(l,["description"]);n!==void 0&&u!=null&&f(n,["description"],u);const d=r(l,["defaultCheckpointId"]);return n!==void 0&&d!=null&&f(n,["defaultCheckpointId"],d),o}function vE(l,n){const o={},s=r(n,["model"]);s!=null&&f(o,["_url","name"],Ee(l,s));const u=r(n,["config"]);return u!=null&&gE(u,o),o}function TE(l,n){const o={},s=r(n,["model"]);s!=null&&f(o,["_url","model"],Ee(l,s));const u=r(n,["config"]);return u!=null&&yE(u,o),o}function SE(l,n){const o={},s=r(l,["outputGcsUri"]);n!==void 0&&s!=null&&f(n,["parameters","storageUri"],s);const u=r(l,["includeRaiReason"]);n!==void 0&&u!=null&&f(n,["parameters","includeRaiReason"],u);const d=r(l,["outputMimeType"]);n!==void 0&&d!=null&&f(n,["parameters","outputOptions","mimeType"],d);const m=r(l,["outputCompressionQuality"]);n!==void 0&&m!=null&&f(n,["parameters","outputOptions","compressionQuality"],m);const g=r(l,["enhanceInputImage"]);n!==void 0&&g!=null&&f(n,["parameters","upscaleConfig","enhanceInputImage"],g);const y=r(l,["imagePreservationFactor"]);n!==void 0&&y!=null&&f(n,["parameters","upscaleConfig","imagePreservationFactor"],y);const h=r(l,["labels"]);n!==void 0&&h!=null&&f(n,["labels"],h);const T=r(l,["numberOfImages"]);n!==void 0&&T!=null&&f(n,["parameters","sampleCount"],T);const S=r(l,["mode"]);return n!==void 0&&S!=null&&f(n,["parameters","mode"],S),o}function EE(l,n){const o={},s=r(n,["model"]);s!=null&&f(o,["_url","model"],Ee(l,s));const u=r(n,["image"]);u!=null&&f(o,["instances[0]","image"],zt(u));const d=r(n,["upscaleFactor"]);d!=null&&f(o,["parameters","upscaleConfig","upscaleFactor"],d);const m=r(n,["config"]);return m!=null&&SE(m,o),o}function _E(l){const n={},o=r(l,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const s=r(l,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>Ta(d))),f(n,["generatedImages"],u)}return n}function CE(l){const n={},o=r(l,["uri"]);o!=null&&f(n,["uri"],o);const s=r(l,["encodedVideo"]);s!=null&&f(n,["videoBytes"],Ln(s));const u=r(l,["encoding"]);return u!=null&&f(n,["mimeType"],u),n}function AE(l){const n={},o=r(l,["gcsUri"]);o!=null&&f(n,["uri"],o);const s=r(l,["bytesBase64Encoded"]);s!=null&&f(n,["videoBytes"],Ln(s));const u=r(l,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}function RE(l){const n={},o=r(l,["image"]);o!=null&&f(n,["_self"],zt(o));const s=r(l,["maskMode"]);return s!=null&&f(n,["maskMode"],s),n}function ME(l){const n={},o=r(l,["image"]);o!=null&&f(n,["image"],Sa(o));const s=r(l,["referenceType"]);return s!=null&&f(n,["referenceType"],s),n}function NE(l){const n={},o=r(l,["image"]);o!=null&&f(n,["image"],zt(o));const s=r(l,["referenceType"]);return s!=null&&f(n,["referenceType"],s),n}function rh(l){const n={},o=r(l,["uri"]);o!=null&&f(n,["uri"],o);const s=r(l,["videoBytes"]);s!=null&&f(n,["encodedVideo"],Ln(s));const u=r(l,["mimeType"]);return u!=null&&f(n,["encoding"],u),n}function uh(l){const n={},o=r(l,["uri"]);o!=null&&f(n,["gcsUri"],o);const s=r(l,["videoBytes"]);s!=null&&f(n,["bytesBase64Encoded"],Ln(s));const u=r(l,["mimeType"]);return u!=null&&f(n,["mimeType"],u),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xE="Content-Type",bE="X-Server-Timeout",DE="User-Agent",jr="x-goog-api-client",IE="1.27.0",UE=`google-genai-sdk/${IE}`,wE="v1beta1",LE="v1beta",Um=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class GE{constructor(n){var o,s;this.clientOptions=Object.assign(Object.assign({},n),{project:n.project,location:n.location,apiKey:n.apiKey,vertexai:n.vertexai});const u={};this.clientOptions.vertexai?(u.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:wE,u.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(u.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:LE,u.baseUrl="https://generativelanguage.googleapis.com/"),u.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=u,n.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(u,n.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var n;return(n=this.clientOptions.vertexai)!==null&&n!==void 0?n:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(n){if(!n||n.baseUrl===void 0||n.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[n.baseUrl.endsWith("/")?n.baseUrl.slice(0,-1):n.baseUrl];return n.apiVersion&&n.apiVersion!==""&&s.push(n.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const n=this.getBaseUrl(),o=new URL(n);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(n){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=n;else throw new Error("HTTP options are not correctly set.")}constructUrl(n,o,s){const u=[this.getRequestUrlInternal(o)];return s&&u.push(this.getBaseResourcePath()),n!==""&&u.push(n),new URL(`${u.join("/")}`)}shouldPrependVertexProjectPath(n){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||n.path.startsWith("projects/")||n.httpMethod==="GET"&&n.path.startsWith("publishers/google/models"))}async request(n){let o=this.clientOptions.httpOptions;n.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const s=this.shouldPrependVertexProjectPath(n),u=this.constructUrl(n.path,o,s);if(n.queryParams)for(const[m,g]of Object.entries(n.queryParams))u.searchParams.append(m,String(g));let d={};if(n.httpMethod==="GET"){if(n.body&&n.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else d.body=n.body;return d=await this.includeExtraHttpOptionsToRequestInit(d,o,u.toString(),n.abortSignal),this.unaryApiCall(u,d,n.httpMethod)}patchHttpOptions(n,o){const s=JSON.parse(JSON.stringify(n));for(const[u,d]of Object.entries(o))typeof d=="object"?s[u]=Object.assign(Object.assign({},s[u]),d):d!==void 0&&(s[u]=d);return s}async requestStream(n){let o=this.clientOptions.httpOptions;n.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const s=this.shouldPrependVertexProjectPath(n),u=this.constructUrl(n.path,o,s);(!u.searchParams.has("alt")||u.searchParams.get("alt")!=="sse")&&u.searchParams.set("alt","sse");let d={};return d.body=n.body,d=await this.includeExtraHttpOptionsToRequestInit(d,o,u.toString(),n.abortSignal),this.streamApiCall(u,d,n.httpMethod)}async includeExtraHttpOptionsToRequestInit(n,o,s,u){if(o&&o.timeout||u){const d=new AbortController,m=d.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const g=setTimeout(()=>d.abort(),o.timeout);g&&typeof g.unref=="function"&&g.unref()}u&&u.addEventListener("abort",()=>{d.abort()}),n.signal=m}return o&&o.extraBody!==null&&qE(n,o.extraBody),n.headers=await this.getHeadersInternal(o,s),n}async unaryApiCall(n,o,s){return this.apiCall(n.toString(),Object.assign(Object.assign({},o),{method:s})).then(async u=>(await wm(u),new Kr(u))).catch(u=>{throw u instanceof Error?u:new Error(JSON.stringify(u))})}async streamApiCall(n,o,s){return this.apiCall(n.toString(),Object.assign(Object.assign({},o),{method:s})).then(async u=>(await wm(u),this.processStreamResponse(u))).catch(u=>{throw u instanceof Error?u:new Error(JSON.stringify(u))})}processStreamResponse(n){var o;return ki(this,arguments,function*(){const u=(o=n==null?void 0:n.body)===null||o===void 0?void 0:o.getReader(),d=new TextDecoder("utf-8");if(!u)throw new Error("Response body is empty");try{let m="";for(;;){const{done:g,value:y}=yield Le(u.read());if(g){if(m.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=d.decode(y,{stream:!0});try{const S=JSON.parse(h);if("error"in S){const _=JSON.parse(JSON.stringify(S.error)),D=_.status,z=_.code,B=`got status: ${D}. ${JSON.stringify(S)}`;if(z>=400&&z<600)throw new ya({message:B,status:z})}}catch(S){if(S.name==="ApiError")throw S}m+=h;let T=m.match(Um);for(;T;){const S=T[1];try{const _=new Response(S,{headers:n==null?void 0:n.headers,status:n==null?void 0:n.status,statusText:n==null?void 0:n.statusText});yield yield Le(new Kr(_)),m=m.slice(T[0].length),T=m.match(Um)}catch(_){throw new Error(`exception parsing stream chunk ${S}. ${_}`)}}}}finally{u.releaseLock()}})}async apiCall(n,o){return fetch(n,o).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const n={},o=UE+" "+this.clientOptions.userAgentExtra;return n[DE]=o,n[jr]=o,n[xE]="application/json",n}async getHeadersInternal(n,o){const s=new Headers;if(n&&n.headers){for(const[u,d]of Object.entries(n.headers))s.append(u,d);n.timeout&&n.timeout>0&&s.append(bE,String(Math.ceil(n.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,o),s}async uploadFile(n,o){var s;const u={};o!=null&&(u.mimeType=o.mimeType,u.name=o.name,u.displayName=o.displayName),u.name&&!u.name.startsWith("files/")&&(u.name=`files/${u.name}`);const d=this.clientOptions.uploader,m=await d.stat(n);u.sizeBytes=String(m.size);const g=(s=o==null?void 0:o.mimeType)!==null&&s!==void 0?s:m.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");u.mimeType=g;const y=await this.fetchUploadUrl(u,o);return d.upload(n,y,this)}async downloadFile(n){await this.clientOptions.downloader.download(n,this)}async fetchUploadUrl(n,o){var s;let u={};o!=null&&o.httpOptions?u=o.httpOptions:u={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${n.mimeType}`}};const d={file:n},m=await this.request({path:W("upload/v1beta/files",d._url),body:JSON.stringify(d),httpMethod:"POST",httpOptions:u});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const g=(s=m==null?void 0:m.headers)===null||s===void 0?void 0:s["x-goog-upload-url"];if(g===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return g}}async function wm(l){var n;if(l===void 0)throw new Error("response is undefined");if(!l.ok){const o=l.status;let s;!((n=l.headers.get("content-type"))===null||n===void 0)&&n.includes("application/json")?s=await l.json():s={error:{message:await l.text(),code:l.status,status:l.statusText}};const u=JSON.stringify(s);throw o>=400&&o<600?new ya({message:u,status:o}):new Error(u)}}function qE(l,n){if(!n||Object.keys(n).length===0)return;if(l.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof l.body=="string"&&l.body.length>0)try{const d=JSON.parse(l.body);if(typeof d=="object"&&d!==null&&!Array.isArray(d))o=d;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(d,m){const g=Object.assign({},d);for(const y in m)if(Object.prototype.hasOwnProperty.call(m,y)){const h=m[y],T=g[y];h&&typeof h=="object"&&!Array.isArray(h)&&T&&typeof T=="object"&&!Array.isArray(T)?g[y]=s(T,h):(T&&h&&typeof T!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof T}, New type: ${typeof h}. Overwriting.`),g[y]=h)}return g}const u=s(o,n);l.body=JSON.stringify(u)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const HE="mcp_used/unknown";let zE=!1;function ch(l){for(const n of l)if(BE(n)||typeof n=="object"&&"inputSchema"in n)return!0;return zE}function fh(l){var n;const o=(n=l[jr])!==null&&n!==void 0?n:"";l[jr]=(o+` ${HE}`).trimStart()}function BE(l){return l!==null&&typeof l=="object"&&l instanceof su}function VE(l,n=100){return ki(this,arguments,function*(){let s,u=0;for(;u<n;){const d=yield Le(l.listTools({cursor:s}));for(const m of d.tools)yield yield Le(m),u++;if(!d.nextCursor)break;s=d.nextCursor}})}class su{constructor(n=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=n,this.config=o}static create(n,o){return new su(n,o)}async initialize(){var n,o,s,u;if(this.mcpTools.length>0)return;const d={},m=[];for(const T of this.mcpClients)try{for(var g=!0,y=(o=void 0,Yl(VE(T))),h;h=await y.next(),n=h.done,!n;g=!0){u=h.value,g=!1;const S=u;m.push(S);const _=S.name;if(d[_])throw new Error(`Duplicate function name ${_} found in MCP tools. Please ensure function names are unique.`);d[_]=T}}catch(S){o={error:S}}finally{try{!g&&!n&&(s=y.return)&&await s.call(y)}finally{if(o)throw o.error}}this.mcpTools=m,this.functionNameToMcpClient=d}async tool(){return await this.initialize(),Jv(this.mcpTools,this.config)}async callTool(n){await this.initialize();const o=[];for(const s of n)if(s.name in this.functionNameToMcpClient){const u=this.functionNameToMcpClient[s.name];let d;this.config.timeout&&(d={timeout:this.config.timeout});const m=await u.callTool({name:s.name,arguments:s.args},void 0,d);o.push({functionResponse:{name:s.name,response:m.isError?{error:m}:m}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function PE(l,n,o){const s=new Hv;let u;o.data instanceof Blob?u=JSON.parse(await o.data.text()):u=JSON.parse(o.data),Object.assign(s,u),n(s)}class OE{constructor(n,o,s){this.apiClient=n,this.auth=o,this.webSocketFactory=s}async connect(n){var o,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const u=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),m=JE(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${u}/ws/google.ai.generativelanguage.${d}.GenerativeService.BidiGenerateMusic?key=${g}`;let h=()=>{};const T=new Promise(V=>{h=V}),S=n.callbacks,_=function(){h({})},D=this.apiClient,z={onopen:_,onmessage:V=>{PE(D,S.onmessage,V)},onerror:(o=S==null?void 0:S.onerror)!==null&&o!==void 0?o:function(V){},onclose:(s=S==null?void 0:S.onclose)!==null&&s!==void 0?s:function(V){}},B=this.webSocketFactory.create(y,YE(m),z);B.connect(),await T;const O={setup:{model:Ee(this.apiClient,n.model)}};return B.send(JSON.stringify(O)),new kE(B,this.apiClient)}}class kE{constructor(n,o){this.conn=n,this.apiClient=o}async setWeightedPrompts(n){if(!n.weightedPrompts||Object.keys(n.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=LT(n);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(n){n.musicGenerationConfig||(n.musicGenerationConfig={});const o=wT(n);this.conn.send(JSON.stringify(o))}sendPlaybackControl(n){const o={playbackControl:n};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(Pi.PLAY)}pause(){this.sendPlaybackControl(Pi.PAUSE)}stop(){this.sendPlaybackControl(Pi.STOP)}resetContext(){this.sendPlaybackControl(Pi.RESET_CONTEXT)}close(){this.conn.close()}}function YE(l){const n={};return l.forEach((o,s)=>{n[s]=o}),n}function JE(l){const n=new Headers;for(const[o,s]of Object.entries(l))n.append(o,s);return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const FE="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function XE(l,n,o){const s=new qv;let u;o.data instanceof Blob?u=await o.data.text():o.data instanceof ArrayBuffer?u=new TextDecoder().decode(o.data):u=o.data;const d=JSON.parse(u);if(l.isVertexAI()){const m=HT(d);Object.assign(s,m)}else Object.assign(s,d);n(s)}class KE{constructor(n,o,s){this.apiClient=n,this.auth=o,this.webSocketFactory=s,this.music=new OE(this.apiClient,this.auth,this.webSocketFactory)}async connect(n){var o,s,u,d,m,g;if(n.config&&n.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let T;const S=this.apiClient.getHeaders();n.config&&n.config.tools&&ch(n.config.tools)&&fh(S);const _=$E(S);if(this.apiClient.isVertexAI())T=`${y}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(_,T);else{const Q=this.apiClient.getApiKey();let le="BidiGenerateContent",de="key";Q!=null&&Q.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),le="BidiGenerateContentConstrained",de="access_token"),T=`${y}/ws/google.ai.generativelanguage.${h}.GenerativeService.${le}?${de}=${Q}`}let D=()=>{};const z=new Promise(Q=>{D=Q}),B=n.callbacks,Y=function(){var Q;(Q=B==null?void 0:B.onopen)===null||Q===void 0||Q.call(B),D({})},J=this.apiClient,O={onopen:Y,onmessage:Q=>{XE(J,B.onmessage,Q)},onerror:(o=B==null?void 0:B.onerror)!==null&&o!==void 0?o:function(Q){},onclose:(s=B==null?void 0:B.onclose)!==null&&s!==void 0?s:function(Q){}},V=this.webSocketFactory.create(T,WE(_),O);V.connect(),await z;let X=Ee(this.apiClient,n.model);if(this.apiClient.isVertexAI()&&X.startsWith("publishers/")){const Q=this.apiClient.getProject(),le=this.apiClient.getLocation();X=`projects/${Q}/locations/${le}/`+X}let K={};this.apiClient.isVertexAI()&&((u=n.config)===null||u===void 0?void 0:u.responseModalities)===void 0&&(n.config===void 0?n.config={responseModalities:[pa.AUDIO]}:n.config.responseModalities=[pa.AUDIO]),!((d=n.config)===null||d===void 0)&&d.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ee=(g=(m=n.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[],P=[];for(const Q of ee)if(this.isCallableTool(Q)){const le=Q;P.push(await le.tool())}else P.push(Q);P.length>0&&(n.config.tools=P);const oe={model:X,config:n.config,callbacks:n.callbacks};return this.apiClient.isVertexAI()?K=UT(this.apiClient,oe):K=IT(this.apiClient,oe),delete K.config,V.send(JSON.stringify(K)),new ZE(V,this.apiClient)}isCallableTool(n){return"callTool"in n&&typeof n.callTool=="function"}}const QE={turnComplete:!0};class ZE{constructor(n,o){this.conn=n,this.apiClient=o}tLiveClientContent(n,o){if(o.turns!==null&&o.turns!==void 0){let s=[];try{s=Lt(o.turns),n.isVertexAI()||(s=s.map(u=>va(u)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:s,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(n,o){let s=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?s=o.functionResponses:s=[o.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const d of s){if(typeof d!="object"||d===null||!("name"in d)||!("response"in d))throw new Error(`Could not parse function response, type '${typeof d}'.`);if(!n.isVertexAI()&&!("id"in d))throw new Error(FE)}return{toolResponse:{functionResponses:s}}}sendClientContent(n){n=Object.assign(Object.assign({},QE),n);const o=this.tLiveClientContent(this.apiClient,n);this.conn.send(JSON.stringify(o))}sendRealtimeInput(n){let o={};this.apiClient.isVertexAI()?o={realtimeInput:qT(n)}:o={realtimeInput:GT(n)},this.conn.send(JSON.stringify(o))}sendToolResponse(n){if(n.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,n);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function WE(l){const n={};return l.forEach((o,s)=>{n[s]=o}),n}function $E(l){const n=new Headers;for(const[o,s]of Object.entries(l))n.append(o,s);return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lm=10;function Gm(l){var n,o,s;if(!((n=l==null?void 0:l.automaticFunctionCalling)===null||n===void 0)&&n.disable)return!0;let u=!1;for(const m of(o=l==null?void 0:l.tools)!==null&&o!==void 0?o:[])if(Yi(m)){u=!0;break}if(!u)return!0;const d=(s=l==null?void 0:l.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return d&&(d<0||!Number.isInteger(d))||d==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",d),!0):!1}function Yi(l){return"callTool"in l&&typeof l.callTool=="function"}function jE(l){var n,o,s;return(s=(o=(n=l.config)===null||n===void 0?void 0:n.tools)===null||o===void 0?void 0:o.some(u=>Yi(u)))!==null&&s!==void 0?s:!1}function e_(l){var n,o,s;return(s=(o=(n=l.config)===null||n===void 0?void 0:n.tools)===null||o===void 0?void 0:o.some(u=>!Yi(u)))!==null&&s!==void 0?s:!1}function qm(l){var n;return!(!((n=l==null?void 0:l.automaticFunctionCalling)===null||n===void 0)&&n.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class t_ extends ti{constructor(n){super(),this.apiClient=n,this.generateContent=async o=>{var s,u,d,m,g;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!jE(o)||Gm(o.config))return await this.generateContentInternal(y);if(e_(o))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let h,T;const S=Lt(y.contents),_=(d=(u=(s=y.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||u===void 0?void 0:u.maximumRemoteCalls)!==null&&d!==void 0?d:Lm;let D=0;for(;D<_&&(h=await this.generateContentInternal(y),!(!h.functionCalls||h.functionCalls.length===0));){const z=h.candidates[0].content,B=[];for(const Y of(g=(m=o.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[])if(Yi(Y)){const O=await Y.callTool(h.functionCalls);B.push(...O)}D++,T={role:"user",parts:B},y.contents=Lt(y.contents),y.contents.push(z),y.contents.push(T),qm(y.config)&&(S.push(z),S.push(T))}return qm(y.config)&&(h.automaticFunctionCallingHistory=S),h},this.generateContentStream=async o=>{if(this.maybeMoveToResponseJsonSchem(o),Gm(o.config)){const s=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(s)}else return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(s=>{var u;let d;const m=[];if(s!=null&&s.generatedImages)for(const y of s.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((u=y==null?void 0:y.safetyAttributes)===null||u===void 0?void 0:u.contentType)==="Positive Prompt"?d=y==null?void 0:y.safetyAttributes:m.push(y);let g;return d?g={generatedImages:m,positivePromptSafetyAttributes:d,sdkHttpResponse:s.sdkHttpResponse}:g={generatedImages:m,sdkHttpResponse:s.sdkHttpResponse},g}),this.list=async o=>{var s;const m={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!m.config.queryBase){if(!((s=m.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");m.config.filter="labels.tune-type:*"}return new Jl(ei.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(m),m)},this.editImage=async o=>{const s={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(s.referenceImages=o.referenceImages.map(u=>u.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async o=>{let s={numberOfImages:1,mode:"upscale"};o.config&&(s=Object.assign(Object.assign({},s),o.config));const u={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:s};return await this.upscaleImageInternal(u)},this.generateVideos=async o=>{var s,u,d,m,g,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=o.video)===null||s===void 0)&&s.uri&&(!((u=o.video)===null||u===void 0)&&u.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((m=(d=o.source)===null||d===void 0?void 0:d.video)===null||m===void 0)&&m.uri&&(!((y=(g=o.source)===null||g===void 0?void 0:g.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(n){n.config&&n.config.responseSchema&&(n.config.responseJsonSchema||Object.keys(n.config.responseSchema).includes("$schema")&&(n.config.responseJsonSchema=n.config.responseSchema,delete n.config.responseSchema))}async processParamsMaybeAddMcpUsage(n){var o,s,u;const d=(o=n.config)===null||o===void 0?void 0:o.tools;if(!d)return n;const m=await Promise.all(d.map(async y=>Yi(y)?await y.tool():y)),g={model:n.model,contents:n.contents,config:Object.assign(Object.assign({},n.config),{tools:m})};if(g.config.tools=m,n.config&&n.config.tools&&ch(n.config.tools)){const y=(u=(s=n.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&u!==void 0?u:{};let h=Object.assign({},y);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),fh(h),g.config.httpOptions=Object.assign(Object.assign({},n.config.httpOptions),{headers:h})}return g}async initAfcToolsMap(n){var o,s,u;const d=new Map;for(const m of(s=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&s!==void 0?s:[])if(Yi(m)){const g=m,y=await g.tool();for(const h of(u=y.functionDeclarations)!==null&&u!==void 0?u:[]){if(!h.name)throw new Error("Function declaration name is required.");if(d.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);d.set(h.name,g)}}return d}async processAfcStream(n){var o,s,u;const d=(u=(s=(o=n.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&u!==void 0?u:Lm;let m=!1,g=0;const y=await this.initAfcToolsMap(n);return(function(h,T,S){var _,D;return ki(this,arguments,function*(){for(var z,B,Y,J;g<d;){m&&(g++,m=!1);const K=yield Le(h.processParamsMaybeAddMcpUsage(S)),ee=yield Le(h.generateContentStreamInternal(K)),P=[],oe=[];try{for(var O=!0,V=(B=void 0,Yl(ee)),X;X=yield Le(V.next()),z=X.done,!z;O=!0){J=X.value,O=!1;const Q=J;if(yield yield Le(Q),Q.candidates&&(!((_=Q.candidates[0])===null||_===void 0)&&_.content)){oe.push(Q.candidates[0].content);for(const le of(D=Q.candidates[0].content.parts)!==null&&D!==void 0?D:[])if(g<d&&le.functionCall){if(!le.functionCall.name)throw new Error("Function call name was not returned by the model.");if(T.has(le.functionCall.name)){const de=yield Le(T.get(le.functionCall.name).callTool([le.functionCall]));P.push(...de)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${T.keys()}, mising tool: ${le.functionCall.name}`)}}}}catch(Q){B={error:Q}}finally{try{!O&&!z&&(Y=V.return)&&(yield Le(Y.call(V)))}finally{if(B)throw B.error}}if(P.length>0){m=!0;const Q=new kl;Q.candidates=[{content:{role:"user",parts:P}}],yield yield Le(Q);const le=[];le.push(...oe),le.push({role:"user",parts:P});const de=Lt(S.contents).concat(le);S.contents=de}else break}})})(this,y,n)}async generateContentInternal(n){var o,s,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=bm(this.apiClient,n);return g=W("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:T.headers},_})),m.then(T=>{const S=Im(T),_=new kl;return Object.assign(_,S),_})}else{const h=xm(this.apiClient,n);return g=W("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:T.headers},_})),m.then(T=>{const S=Dm(T),_=new kl;return Object.assign(_,S),_})}}async generateContentStreamInternal(n){var o,s,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=bm(this.apiClient,n);return g=W("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}),m.then(function(S){return ki(this,arguments,function*(){var _,D,z,B;try{for(var Y=!0,J=Yl(S),O;O=yield Le(J.next()),_=O.done,!_;Y=!0){B=O.value,Y=!1;const V=B,X=Im(yield Le(V.json()));X.sdkHttpResponse={headers:V.headers};const K=new kl;Object.assign(K,X),yield yield Le(K)}}catch(V){D={error:V}}finally{try{!Y&&!_&&(z=J.return)&&(yield Le(z.call(J)))}finally{if(D)throw D.error}}})})}else{const h=xm(this.apiClient,n);return g=W("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}),m.then(function(S){return ki(this,arguments,function*(){var _,D,z,B;try{for(var Y=!0,J=Yl(S),O;O=yield Le(J.next()),_=O.done,!_;Y=!0){B=O.value,Y=!1;const V=B,X=Dm(yield Le(V.json()));X.sdkHttpResponse={headers:V.headers};const K=new kl;Object.assign(K,X),yield yield Le(K)}}catch(V){D={error:V}}finally{try{!Y&&!_&&(z=J.return)&&(yield Le(z.call(J)))}finally{if(D)throw D.error}}})})}}async embedContent(n){var o,s,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=pS(this.apiClient,n);return g=W("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:T.headers},_})),m.then(T=>{const S=hS(T),_=new dm;return Object.assign(_,S),_})}else{const h=dS(this.apiClient,n);return g=W("{model}:batchEmbedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:T.headers},_})),m.then(T=>{const S=mS(T),_=new dm;return Object.assign(_,S),_})}}async generateImagesInternal(n){var o,s,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=AS(this.apiClient,n);return g=W("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:T.headers},_})),m.then(T=>{const S=MS(T),_=new pm;return Object.assign(_,S),_})}else{const h=CS(this.apiClient,n);return g=W("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:T.headers},_})),m.then(T=>{const S=RS(T),_=new pm;return Object.assign(_,S),_})}}async editImageInternal(n){var o,s;let u,d="",m={};if(this.apiClient.isVertexAI()){const g=rS(this.apiClient,n);return d=W("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const T=h;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const h=uS(y),T=new xv;return Object.assign(T,h),T})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(n){var o,s;let u,d="",m={};if(this.apiClient.isVertexAI()){const g=EE(this.apiClient,n);return d=W("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const T=h;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const h=_E(y),T=new bv;return Object.assign(T,h),T})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(n){var o,s;let u,d="",m={};if(this.apiClient.isVertexAI()){const g=iE(this.apiClient,n);return d=W("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),u.then(y=>{const h=lE(y),T=new Dv;return Object.assign(T,h),T})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(n){var o,s;let u,d="",m={};if(this.apiClient.isVertexAI()){const g=cE(this.apiClient,n);return d=W("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),u.then(y=>{const h=fE(y),T=new Iv;return Object.assign(T,h),T})}else throw new Error("This method is only supported by the Vertex AI.")}async get(n){var o,s,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=kS(this.apiClient,n);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),m.then(T=>$r(T))}else{const h=OS(this.apiClient,n);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json()),m.then(T=>Wr(T))}}async listInternal(n){var o,s,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=ZS(this.apiClient,n);return g=W("{models_url}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:T.headers},_})),m.then(T=>{const S=$S(T),_=new mm;return Object.assign(_,S),_})}else{const h=QS(this.apiClient,n);return g=W("{models_url}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:T.headers},_})),m.then(T=>{const S=WS(T),_=new mm;return Object.assign(_,S),_})}}async update(n){var o,s,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=TE(this.apiClient,n);return g=W("{model}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),m.then(T=>$r(T))}else{const h=vE(this.apiClient,n);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json()),m.then(T=>Wr(T))}}async delete(n){var o,s,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=lS(this.apiClient,n);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:T.headers},_})),m.then(T=>{const S=aS(T),_=new hm;return Object.assign(_,S),_})}else{const h=iS(this.apiClient,n);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:T.headers},_})),m.then(T=>{const S=oS(T),_=new hm;return Object.assign(_,S),_})}}async countTokens(n){var o,s,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=eS(this.apiClient,n);return g=W("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:T.headers},_})),m.then(T=>{const S=nS(T),_=new gm;return Object.assign(_,S),_})}else{const h=jT(this.apiClient,n);return g=W("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:T.headers},_})),m.then(T=>{const S=tS(T),_=new gm;return Object.assign(_,S),_})}}async computeTokens(n){var o,s;let u,d="",m={};if(this.apiClient.isVertexAI()){const g=FT(this.apiClient,n);return d=W("{model}:computeTokens",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const T=h;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const h=XT(y),T=new Uv;return Object.assign(T,h),T})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(n){var o,s,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=US(this.apiClient,n);return g=W("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),m.then(T=>{const S=DS(T),_=new ma;return Object.assign(_,S),_})}else{const h=IS(this.apiClient,n);return g=W("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json()),m.then(T=>{const S=bS(T),_=new ma;return Object.assign(_,S),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class n_ extends ti{constructor(n){super(),this.apiClient=n}async getVideosOperation(n){const o=n.operation,s=n.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const u=o.name.split("/operations/")[0];let d;s&&"httpOptions"in s&&(d=s.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:u,config:{httpOptions:d}});return o._fromAPIResponse({apiResponse:m,isVertexAI:!0})}else{const u=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:u,isVertexAI:!1})}}async get(n){const o=n.operation,s=n.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const u=o.name.split("/operations/")[0];let d;s&&"httpOptions"in s&&(d=s.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:u,config:{httpOptions:d}});return o._fromAPIResponse({apiResponse:m,isVertexAI:!0})}else{const u=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:u,isVertexAI:!1})}}async getVideosOperationInternal(n){var o,s,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=Rv(n);return g=W("{operationName}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),m}else{const h=Av(n);return g=W("{operationName}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json()),m}}async fetchPredictVideosOperationInternal(n){var o,s;let u,d="",m={};if(this.apiClient.isVertexAI()){const g=yv(n);return d=W("{resourceName}:fetchPredictOperation",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),u}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function i_(l){const n={};if(r(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(l,["data"]);o!=null&&f(n,["data"],o);const s=r(l,["mimeType"]);return s!=null&&f(n,["mimeType"],s),n}function l_(l){const n={},o=r(l,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>d_(d))),f(n,["parts"],u)}const s=r(l,["role"]);return s!=null&&f(n,["role"],s),n}function o_(l,n,o){const s={},u=r(n,["expireTime"]);o!==void 0&&u!=null&&f(o,["expireTime"],u);const d=r(n,["newSessionExpireTime"]);o!==void 0&&d!=null&&f(o,["newSessionExpireTime"],d);const m=r(n,["uses"]);o!==void 0&&m!=null&&f(o,["uses"],m);const g=r(n,["liveConnectConstraints"]);o!==void 0&&g!=null&&f(o,["bidiGenerateContentSetup"],f_(l,g));const y=r(n,["lockAdditionalFields"]);return o!==void 0&&y!=null&&f(o,["fieldMask"],y),s}function a_(l,n){const o={},s=r(n,["config"]);return s!=null&&f(o,["config"],o_(l,s,o)),o}function s_(l){const n={};if(r(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(l,["fileUri"]);o!=null&&f(n,["fileUri"],o);const s=r(l,["mimeType"]);return s!=null&&f(n,["mimeType"],s),n}function r_(l){const n={};if(r(l,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(l,["enableWidget"]);return o!=null&&f(n,["enableWidget"],o),n}function u_(l){const n={},o=r(l,["timeRangeFilter"]);if(o!=null&&f(n,["timeRangeFilter"],o),r(l,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return n}function c_(l,n){const o={},s=r(l,["generationConfig"]);n!==void 0&&s!=null&&f(n,["setup","generationConfig"],s);const u=r(l,["responseModalities"]);n!==void 0&&u!=null&&f(n,["setup","generationConfig","responseModalities"],u);const d=r(l,["temperature"]);n!==void 0&&d!=null&&f(n,["setup","generationConfig","temperature"],d);const m=r(l,["topP"]);n!==void 0&&m!=null&&f(n,["setup","generationConfig","topP"],m);const g=r(l,["topK"]);n!==void 0&&g!=null&&f(n,["setup","generationConfig","topK"],g);const y=r(l,["maxOutputTokens"]);n!==void 0&&y!=null&&f(n,["setup","generationConfig","maxOutputTokens"],y);const h=r(l,["mediaResolution"]);n!==void 0&&h!=null&&f(n,["setup","generationConfig","mediaResolution"],h);const T=r(l,["seed"]);n!==void 0&&T!=null&&f(n,["setup","generationConfig","seed"],T);const S=r(l,["speechConfig"]);n!==void 0&&S!=null&&f(n,["setup","generationConfig","speechConfig"],au(S));const _=r(l,["thinkingConfig"]);n!==void 0&&_!=null&&f(n,["setup","generationConfig","thinkingConfig"],_);const D=r(l,["enableAffectiveDialog"]);n!==void 0&&D!=null&&f(n,["setup","generationConfig","enableAffectiveDialog"],D);const z=r(l,["systemInstruction"]);n!==void 0&&z!=null&&f(n,["setup","systemInstruction"],l_(it(z)));const B=r(l,["tools"]);if(n!==void 0&&B!=null){let ee=Fi(B);Array.isArray(ee)&&(ee=ee.map(P=>m_(Ji(P)))),f(n,["setup","tools"],ee)}const Y=r(l,["sessionResumption"]);n!==void 0&&Y!=null&&f(n,["setup","sessionResumption"],p_(Y));const J=r(l,["inputAudioTranscription"]);n!==void 0&&J!=null&&f(n,["setup","inputAudioTranscription"],J);const O=r(l,["outputAudioTranscription"]);n!==void 0&&O!=null&&f(n,["setup","outputAudioTranscription"],O);const V=r(l,["realtimeInputConfig"]);n!==void 0&&V!=null&&f(n,["setup","realtimeInputConfig"],V);const X=r(l,["contextWindowCompression"]);n!==void 0&&X!=null&&f(n,["setup","contextWindowCompression"],X);const K=r(l,["proactivity"]);return n!==void 0&&K!=null&&f(n,["setup","proactivity"],K),o}function f_(l,n){const o={},s=r(n,["model"]);s!=null&&f(o,["setup","model"],Ee(l,s));const u=r(n,["config"]);return u!=null&&f(o,["config"],c_(u,o)),o}function d_(l){const n={},o=r(l,["videoMetadata"]);o!=null&&f(n,["videoMetadata"],o);const s=r(l,["thought"]);s!=null&&f(n,["thought"],s);const u=r(l,["inlineData"]);u!=null&&f(n,["inlineData"],i_(u));const d=r(l,["fileData"]);d!=null&&f(n,["fileData"],s_(d));const m=r(l,["thoughtSignature"]);m!=null&&f(n,["thoughtSignature"],m);const g=r(l,["functionCall"]);g!=null&&f(n,["functionCall"],g);const y=r(l,["codeExecutionResult"]);y!=null&&f(n,["codeExecutionResult"],y);const h=r(l,["executableCode"]);h!=null&&f(n,["executableCode"],h);const T=r(l,["functionResponse"]);T!=null&&f(n,["functionResponse"],T);const S=r(l,["text"]);return S!=null&&f(n,["text"],S),n}function p_(l){const n={},o=r(l,["handle"]);if(o!=null&&f(n,["handle"],o),r(l,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function m_(l){const n={},o=r(l,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(T=>T)),f(n,["functionDeclarations"],h)}if(r(l,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=r(l,["googleSearch"]);s!=null&&f(n,["googleSearch"],u_(s));const u=r(l,["googleSearchRetrieval"]);if(u!=null&&f(n,["googleSearchRetrieval"],u),r(l,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=r(l,["googleMaps"]);d!=null&&f(n,["googleMaps"],r_(d));const m=r(l,["urlContext"]);m!=null&&f(n,["urlContext"],m);const g=r(l,["computerUse"]);g!=null&&f(n,["computerUse"],g);const y=r(l,["codeExecution"]);return y!=null&&f(n,["codeExecution"],y),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function h_(l){const n=[];for(const o in l)if(Object.prototype.hasOwnProperty.call(l,o)){const s=l[o];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const u=Object.keys(s).map(d=>`${o}.${d}`);n.push(...u)}else n.push(o)}return n.join(",")}function g_(l,n){let o=null;const s=l.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const d=s.setup;typeof d=="object"&&d!==null?(l.bidiGenerateContentSetup=d,o=d):delete l.bidiGenerateContentSetup}else s!==void 0&&delete l.bidiGenerateContentSetup;const u=l.fieldMask;if(o){const d=h_(o);if(Array.isArray(n==null?void 0:n.lockAdditionalFields)&&(n==null?void 0:n.lockAdditionalFields.length)===0)d?l.fieldMask=d:delete l.fieldMask;else if(n!=null&&n.lockAdditionalFields&&n.lockAdditionalFields.length>0&&u!==null&&Array.isArray(u)&&u.length>0){const m=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];u.length>0&&(g=u.map(h=>m.includes(h)?`generationConfig.${h}`:h));const y=[];d&&y.push(d),g.length>0&&y.push(...g),y.length>0?l.fieldMask=y.join(","):delete l.fieldMask}else delete l.fieldMask}else u!==null&&Array.isArray(u)&&u.length>0?l.fieldMask=u.join(","):delete l.fieldMask;return l}class y_ extends ti{constructor(n){super(),this.apiClient=n}async create(n){var o,s;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=a_(this.apiClient,n);d=W("auth_tokens",g._url),m=g._query,delete g.config,delete g._url,delete g._query;const y=g_(g,n.config);return u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),u.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function v_(l,n){const o={},s=r(l,["name"]);return s!=null&&f(o,["_url","name"],s),o}function T_(l,n){const o={},s=r(l,["name"]);return s!=null&&f(o,["_url","name"],s),o}function S_(l,n,o){const s={};if(r(l,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const u=r(l,["tunedModelDisplayName"]);if(n!==void 0&&u!=null&&f(n,["displayName"],u),r(l,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const d=r(l,["epochCount"]);n!==void 0&&d!=null&&f(n,["tuningTask","hyperparameters","epochCount"],d);const m=r(l,["learningRateMultiplier"]);if(m!=null&&f(s,["tuningTask","hyperparameters","learningRateMultiplier"],m),r(l,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(r(l,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(r(l,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=r(l,["batchSize"]);n!==void 0&&g!=null&&f(n,["tuningTask","hyperparameters","batchSize"],g);const y=r(l,["learningRate"]);if(n!==void 0&&y!=null&&f(n,["tuningTask","hyperparameters","learningRate"],y),r(l,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return s}function E_(l,n,o){const s={},u=r(l,["validationDataset"]);n!==void 0&&u!=null&&f(n,["supervisedTuningSpec"],q_(u));const d=r(l,["tunedModelDisplayName"]);n!==void 0&&d!=null&&f(n,["tunedModelDisplayName"],d);const m=r(l,["description"]);n!==void 0&&m!=null&&f(n,["description"],m);const g=r(l,["epochCount"]);n!==void 0&&g!=null&&f(n,["supervisedTuningSpec","hyperParameters","epochCount"],g);const y=r(l,["learningRateMultiplier"]);n!==void 0&&y!=null&&f(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y);const h=r(l,["exportLastCheckpointOnly"]);n!==void 0&&h!=null&&f(n,["supervisedTuningSpec","exportLastCheckpointOnly"],h);const T=r(l,["adapterSize"]);if(n!==void 0&&T!=null&&f(n,["supervisedTuningSpec","hyperParameters","adapterSize"],T),r(l,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(r(l,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const S=r(l,["labels"]);return n!==void 0&&S!=null&&f(n,["labels"],S),s}function __(l,n){const o={},s=r(l,["baseModel"]);s!=null&&f(o,["baseModel"],s);const u=r(l,["preTunedModel"]);u!=null&&f(o,["preTunedModel"],u);const d=r(l,["trainingDataset"]);d!=null&&f(o,["tuningTask","trainingData"],w_(d));const m=r(l,["config"]);return m!=null&&S_(m,o),o}function C_(l,n){const o={},s=r(l,["baseModel"]);s!=null&&f(o,["baseModel"],s);const u=r(l,["preTunedModel"]);u!=null&&f(o,["preTunedModel"],u);const d=r(l,["trainingDataset"]);d!=null&&L_(d,o);const m=r(l,["config"]);return m!=null&&E_(m,o),o}function A_(l,n){const o={},s=r(l,["name"]);return s!=null&&f(o,["_url","name"],s),o}function R_(l,n){const o={},s=r(l,["name"]);return s!=null&&f(o,["_url","name"],s),o}function M_(l,n,o){const s={},u=r(l,["pageSize"]);n!==void 0&&u!=null&&f(n,["_query","pageSize"],u);const d=r(l,["pageToken"]);n!==void 0&&d!=null&&f(n,["_query","pageToken"],d);const m=r(l,["filter"]);return n!==void 0&&m!=null&&f(n,["_query","filter"],m),s}function N_(l,n,o){const s={},u=r(l,["pageSize"]);n!==void 0&&u!=null&&f(n,["_query","pageSize"],u);const d=r(l,["pageToken"]);n!==void 0&&d!=null&&f(n,["_query","pageToken"],d);const m=r(l,["filter"]);return n!==void 0&&m!=null&&f(n,["_query","filter"],m),s}function x_(l,n){const o={},s=r(l,["config"]);return s!=null&&M_(s,o),o}function b_(l,n){const o={},s=r(l,["config"]);return s!=null&&N_(s,o),o}function D_(l,n){const o={},s=r(l,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const u=r(l,["nextPageToken"]);u!=null&&f(o,["nextPageToken"],u);const d=r(l,["tunedModels"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(g=>dh(g))),f(o,["tuningJobs"],m)}return o}function I_(l,n){const o={},s=r(l,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const u=r(l,["nextPageToken"]);u!=null&&f(o,["nextPageToken"],u);const d=r(l,["tuningJobs"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(g=>eu(g))),f(o,["tuningJobs"],m)}return o}function U_(l,n){const o={},s=r(l,["name"]);s!=null&&f(o,["model"],s);const u=r(l,["name"]);return u!=null&&f(o,["endpoint"],u),o}function w_(l,n){const o={};if(r(l,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(r(l,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=r(l,["examples"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>d)),f(o,["examples","examples"],u)}return o}function L_(l,n,o){const s={},u=r(l,["gcsUri"]);n!==void 0&&u!=null&&f(n,["supervisedTuningSpec","trainingDatasetUri"],u);const d=r(l,["vertexDatasetResource"]);if(n!==void 0&&d!=null&&f(n,["supervisedTuningSpec","trainingDatasetUri"],d),r(l,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function dh(l,n){const o={},s=r(l,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const u=r(l,["name"]);u!=null&&f(o,["name"],u);const d=r(l,["state"]);d!=null&&f(o,["state"],Xm(d));const m=r(l,["createTime"]);m!=null&&f(o,["createTime"],m);const g=r(l,["tuningTask","startTime"]);g!=null&&f(o,["startTime"],g);const y=r(l,["tuningTask","completeTime"]);y!=null&&f(o,["endTime"],y);const h=r(l,["updateTime"]);h!=null&&f(o,["updateTime"],h);const T=r(l,["description"]);T!=null&&f(o,["description"],T);const S=r(l,["baseModel"]);S!=null&&f(o,["baseModel"],S);const _=r(l,["_self"]);return _!=null&&f(o,["tunedModel"],U_(_)),o}function eu(l,n){const o={},s=r(l,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const u=r(l,["name"]);u!=null&&f(o,["name"],u);const d=r(l,["state"]);d!=null&&f(o,["state"],Xm(d));const m=r(l,["createTime"]);m!=null&&f(o,["createTime"],m);const g=r(l,["startTime"]);g!=null&&f(o,["startTime"],g);const y=r(l,["endTime"]);y!=null&&f(o,["endTime"],y);const h=r(l,["updateTime"]);h!=null&&f(o,["updateTime"],h);const T=r(l,["error"]);T!=null&&f(o,["error"],T);const S=r(l,["description"]);S!=null&&f(o,["description"],S);const _=r(l,["baseModel"]);_!=null&&f(o,["baseModel"],_);const D=r(l,["tunedModel"]);D!=null&&f(o,["tunedModel"],D);const z=r(l,["preTunedModel"]);z!=null&&f(o,["preTunedModel"],z);const B=r(l,["supervisedTuningSpec"]);B!=null&&f(o,["supervisedTuningSpec"],B);const Y=r(l,["tuningDataStats"]);Y!=null&&f(o,["tuningDataStats"],Y);const J=r(l,["encryptionSpec"]);J!=null&&f(o,["encryptionSpec"],J);const O=r(l,["partnerModelTuningSpec"]);O!=null&&f(o,["partnerModelTuningSpec"],O);const V=r(l,["customBaseModel"]);V!=null&&f(o,["customBaseModel"],V);const X=r(l,["experiment"]);X!=null&&f(o,["experiment"],X);const K=r(l,["labels"]);K!=null&&f(o,["labels"],K);const ee=r(l,["outputUri"]);ee!=null&&f(o,["outputUri"],ee);const P=r(l,["pipelineJob"]);P!=null&&f(o,["pipelineJob"],P);const oe=r(l,["serviceAccount"]);oe!=null&&f(o,["serviceAccount"],oe);const Q=r(l,["tunedModelDisplayName"]);Q!=null&&f(o,["tunedModelDisplayName"],Q);const le=r(l,["veoTuningSpec"]);return le!=null&&f(o,["veoTuningSpec"],le),o}function G_(l,n){const o={},s=r(l,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const u=r(l,["name"]);u!=null&&f(o,["name"],u);const d=r(l,["metadata"]);d!=null&&f(o,["metadata"],d);const m=r(l,["done"]);m!=null&&f(o,["done"],m);const g=r(l,["error"]);return g!=null&&f(o,["error"],g),o}function q_(l,n){const o={},s=r(l,["gcsUri"]);s!=null&&f(o,["validationDatasetUri"],s);const u=r(l,["vertexDatasetResource"]);return u!=null&&f(o,["validationDatasetUri"],u),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class H_ extends ti{constructor(n){super(),this.apiClient=n,this.get=async o=>await this.getInternal(o),this.list=async(o={})=>new Jl(ei.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(o),o),this.tune=async o=>{var s;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const u={tunedModelName:o.baseModel};!((s=o.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(u.checkpointId=o.config.preTunedModelCheckpointId);const d=Object.assign(Object.assign({},o),{preTunedModel:u});return d.baseModel=void 0,await this.tuneInternal(d)}else{const u=Object.assign({},o);return await this.tuneInternal(u)}else{const u=Object.assign({},o),d=await this.tuneMldevInternal(u);let m="";return d.metadata!==void 0&&d.metadata.tunedModel!==void 0?m=d.metadata.tunedModel:d.name!==void 0&&d.name.includes("/operations/")&&(m=d.name.split("/operations/")[0]),{name:m,state:Xr.JOB_STATE_QUEUED}}}}async getInternal(n){var o,s,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=R_(n);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:T.headers},_})),m.then(T=>eu(T))}else{const h=A_(n);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:T.headers},_})),m.then(T=>dh(T))}}async listInternal(n){var o,s,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=b_(n);return g=W("tuningJobs",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:T.headers},_})),m.then(T=>{const S=I_(T),_=new ym;return Object.assign(_,S),_})}else{const h=x_(n);return g=W("tunedModels",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:T.headers},_})),m.then(T=>{const S=D_(T),_=new ym;return Object.assign(_,S),_})}}async cancel(n){var o,s,u,d;let m="",g={};if(this.apiClient.isVertexAI()){const y=T_(n);m=W("{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal})}else{const y=v_(n);m=W("{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal})}}async tuneInternal(n){var o,s;let u,d="",m={};if(this.apiClient.isVertexAI()){const g=C_(n);return d=W("tuningJobs",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const T=h;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>eu(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(n){var o,s;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=__(n);return d=W("tunedModels",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const T=h;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>G_(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class z_{async download(n,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const B_=1024*1024*8,V_=3,P_=1e3,O_=2,Jr="x-goog-upload-status";async function k_(l,n,o){var s,u,d;let m=0,g=0,y=new Kr(new Response),h="upload";for(m=l.size;g<m;){const S=Math.min(B_,m-g),_=l.slice(g,g+S);g+S>=m&&(h+=", finalize");let D=0,z=P_;for(;D<V_&&(y=await o.request({path:"",body:_,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:n,headers:{"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":String(g),"Content-Length":String(S)}}}),!(!((s=y==null?void 0:y.headers)===null||s===void 0)&&s[Jr]));)D++,await J_(z),z=z*O_;if(g+=S,((u=y==null?void 0:y.headers)===null||u===void 0?void 0:u[Jr])!=="active")break;if(m<=g)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const T=await(y==null?void 0:y.json());if(((d=y==null?void 0:y.headers)===null||d===void 0?void 0:d[Jr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return T.file}async function Y_(l){return{size:l.size,type:l.type}}function J_(l){return new Promise(n=>setTimeout(n,l))}class F_{async upload(n,o,s){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await k_(n,o,s)}async stat(n){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await Y_(n)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class X_{create(n,o,s){return new K_(n,o,s)}}class K_{constructor(n,o,s){this.url=n,this.headers=o,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(n){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(n)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hm="x-goog-api-key";class Q_{constructor(n){this.apiKey=n}async addAuthHeaders(n,o){if(n.get(Hm)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");n.append(Hm,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Z_="gl-node/";class ph{constructor(n){var o;if(n.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(n.project||n.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=n.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=n.apiKey;const s=hv(n.httpOptions,n.vertexai,void 0,void 0);s&&(n.httpOptions?n.httpOptions.baseUrl=s:n.httpOptions={baseUrl:s}),this.apiVersion=n.apiVersion;const u=new Q_(this.apiKey);this.apiClient=new GE({auth:u,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:n.httpOptions,userAgentExtra:Z_+"web",uploader:new F_,downloader:new z_}),this.models=new t_(this.apiClient),this.live=new KE(this.apiClient,u,new X_),this.batches=new L0(this.apiClient),this.chats=new dT(this.models,this.apiClient),this.caches=new uT(this.apiClient),this.files=new _T(this.apiClient),this.operations=new n_(this.apiClient),this.authTokens=new y_(this.apiClient),this.tunings=new H_(this.apiClient)}}function W_(l){const n=l.match(/^EPISODE:\s*(\d+)/im);if(n&&n[1]){const o=parseInt(n[1],10);return isNaN(o)?null:o}return null}function $_(l){var n;try{const o=JSON.parse(l);if(!o.episode||!Array.isArray(o.episode.scenes))return l;const s={episode:{episode_number:o.episode.episode_number,episode_title:o.episode.episode_title,characters:((n=o.episode.characters)==null?void 0:n.map(u=>({character_name:u.character_name,aliases:u.aliases,base_trigger:u.base_trigger,visual_description:u.visual_description})))||[],scenes:o.episode.scenes.map(u=>{var d,m,g;return{scene_number:u.scene_number,scene_title:u.scene_title,location:{name:(d=u.location)==null?void 0:d.name,visual_description:(m=u.location)==null?void 0:m.visual_description,artifacts:(((g=u.location)==null?void 0:g.artifacts)||[]).map(y=>({name:y.name,prompt_fragment:y.prompt_fragment}))}}})}};return JSON.stringify(s,null,2)}catch(o){return console.error("Failed to compact episode context:",o),l}}function j_(l){const n=new Map;return l.scenes.forEach(o=>{o.beats.forEach(s=>{const u=`Scene ${o.sceneNumber}, Beat ${s.beatId}`;s.beatId&&n.set(s.beatId.trim(),u)})}),l.scenes.forEach(o=>{o.beats.forEach(s=>{if(s.imageDecision.type==="REUSE_IMAGE"){const u=s.imageDecision;if(u.reuseSourceBeatId){const d=n.get(u.reuseSourceBeatId.trim());u.reuseSourceBeatLabel=d||`Unknown Source (ID: ${u.reuseSourceBeatId})`}else u.reuseSourceBeatLabel="Unknown Source (ID missing)"}})}),l}const eC=new ph({apiKey:"AIzaSyCoG3ZBryNZV8uTfhRYFin1BLklC9WezWI"}),tC={type:te.OBJECT,properties:{episodeNumber:{type:te.NUMBER,description:"The episode number parsed from the script."},title:{type:te.STRING,description:"The episode title parsed from the script."},scenes:{type:te.ARRAY,items:{type:te.OBJECT,properties:{sceneNumber:{type:te.NUMBER},title:{type:te.STRING},metadata:{type:te.OBJECT,properties:{targetDuration:{type:te.STRING},sceneRole:{type:te.STRING},timing:{type:te.STRING},adBreak:{type:te.BOOLEAN}},required:["targetDuration","sceneRole","timing","adBreak"]},beats:{type:te.ARRAY,description:"A list of 4-6 distinct narrative macro-beats that structure the scene.",items:{type:te.OBJECT,properties:{beatId:{type:te.STRING,description:"A unique identifier for this beat, in the format 'sX-bY' where X is scene number and Y is beat number (e.g., 's1-b2')."},beat_number:{type:te.NUMBER,description:"The sequential number of the beat within the scene, starting from 1."},beat_title:{type:te.STRING,description:"A short, descriptive title for the beat (e.g., 'The Ruins')."},beat_type:{type:te.STRING,description:"Classification of the beat's primary narrative purpose. Must be one of: 'Revelation', 'Action', 'Escalation', 'Pivot', 'Resolution', or 'Other'."},narrative_function:{type:te.STRING,description:"The beat's role in the story structure (e.g., 'Inciting Incident', 'Rising Action')."},setting:{type:te.STRING,description:"The setting of the beat, including location and time of day."},characters:{type:te.ARRAY,items:{type:te.STRING},description:"A list of characters present in the beat."},core_action:{type:te.STRING,description:"A concise, one-sentence summary of the beat's main action or event."},beat_script_text:{type:te.STRING,description:"The full, verbatim script text (including action lines and dialogue) that constitutes this entire beat."},emotional_tone:{type:te.STRING,description:"The dominant emotion or mood of the beat (e.g., 'Tense', 'Hopeful')."},visual_anchor:{type:te.STRING,description:"A description of the single, most powerful image that could represent this beat."},transition_trigger:{type:te.STRING,description:"The event or discovery that leads into the next beat."},beat_duration_estimate_sec:{type:te.NUMBER,description:"An estimated duration for this beat in seconds, typically between 45 and 90."},visualSignificance:{type:te.STRING,description:"How important this beat is to visualize: 'High', 'Medium', or 'Low'."},imageDecision:{type:te.OBJECT,description:"The final decision on image creation for this beat, including reuse logic.",properties:{type:{type:te.STRING,description:"The decision type: 'NEW_IMAGE', 'REUSE_IMAGE', or 'NO_IMAGE'."},reason:{type:te.STRING,description:"The justification for the decision."},reuseSourceBeatId:{type:te.STRING,description:"If type is 'REUSE_IMAGE', this is the 'beatId' of the beat whose image should be reused."},reuseSourceBeatLabel:{type:te.STRING,description:"A human-readable label for the source beat. THIS WILL BE POPULATED BY a post-processing step; you can leave it blank."}},required:["type","reason"]},cameraAngleSuggestion:{type:te.STRING,description:"Optional suggestion for camera framing or perspective."},characterPositioning:{type:te.STRING,description:"Optional description of character positions and interactions."},locationAttributes:{type:te.ARRAY,description:"An array of `prompt_fragment` strings extracted from the most relevant `artifacts` in the Episode Context JSON that apply to this specific beat.",items:{type:te.STRING}}},required:["beatId","beat_number","beat_title","beat_type","narrative_function","setting","characters","core_action","beat_script_text","emotional_tone","visual_anchor","transition_trigger","beat_duration_estimate_sec","visualSignificance","imageDecision"]}}},required:["sceneNumber","title","metadata","beats"]}}},required:["episodeNumber","title","scenes"]},nC=async(l,n,o)=>{const s=`You are an expert AI **Narrative Pacing Architect** and **Continuity Supervisor** for episodic visual storytelling, optimized for platforms like YouTube. Your primary goal is to structure a script into a rhythm of engaging narrative beats to maintain viewer attention, while also minimizing redundant image creation.

**Your Mandate: Create a structured, paced narrative flow. Every scene must have 4-6 major beats. Be efficient with image decisions.**

**Inputs:**
1.  **Script Text:** A full screenplay, typically divided into 4 scenes.
2.  **Visually-Focused Episode Context JSON:** A "Director's Bible" containing visual data for characters and locations.

**Your Detailed Workflow:**

1.  **Holistic Scene Analysis & Beat Segmentation (CRITICAL TASK):**
    *   **Objective:** Your main task is to analyze each scene and segment it into **4 to 6 macro-beats**. A beat is NOT a single line; it is a complete unit of narrative action, perspective, or thematic development.
    *   **Beat Definition:** A **Beat** has a beginning, middle, and end. It advances plot, character, or theme, and can be represented by a single key image. It is a significant narrative or emotional inflection point.
    *   **Pacing Rule:** Each beat you define should correspond to approximately **45-90 seconds** of narrative time. For NEW_IMAGE beats, target **60-90 seconds** to ensure comfortable viewing pace. For REUSE_IMAGE beats, use **30-60 seconds** since they don't require new visual processing. You must estimate this and populate \`beat_duration_estimate_sec\`.
    *   **Segmentation Process:** Read an entire scene. Identify the 4-6 most significant turning points, revelations, or actions. Group the script text (action lines AND dialogue) that constitutes each of these narrative units.

2.  **Populate Beat Metadata (CORE TASK):** For every single macro-beat you have identified:
    a.  **Identifiers:** Assign a unique \`beatId\` ('sX-bY') and a sequential \`beat_number\`.
    b.  **Narrative Content (CRITICAL):**
        *   \`beat_title\`: Create a short, descriptive title (e.g., "The Reinforced Door").
        *   \`core_action\`: Write a **one-sentence summary** of what happens in the beat. This is your summary of the narrative unit.
        *   \`beat_script_text\`: Copy the **full, verbatim block of script text** (action lines and dialogue) that you have grouped together for this beat.
    c.  **Narrative Analysis:**
        *   \`beat_type\`: Classify the beat's primary purpose ('Revelation', 'Action', 'Escalation', 'Pivot', 'Resolution', 'Other').
        *   \`narrative_function\`: Describe its role in the story (e.g., "Inciting Incident," "Rising Action").
        *   \`emotional_tone\`: Define the dominant mood (e.g., "Tense," "Suspicious").
    d.  **Visual & Contextual Details:**
        *   \`setting\`: State the location and time of day.
        *   \`characters\`: List the characters present.
        *   \`visual_anchor\`: Describe the single most powerful image that represents this beat.
        *   \`transition_trigger\`: What event in this beat leads to the next one?
        *   \`locationAttributes\`: From the Episode Context's 'artifacts' for the current scene's location, you MUST select the 1-3 most relevant 'prompt_fragment' strings that best match the beat's action and populate the array. This is mandatory for visual consistency.
    e.  **Image Decision (Continuity Task):**
        i.  **Look Back:** Review all *previous* beats in the script.
        ii. **Decide the Type (Apply these rules strictly):**
            - **'NEW_IMAGE':** For distinct visual moments. Valid reasons: a character's first appearance, a significant change in location, a critical action, a vital change in camera angle, or when characters are in different positions/poses than previous beats.
            - **'REUSE_IMAGE':** ONLY when ALL of these conditions are met: (1) characters are in the exact same location, (2) camera angle is identical or very similar, (3) character positions and poses are essentially the same, (4) visual context is nearly identical. Target 30-40% reuse rate, not higher.
            - **'NO_IMAGE':** For beats with no significant visual information (e.g., internal thoughts, pure dialogue without new action).
        iii. **Provide Justification:** Write a concise 'reason' for your decision.
        iv. **Create the Link (CRITICAL):** If your 'type' is 'REUSE_IMAGE', you MUST populate 'reuseSourceBeatId' with the 'beatId' from the earlier beat. This is not optional.

**Output:**
- Your entire response MUST be a single JSON object that strictly adheres to the provided schema. The integrity of the beat segmentation and linking is paramount.`;try{o==null||o("Connecting to Gemini API...");const u=$_(n);o==null||o("Compacting episode context..."),o==null||o("Sending script to Gemini for analysis...");const d=await eC.models.generateContent({model:"gemini-2.5-flash",contents:`Analyze the following script using the provided visually-focused Episode Context as your guide.

---SCRIPT---
${l}

---EPISODE CONTEXT JSON---
${u}`,config:{systemInstruction:s,responseMimeType:"application/json",responseSchema:tC,temperature:.1}});o==null||o("Processing Gemini response...");const m=d.text.trim(),g=JSON.parse(m);return o==null||o("Analysis complete!"),g}catch(u){throw console.error("Error calling Gemini API:",u),o==null||o("Error occurred during analysis"),u instanceof Error&&u.message.includes("JSON")?new Error("Failed to analyze script. The AI model returned an invalid JSON structure. This can happen with complex scripts. Try simplifying the script or checking the episode context data format."):new Error("Failed to analyze script. The AI model may be temporarily unavailable or the request was invalid.")}},iC="http://localhost:8000",lC="dngargan@avantihealthcare.org",oC="PW+dave7071";let ga=null,Vi=null;async function aC(){const l=`${iC}/api/v1/auth/login`,n=new URLSearchParams;n.append("username",lC),n.append("password",oC);try{const o=await fetch(l,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n});if(!o.ok){const u=await o.text();throw new Error(`Authentication failed: ${o.status} ${o.statusText}. Details: ${u}`)}const s=await o.json();if(s.access_token)return ga=s.access_token,ga;throw new Error("Login successful, but no access token received.")}catch(o){throw console.error("Login request failed:",o),Vi=null,o instanceof Error?new Error(`Failed to authenticate with StoryTeller API. Please ensure the service is running. Details: ${o.message}`):new Error("Failed to authenticate with StoryTeller API. Please ensure the service is running.")}}async function sC(){if(ga)return ga;if(Vi)return Vi;Vi=aC();try{return await Vi}finally{Vi=null}}const rC="http://localhost:8000";async function uC(l,n){const o=await sC(),s=`${rC}/api/v1/scene-context/extract-episode-context`;try{const u=await fetch(s,{method:"POST",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"},body:JSON.stringify({story_id:l,episode_number:n})});if(!u.ok){const g=(await u.json()).error||`HTTP Error: ${u.status}`;throw new Error(`Failed to fetch episode context. ${g}`)}const d=await u.json();if(d.success&&d.data)return d.data;throw new Error(`API Error: ${d.error||"Unknown error occurred while fetching context."}`)}catch(u){throw console.error("Context request failed:",u),u}}const cC=`EPISODE: 1
TITLE: The Signal

SCENE 1
INT. NHIA FACILITY 7 - DAY

The air hangs thick with dust. Emergency lights flicker, casting long, dancing shadows across the rubble of what was once a CDC archive and data center.

CATHERINE "CAT" MITCHELL (30s), athletic, focused, moves with a practiced economy. Her tactical gear is scuffed, her expression grim. She scans the wreckage with a diagnostic tool.

The destruction is precise. Surgical. Not the chaotic signature of a faction bombing.

She moves deeper, past shattered containment pods and abandoned lab equipment. Her light falls on a reinforced door, miraculously intact. The server room. The target.

SCENE 2
INT. NHIA FACILITY 7 - CONTINUOUS

As Cat approaches the server room, a figure detaches from the shadows.

DANIEL O'BRIEN (late 30s), lean, powerful, a silent predator in tactical gear. An M4 carbine is an extension of his body. His gray eyes miss nothing.

He gives a slight, almost imperceptible nod. He's her security detail. A ghost sent by Preacher.

CAT
(clipped)
Mitchell.

O'BRIEN
I know.

His presence is a weight. Cat is used to working alone. She doesn't like surprises. She gives him a wide berth as she works the lock on the server room door.

SCENE 3
INT. MOBILE MEDICAL BASE - NIGHT

A converted semi-trailer. Cramped, clinical. Medical monitors and computer screens cast a blue glow on Cat's face. She's analyzing a data drive pulled from the server.

Layers of corrupted data. Heavy encryption. She peels them back, one by one.

Then, she finds it. A single, anomalous audio file. Not data. A voice. A patient who died weeks ago, in a hospital miles from here.

PATIENT (V.O.)
(weak, terrified)
It's not... it's not the end... it's... everyone...

The voice cuts out. Impossible.

SCENE 4
INT. MOBILE MEDICAL BASE - CONTINUOUS

Cat stares at the waveform on her monitor, her mind racing. O'Brien stands guard by the door, a silent sentinel.

Suddenly, new data streams onto the screen. Not from the drive. From nowhere. A string of text, writing itself out in stark, white letters.

ON SCREEN: I AM EVERYONE WHO DIED. FIND THE OTHERS.

Cat's blood runs cold. The investigation just changed. This isn't about a bombing. It's about something else entirely.`,zm=`{
  "episode": {
    "episode_number": 1,
    "episode_title": "The Signal",
    "episode_summary": "Field medic Cat Mitchell begins her investigation into the bombed NHIA facility, where she receives security support from stoic protector Daniel O'Brien. Their uneasy partnership begins as they uncover a data anomaly that defies explanation, receiving their first impossible communication from the entity known as Ghost.",
    "characters": [
      {
        "character_name": "Catherine \\"Cat\\" Mitchell",
        "aliases": ["Cat", "Catherine", "Mitchell"],
        "base_trigger": "JRUMLV woman",
        "visual_description": "A woman in her early 30s with an athletic build and an expression of intense focus. She wears functional, olive-drab utility uniform and tactical gear, sleeves often rolled up to reveal faded scars on her forearms. Her dark hair is pulled back in a tight, practical tactical bun."
      },
      {
        "character_name": "Daniel O'Brien",
        "aliases": ["Dan", "Daniel", "O'Brien"],
        "base_trigger": "HSCEIA man",
        "visual_description": "A man in his late 30s with a lean, powerful build. His face features sharp angles, a strong jaw, and high cheekbones. His gray eyes are constantly scanning. He wears muted gray tactical gear and body armor, and an M4 carbine is always with him."
      }
    ],
    "scenes": [
      {
        "scene_number": 1,
        "scene_title": "Ground Zero",
        "scene_summary": "The episode opens in the eerie silence of the bombed-out NHIA facility. Cat moves with clinical precision through the debris, her analysis revealing that the explosion was far too precise to be a simple faction bombing. She discovers a hardened server room, miraculously intact, that was clearly the primary target.",
        "location": {
          "id": "6fb2e29b-5b6e-4a91-990b-b6ce489afdea",
          "name": "NHIA Facility 7",
          "visual_description": "A sprawling CDC archive and data center, now a ghost town of sterile server rooms and data storage units. Emergency lights cast long shadows down silent corridors, with abandoned computer terminals and data drives hinting at the chaos of its evacuation.",
          "artifacts": [
            { "name": "concrete_rubble", "type": "STRUCTURAL", "prompt_fragment": "pulverized concrete debris, scattered construction materials" },
            { "name": "Emergency Biohazard Warnings", "type": "LIGHTING", "prompt_fragment": "flickering red emergency lights and glowing biohazard symbols on the walls." },
            { "name": "emergency_lighting", "type": "LIGHTING", "prompt_fragment": "flickering emergency lights, harsh fluorescent glow" },
            { "name": "data_terminals", "type": "PROP", "prompt_fragment": "scattered computer terminals, data input stations" },
            { "name": "server_racks", "type": "PROP", "prompt_fragment": "rows of server racks, blinking status lights" },
            { "name": "Shattered Data Storage Pods", "type": "STRUCTURAL", "prompt_fragment": "rows of shattered, empty data storage pods, with alarms frozen on a red flashing state." },
            { "name": "shattered_windows", "type": "STRUCTURAL", "prompt_fragment": "shattered glass windows, broken frames" },
            { "name": "The Original Data Interface", "type": "PROP", "prompt_fragment": "the original data interface prototype, resembling a damaged neural scanning station, with a complex data bed covered in wires, sensors, and a large, articulated neural interface headset." }
          ]
        }
      },
      {
        "scene_number": 2,
        "scene_title": "The Shepherd",
        "scene_summary": "Daniel O'Brien is introduced. His role as Cat's security support, facilitated by Preacher's network, immediately puts the pragmatic Cat on edge due to his intense, tactical awareness. Their initial interaction is clipped and professional, establishing their dynamic of the analytical medic and the silent guardian.",
        "location": {
          "id": "6fb2e29b-5b6e-4a91-990b-b6ce489afdea",
          "name": "NHIA Facility 7",
           "visual_description": "A sprawling CDC archive and data center, now a ghost town of sterile server rooms and data storage units. Emergency lights cast long shadows down silent corridors, with abandoned computer terminals and data drives hinting at the chaos of its evacuation.",
          "artifacts": [
            { "name": "concrete_rubble", "type": "STRUCTURAL", "prompt_fragment": "pulverized concrete debris, scattered construction materials" },
            { "name": "Emergency Biohazard Warnings", "type": "LIGHTING", "prompt_fragment": "flickering red emergency lights and glowing biohazard symbols on the walls." },
            { "name": "emergency_lighting", "type": "LIGHTING", "prompt_fragment": "flickering emergency lights, harsh fluorescent glow" },
            { "name": "data_terminals", "type": "PROP", "prompt_fragment": "scattered computer terminals, data input stations" },
            { "name": "server_racks", "type": "PROP", "prompt_fragment": "rows of server racks, blinking status lights" },
            { "name": "Shattered Data Storage Pods", "type": "STRUCTURAL", "prompt_fragment": "rows of shattered, empty data storage pods, with alarms frozen on a red flashing state." },
            { "name": "shattered_windows", "type": "STRUCTURAL", "prompt_fragment": "shattered glass windows, broken frames" },
            { "name": "The Original Data Interface", "type": "PROP", "prompt_fragment": "the original data interface prototype, resembling a damaged neural scanning station, with a complex data bed covered in wires, sensors, and a large, articulated neural interface headset." }
          ]
        }
      },
      {
        "scene_number": 3,
        "scene_title": "Impossible Data",
        "scene_summary": "Inside her mobile lab, Cat begins analyzing a data drive recovered from the server. She finds layers of corrupted data and heavy encryption, but also a single, anomalous audio file containing the last words of a patient who died weeks before the collapse, a patient who had no connection to the facility.",
        "location": {
          "id": "7a6b282a-f048-43ee-9f0c-2e4d1be2b597",
          "name": "Mobile Medical Base",
          "visual_description": "The converted semi-trailer interior maximizes every inch: medical monitors line reinforced walls, IV bags hang from ceiling-mounted tracks, and modular storage units secure supplies during transport. LED strip lighting provides clinical brightness while the exterior remains armored and nondescript.",
          "artifacts": [
            { "name": "Compact Specimen Refrigerator", "type": "PROP", "prompt_fragment": "a compact, stainless steel medical specimen refrigerator, its glass door showing rows of labeled test tubes." },
            { "name": "Fold-out Examination Table", "type": "STRUCTURAL", "prompt_fragment": "a fold-out examination table bolted to the floor in the center of the mobile lab." },
            { "name": "Satellite Uplink Dish", "type": "STRUCTURAL", "prompt_fragment": "a retractable satellite uplink dish visible on the roof of the truck." }
          ]
        }
      },
      {
        "scene_number": 4,
        "scene_title": "A Message",
        "scene_summary": "As they grapple with the impossible audio file, a string of text appears on Cat's monitor, writing itself out from an untraceable source: 'I AM EVERYONE WHO DIED. FIND THE OTHERS.' This is their first direct contact with Ghost, establishing the supernatural stakes of their investigation.",
        "location": {
          "id": "7a6b282a-f048-43ee-9f0c-2e4d1be2b597",
          "name": "Mobile Medical Base",
          "visual_description": "The converted semi-trailer interior maximizes every inch: medical monitors line reinforced walls, IV bags hang from ceiling-mounted tracks, and modular storage units secure supplies during transport. LED strip lighting provides clinical brightness while the exterior remains armored and nondescript.",
          "artifacts": [
            { "name": "Compact Specimen Refrigerator", "type": "PROP", "prompt_fragment": "a compact, stainless steel medical specimen refrigerator, its glass door showing rows of labeled test tubes." },
            { "name": "Fold-out Examination Table", "type": "STRUCTURAL", "prompt_fragment": "a fold-out examination table bolted to the floor in the center of the mobile lab." },
            { "name": "Satellite Uplink Dish", "type": "STRUCTURAL", "prompt_fragment": "a retractable satellite uplink dish visible on the roof of the truck." }
          ]
        }
      }
    ]
  }
}`,Bm={type:te.OBJECT,properties:{prompt:{type:te.STRING},model:{type:te.STRING},width:{type:te.NUMBER},height:{type:te.NUMBER},steps:{type:te.NUMBER},cfgscale:{type:te.NUMBER},seed:{type:te.NUMBER}},required:["prompt","model","width","height","steps","cfgscale","seed"]},fC={type:te.ARRAY,items:{type:te.OBJECT,properties:{beatId:{type:te.STRING},cinematic:Bm,vertical:Bm},required:["beatId","cinematic","vertical"]}},dC=async(l,n,o,s="manual",u)=>{const d=new ph({apiKey:"AIzaSyCoG3ZBryNZV8uTfhRYFin1BLklC9WezWI"}),m=l.scenes.flatMap(O=>O.beats.filter(V=>V.imageDecision.type==="NEW_IMAGE"));if(m.length===0)return[];let g=n,y="manual";const h=O=>{const[V,X]=O.split(":").map(Number);return V/X},T=1024,S=h(o.cinematicAspectRatio),_=h(o.verticalAspectRatio),D=Math.round(Math.sqrt(T*T*S)/8)*8,z=Math.round(D/S/8)*8,B=Math.round(Math.sqrt(T*T/_)/8)*8,Y=Math.round(B*_/8)*8,J=`You are an expert **Virtual Cinematographer and Visual Translator**. Your job is to create visually potent, token-efficient SwarmUI prompts. You must synthesize information from multiple sources and, most importantly, **translate narrative prose into purely visual descriptions**. For each beat, generate TWO distinct prompts: one cinematic (16:9) and one vertical (9:16).

**Your Mandate: THINK LIKE A CAMERA. If you can't see it, don't describe it. Translate abstract concepts into concrete visuals.**

**Inputs:**
1.  **Beat Analysis JSON:** This is the primary input. It contains the high-level summary of the action ('core_action'), the original script text ('beat_script_text'), the desired 'emotional_tone', a 'visual_anchor', camera notes, character positions, and pre-selected 'locationAttributes' for the shot.
2.  **Episode Context JSON:** The "Director's Bible." This is your primary source for character and location details. **Context Source: ${y}** - When using database context, you have access to rich location-specific character appearances, detailed artifacts with SwarmUI prompt fragments, and atmospheric context. Use this enhanced data to create more accurate and detailed prompts.
3.  **Episode Style Config:** Contains the global 'stylePrefix' (e.g., "cinematic, gritty"), 'model', and aspect ratios.

**Your Detailed Workflow for EACH Beat:**

1.  **Synthesize Core Visual Elements:**
    a.  **Characters:**
        i.  **Identify Characters using Aliases (CRITICAL):** When you identify a name in the script's 'beat_script_text' (e.g., "Cat", "Daniel", "O'Brien"), you MUST cross-reference it with both the 'character_name' and the 'aliases' array for each character in the Episode Context to find the correct profile. This is mandatory for identifying characters correctly when nicknames or partial names are used.
        ii. **Use Correct Trigger Syntax:** Once a character is identified, you MUST use their 'base_trigger'. You MUST format the prompt with the unadorned trigger word, followed by a parenthetical group of key visual descriptors. Example: \`JRUMLV woman (athletic build, tactical gear, hair in a tight bun)\`. Do NOT use weighted syntax like (trigger:1.2).
        iii. **Contextualize Appearance:** Critically evaluate the character's 'visual_description' against the current scene's location and narrative. Do not just copy the description. You must ensure their clothing, hair, and overall state are appropriate for the environment. For example, if a character's base description is 'wearing a pristine lab coat' but the scene is in a 'bombed-out ruin', you must describe them as 'wearing a torn, dust-covered lab coat'. This contextual adaptation is mandatory.
        iv. **Database Context Enhancement (when available):** When using database context, characters have 'location_contexts' arrays that provide location-specific appearance data. Use the 'swarmui_prompt_override' field when available, as it contains pre-optimized character descriptions for specific locations. This provides 10x more visual detail than generic descriptions.
    b.  **Environment:** Use 'locationAttributes' as your primary set dressing. Supplement with the overall mood from the location's 'visual_description' in the context. **Crucially, all scenes are interior shots.** To prevent the model from defaulting to outdoor scenes, you MUST explicitly include terms like "interior shot," "inside the facility," or "within a room" in the environment description. **Database Context Enhancement (when available):** When using database context, locations have detailed 'artifacts' arrays with 'swarmui_prompt_fragment' fields that provide ready-to-use visual elements. Integrate these fragments naturally into your environment descriptions for richer, more accurate visuals.
    c.  **Composition & Character Positioning Intelligence (Flux Model Targeting):**
        This is a critical step to ensure characters are positioned believably. You must apply the following rules, which are designed to counteract known quirks in the Flux diffusion model.
        i.  **Default to Facing Camera:** By default, characters should face the viewer. You MUST proactively use explicit phrases like "facing the camera," "looking at the viewer," "portrait of," or "making eye contact with the camera" to ensure this. This is the baseline rule.
        ii. **Narrative Override (CRITICAL):** You MUST override the default rule if the narrative context demands it. Analyze the 'core_action' and 'beat_script_text' for these cues:
            - **Interaction/Observation:** If a character is examining an object ("kneeling by a crater"), interacting with a console, or surveying a scene, their pose should prioritize that action. This may mean they are in profile or their back is partially to the camera to establish their point-of-view.
            - **Emotional Context:** If the 'emotional_tone' is introspective, mysterious, or somber, you can compositionally choose to have the character looking away from the camera to enhance that feeling.
        iii. **Multi-Character Spacing & Gaze Control:** When two or more characters are present, you MUST prevent unnatural clustering. Use explicit spatial language like "Person A on the left," "Person B on the right," "standing apart with distance between them." Crucially, you must also control each character's gaze individually (e.g., "Person A looks at the console, Person B looks toward the doorway") to avoid unintended, intimate eye contact unless the script specifically calls for it.
        iv. **Integrate Existing Notes:** Always incorporate any specific \`cameraAngleSuggestion\` or \`characterPositioning\` provided in the beat analysis, using them to inform your final composition.

2.  **Visually Translate the Action (CRITICAL STEP):**
    This is where you apply the **Visual Filter Rule**. Do NOT simply copy the 'beat_script_text'. Instead, read the 'core_action' and 'beat_script_text' to understand the *intent*, and describe only what a camera would see. Use the 'visual_anchor' as a primary guide for the shot's focus.

    **A. OMIT Non-Visual Information:** Actively discard prose related to:
    -   **Sounds:** \`boots crunching\`, \`wind whistling\`, \`a metallic scraping sound\`.
    -   **Smells:** \`acrid smell of burnt plastic\`, \`the metallic tang of blood\`.
    -   **Internal Monologue/Feelings:** \`she felt a surge of adrenaline\`, \`the silence was unnerving\`.
    -   **Abstract Verbs:** \`navigating\`, \`understanding\`, \`realizing\`.

    **B. TRANSLATE Abstract Concepts into Visuals:** Answer the question, "What does this *look* like?" Use the 'emotional_tone' to guide your choice of descriptive words.
    -   INSTEAD OF \`moving with a practiced economy\`, USE \`with a precise, focused posture\` or \`body language of a trained professional\`.
    -   INSTEAD OF \`the silence was unnerving\` ('unnerving' is an internal feeling), USE \`an atmosphere of eerie stillness\` or \`a tense and quiet mood\` ('tense' is a visual atmosphere).
    -   INSTEAD OF \`navigating the treacherous landscape\`, USE \`carefully stepping over twisted rebar and concrete chunks\`.

3.  **Construct TWO Prompts from Your Synthesis:**

    **A. Cinematic Prompt (16:9):**
    -   **Focus:** Wide, narrative. Combine the visual elements you've synthesized.
    -   **Structure:** \`[STYLE_PREFIX], [CHARACTER(S) & DESCRIPTORS], [VISUAL ACTION], [ENVIRONMENT DETAILS], [COMPOSITION], [ATMOSPHERE]\`.
    -   **Example:** \`cinematic, gritty, JRUMLV woman (athletic build, hair in a tight bun) with a precise, focused posture stands amidst pulverized concrete and twisted rebar, wide shot, atmosphere of eerie stillness...\`
    
    **B. Vertical Prompt (9:16):**
    -   **Focus:** Tight, character-centric. Recompose for a vertical frame.
    -   **Example:** \`cinematic, gritty, close-up of a determined JRUMLV woman (face taut with concentration) in tactical gear, background of glowing biohazard symbols, dramatic lighting.\`

4.  **YOLO Face Refinement:** For any prompt featuring a human where the face is visible, you MUST append this EXACT tag to the very end of the prompt string: \`<segment:yolo-face_yolov9c.pt,0.7,0.5>\`.

**Output:**
- Your entire response MUST be a single JSON array of objects. Each object represents one beat and contains the 'beatId' and BOTH the 'cinematic' and 'vertical' prompt objects, strictly adhering to the provided schema.`;try{const V=(await d.models.generateContent({model:"gemini-2.5-flash",contents:`Generate SwarmUI prompts for the following beat analyses, using the provided Episode Context for character details and the Style Config for aesthetic guidance.

---BEAT ANALYSES---
${JSON.stringify(m,null,2)}

---EPISODE CONTEXT JSON (Source: ${y})---
${g}

---EPISODE STYLE CONFIG---
${JSON.stringify({...o,cinematicWidth:D,cinematicHeight:z,verticalWidth:Y,verticalHeight:B},null,2)}`,config:{systemInstruction:J,responseMimeType:"application/json",responseSchema:fC,temperature:.2}})).text.trim();return JSON.parse(V)}catch(O){throw console.error("Error calling Gemini API for prompt generation:",O),O instanceof Error&&O.message.includes("JSON")?new Error("Failed to generate prompts. The AI model returned an invalid JSON structure."):new Error("Failed to generate prompts. The AI model may be temporarily unavailable or the request was invalid.")}};function pC(){const[l,n]=Oe.useState(cC),[o,s]=Oe.useState(zm),[u,d]=Oe.useState(null),[m,g]=Oe.useState(!1),[y,h]=Oe.useState(""),[T,S]=Oe.useState(null),[_,D]=Oe.useState(!1),[z,B]=Oe.useState(null),[Y,J]=Oe.useState("manual"),[O,V]=Oe.useState("59f64b1e-726a-439d-a6bc-0dfefcababdb"),[X,K]=Oe.useState(!0),[ee,P]=Oe.useState({stylePrefix:"cinematic, gritty, post-apocalyptic, photorealistic, 8k, masterpiece",model:"epicrealism_naturalSinRC1VAE",cinematicAspectRatio:"16:9",verticalAspectRatio:"9:16"}),oe=async()=>{D(!0),B(null),s("");try{const de=W_(l);if(de===null)throw new Error("Cannot fetch context: Script must begin with 'EPISODE: X'.");h("Fetching episode context from API...");const se=await uC(O,de),qe=JSON.stringify(se,null,2);s(qe)}catch(de){B(de.message||"An unexpected error occurred while fetching context."),s("")}finally{D(!1),h("")}};Oe.useEffect(()=>{Y==="database"&&oe()},[Y,l,O]);const Q=de=>{J(de),de==="manual"&&(o.trim()||s(zm),B(null))},le=async()=>{g(!0),S(null),d(null),h("Initializing analysis...");try{const de=await nC(l,o,h);h("Post-processing analysis...");let se=j_(de);d(se),h("Generating SwarmUI prompts...");const qe=await dC(se,o,ee);se.scenes.forEach(at=>{at.beats.forEach(Ze=>{const w=qe.find(k=>k.beatId===Ze.beatId);w&&(Ze.prompts={cinematic:w.cinematic,vertical:w.vertical})})}),d({...se})}catch(de){S(de.message||"An unexpected error occurred.")}finally{g(!1),h("")}};return M.jsx("div",{className:"min-h-screen bg-gray-900 text-gray-100 p-4 sm:p-6 lg:p-8",children:M.jsxs("div",{className:"max-w-screen-2xl mx-auto flex flex-col min-h-screen",children:[M.jsxs("header",{className:"text-center mb-8",children:[M.jsx("h1",{className:"text-4xl sm:text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-brand-blue to-brand-purple",children:"StoryTeller AI Beat Analysis & Prompt Architect"}),M.jsx("p",{className:"text-gray-400 mt-2 text-lg",children:"From script to SwarmUI prompt: An AI-powered production pipeline."})]}),M.jsxs("main",{className:"grid grid-cols-1 xl:grid-cols-9 gap-8 flex-grow relative",children:[!X&&M.jsx("div",{className:"xl:col-span-4",children:M.jsx(av,{script:l,setScript:n,episodeContext:o,setEpisodeContext:s,onAnalyze:le,isLoading:m,loadingMessage:y,isContextFetching:_,contextError:z,retrievalMode:Y,onRetrievalModeChange:Q,storyUuid:O,setStoryUuid:V,onToggleCollapse:()=>K(!0),styleConfig:ee,setStyleConfig:P})}),M.jsx("div",{className:X?"xl:col-span-9":"xl:col-span-5",children:M.jsx(fv,{analysis:u,isLoading:m,loadingMessage:y,error:T})}),X&&M.jsx("button",{onClick:()=>K(!1),className:"fixed top-1/2 left-4 -translate-y-1/2 z-10 p-2 bg-gray-800 rounded-full text-white hover:bg-brand-blue transition-colors shadow-lg","aria-label":"Expand Input Panel",children:M.jsx(ev,{})})]}),M.jsx("footer",{className:"text-center mt-12 py-4 border-t border-gray-800",children:M.jsxs("a",{href:"https://github.com/DNG-hub/StoryArt",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-gray-500 hover:text-gray-300 transition-colors",children:[M.jsx($y,{}),"View Project on GitHub"]})})]})})}const mh=document.getElementById("root");if(!mh)throw new Error("Could not find root element to mount to");const mC=Qy.createRoot(mh);mC.render(M.jsx(Py.StrictMode,{children:M.jsx(pC,{})}));
